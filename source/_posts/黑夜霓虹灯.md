---
title: hexo ä¸»é¢˜butterflyé¦–é¡µå­—ä½“é»‘å¤œéœ“è™¹ç¯æ•ˆæœ
tags:
  - æ•™ç¨‹
  - Hexo
  - ä¸»é¡Œ
  - butterfly
  - hexoç‰¹æ•ˆ
categories: é­”æ”¹
keywords: 'hexo,butterfly,ä¸»é¡Œ,css,ç¾åŒ–æ•™ç¨‹,hexoç¾åŒ–'
description: hexo é¦–é¡µå­—ä½“é»‘å¤œéœ“è™¹ç¯æ•ˆæœ
top_img: 'https://s2.loli.net/2022/11/26/pkLD3RTgN7GhA92.webp'
cover: 'https://s2.loli.net/2022/11/26/PeLp61JYbkMKsVw.webp'
comments: true
abbrlink: 64bbd6f1
---

é¦–é¡µçš„å¤§æ ‡é¢˜å’Œå°æ ‡é¢˜è¿˜æœ‰logoæ˜¾ç¤ºéœ“è™¹ç¯é—ªçƒ
<!-- more -->

## é»‘å¤œéœ“è™¹ç¯

æ­¤æ•™ç¨‹ä¼šæœ‰ä¸¤å¤„åœ°æ–¹æœ‰éœ“è™¹ç¯æ•ˆæœï¼šä¸€ä¸ªæ˜¯å¤§æ ‡é¢˜å’Œä¸ªäººä¿¡æ¯çš„åŠ¨æ€éœ“è™¹ç¯ï¼Œé»˜è®¤å‘¨æœŸä¸º 1200msï¼›å¦å¤–çš„æ˜¯èœå•æ çš„å°å­—æœ‰å¤œå…‰æ•ˆæœï¼Œä¸ºä½ çš„åšå®¢å¢æ·»å‡ åˆ†èµ›åšæœ‹å…‹é£ï½

### 1. é¦–å…ˆåœ¨è‡ªå®šä¹‰çš„æ ·å¼æ–‡ä»¶

 `[BlogRoot]\source\css\custom.css` ä¸­å¼•å…¥ä»¥ä¸‹ä»£ç ï¼Œè¿™éƒ¨åˆ†ä»£ç æ˜¯èœå•æ æ–‡å­—æœ‰å¤œå…‰æ•ˆæœçš„ï¼Œå˜é‡éƒ¨åˆ† `var(--theme-color)` å¯ä»¥æ¢ä¸ºè‡ªå·±å–œæ¬¢çš„é¢œè‰²ï¼Œä¾‹å¦‚ç´«è‰² `rgb(179, 71, 241)`ï¼š

~~~css
/* å¤œé—´æ¨¡å¼èœå•æ å‘å…‰å­— */
[data-theme="dark"] #nav .site-page,
[data-theme="dark"] #nav .menus_items .menus_item .menus_item_child li a {
  text-shadow: 0 0 2px var(--theme-color) !important;
}

/* æ‰‹æœºç«¯é€‚é… */
[data-theme="dark"] #sidebar #sidebar-menus .menus_items .site-page {
  text-shadow: 0 0 2px var(--theme-color) !important;
}
~~~

### 2. æ–°å»ºæ–‡ä»¶

 `[BlogRoot]\source\js\light.js` å¹¶å†™å…¥ä»¥ä¸‹ä»£ç ï¼Œæœ¬è´¨å°±æ˜¯è®¡æ—¶å™¨ï¼Œå¤§å®¶å¯ä»¥æ ¹æ®è‡ªå·±çš„å–œå¥½è°ƒèŠ‚é—ªçƒå‘¨æœŸï¼Œé»˜è®¤ä¸º `1200ms`ï¼š

~~~js
// éœ“è™¹ç¯æ•ˆæœ
// é¢œè‰²æ•°ç»„
var arr = ["#39c5bb", "#f14747", "#f1a247", "#f1ee47", "#b347f1", "#1edbff", "#ed709b", "#5636ed"];
// é¢œè‰²ç´¢å¼•
var idx = 0;

// åˆ‡æ¢é¢œè‰²
function changeColor() {
    // ä»…å¤œé—´æ¨¡å¼æ‰å¯ç”¨
    if (document.getElementsByTagName('html')[0].getAttribute('data-theme') == 'dark') {
        if (document.getElementById("site-name"))
            document.getElementById("site-name").style.textShadow = arr[idx] + " 0 0 15px";
        if (document.getElementById("site-title"))
            document.getElementById("site-title").style.textShadow = arr[idx] + " 0 0 15px";
        if (document.getElementById("site-subtitle"))
            document.getElementById("site-subtitle").style.textShadow = arr[idx] + " 0 0 10px";
        if (document.getElementById("post-info"))
            document.getElementById("post-info").style.textShadow = arr[idx] + " 0 0 5px";
        try {
            document.getElementsByClassName("author-info__name")[0].style.textShadow = arr[idx] + " 0 0 12px";
            document.getElementsByClassName("author-info__description")[0].style.textShadow = arr[idx] + " 0 0 12px";
        } catch {
            
        }
        idx++;
        if (idx == 8) {
            idx = 0;
        }
    } else {
        // ç™½å¤©æ¨¡å¼æ¢å¤é»˜è®¤
        if (document.getElementById("site-name"))
            document.getElementById("site-name").style.textShadow = "#1e1e1ee0 1px 1px 1px";
        if (document.getElementById("site-title"))
            document.getElementById("site-title").style.textShadow = "#1e1e1ee0 1px 1px 1px";
        if (document.getElementById("site-subtitle"))
            document.getElementById("site-subtitle").style.textShadow = "#1e1e1ee0 1px 1px 1px";
        if (document.getElementById("post-info"))
            document.getElementById("post-info").style.textShadow = "#1e1e1ee0 1px 1px 1px";
        try {
            document.getElementsByClassName("author-info__name")[0].style.textShadow = "";
            document.getElementsByClassName("author-info__description")[0].style.textShadow = "";
        } catch {
            
        }
    }
}

// å¼€å¯è®¡æ—¶å™¨
window.onload = setInterval(changeColor, 1200);
~~~

### 3. å¼•å…¥æ–‡ä»¶

åœ¨ä¸»é¢˜é…ç½®æ–‡ä»¶`_config.butterfly.yml` å¼•å…¥ä»¥ä¸Šä¸¤ä¸ªæ–‡ä»¶ï¼Œè¦æ³¨æ„çš„æ˜¯ï¼Œjs æ–‡ä»¶è¿™é‡Œå¿…é¡»ä¸º `defer`ï¼Œä¸èƒ½ä¸º `ansyc`ï¼Œä¿è¯è„šæœ¬ä¼šå»¶è¿Ÿåˆ°æ•´ä¸ªé¡µé¢éƒ½è§£æå®Œåå†æ‰§è¡Œï¼Œæ­¤æ—¶æ‰æœ‰å¯¹åº”çš„å…ƒç´ è¿›è¡Œæ“ä½œï¼š

~~~ymd
inject:
  head:
    - <link rel="stylesheet" href="/css/custom.css" media="defer" onload="this.media='all'">
  bottom: 
    - <script defer src="/js/light.js"></script> # éœ“è™¹ç¯(å¿…é¡»deferå¦åˆ™æœ‰æ—¶å€™ä¼šä¸ç”Ÿæ•ˆ)
~~~

### 4. é‡å¯é¡¹ç›®å³å¯çœ‹åˆ°æ•ˆæœ

```BASH
hexo cl; hexo s
```

> æ¥æºäºçŒ•çŒ´æ¡ƒå°å“¥å“¥
>
> [åšå®¢é­”æ”¹æ•™ç¨‹æ€»ç»“ (ä¸€) | FomalhautğŸ¥](https://www.fomal.cc/posts/eec9786.html)

<script type="text/javascript">
// éœ“è™¹ç¯æ•ˆæœ
// é¢œè‰²æ•°ç»„
var arr = ["#39c5bb", "#f14747", "#f1a247", "#f1ee47", "#b347f1", "#1edbff", "#ed709b", "#5636ed"];
// é¢œè‰²ç´¢å¼•
var idx = 0;

// åˆ‡æ¢é¢œè‰²
function changeColor() {
    // ä»…å¤œé—´æ¨¡å¼æ‰å¯ç”¨
    if (document.getElementsByTagName('html')[0].getAttribute('data-theme') == 'dark') {
        if (document.getElementById("site-name"))
            document.getElementById("site-name").style.textShadow = arr[idx] + " 0 0 15px";
        if (document.getElementById("site-title"))
            document.getElementById("site-title").style.textShadow = arr[idx] + " 0 0 15px";
        if (document.getElementById("site-subtitle"))
            document.getElementById("site-subtitle").style.textShadow = arr[idx] + " 0 0 10px";
        if (document.getElementById("post-info"))
            document.getElementById("post-info").style.textShadow = arr[idx] + " 0 0 5px";
        try {
            document.getElementsByClassName("author-info__name")[0].style.textShadow = arr[idx] + " 0 0 12px";
            document.getElementsByClassName("author-info__description")[0].style.textShadow = arr[idx] + " 0 0 12px";
        } catch {
            
        }
        idx++;
        if (idx == 8) {
            idx = 0;
        }
    } else {
        // ç™½å¤©æ¨¡å¼æ¢å¤é»˜è®¤
        if (document.getElementById("site-name"))
            document.getElementById("site-name").style.textShadow = "#1e1e1ee0 1px 1px 1px";
        if (document.getElementById("site-title"))
            document.getElementById("site-title").style.textShadow = "#1e1e1ee0 1px 1px 1px";
        if (document.getElementById("site-subtitle"))
            document.getElementById("site-subtitle").style.textShadow = "#1e1e1ee0 1px 1px 1px";
        if (document.getElementById("post-info"))
            document.getElementById("post-info").style.textShadow = "#1e1e1ee0 1px 1px 1px";
        try {
            document.getElementsByClassName("author-info__name")[0].style.textShadow = "";
            document.getElementsByClassName("author-info__description")[0].style.textShadow = "";
        } catch {
            
        }
    }
}

// å¼€å¯è®¡æ—¶å™¨
window.onload = setInterval(changeColor, 1200);
</script>
<style type="text/css">
/* å¤œé—´æ¨¡å¼èœå•æ å‘å…‰å­— */
[data-theme="dark"] #nav .site-page,
[data-theme="dark"] #nav .menus_items .menus_item .menus_item_child li a {
  text-shadow: 0 0 2px var(--theme-color) !important;
}

/* æ‰‹æœºç«¯é€‚é… */
[data-theme="dark"] #sidebar #sidebar-menus .menus_items .site-page {
  text-shadow: 0 0 2px var(--theme-color) !important;
}
</style> 
# <span id="percent" onclick="btf.scrollToDest(0,500)">æ•ˆæœçœ‹é¡¶éƒ¨ç‚¹å‡»æˆ‘åˆ°é¡¶éƒ¨</span>
