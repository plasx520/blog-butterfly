+function(a){function f(a){for(i in a)this.prepend('\x3ci class\x3d"tree-icon-'+a[i]+'"\x3e\x3c/i\x3e')}var b,e={style:"default",closed:!0,showline:!0,opreation:""};b=function(d,b,g){var c,k=this;b=a.extend({},e,b||{});d.addClass("sctree sctree-"+b.style);if(g)d.empty();else{c=d.children("ul:first");if(!c.length)return;b.showline&&c.addClass("sctree-showline");c.addClass("sctree-root").find("li").each(function(){var d=a(this),c=d.children();b.closed&&k.collapse(d);f.call(c.filter("div"),["item","switch"])})}c[0].onselectstart=function(){return!1};c.on("click","i.tree-icon-switch",function(){k.toggle(a(this).closest("li"))});c.on("click","i.tree-icon-item,span,a",function(){k.toggle(a(this).closest("li"))});c.on("click","span,a",function(){k.active(a(this).closest("li"))});this.tree=c};b.prototype={item:function(d){switch(a.type(d)){case "string":d=this.tree.find("li").filter(d);break;case "undefined":d=this.tree.find("li");break;default:d=a.isFunction(d.is)&&d.is("li")?d:a()}return d},collapse:function(a){this.item(a).has("ul").addClass("closed");return this},expand:function(a){this.item(a).has("ul").removeClass("closed");return this},toggle:function(a){this.item(a).has("ul").toggleClass("closed");return this},active:function(a){a=this.item(a).eq(0);this.tree.find("li.active").removeClass("active");a.addClass("active");for(a=a.parent();a.is(":hidden");)a=a.parent(),this.expand(a);return this}};a.fn.sctree=function(d,c){return this.each(function(){var e=a(this);e.data("ScTree",new b(e,d,c))})}}(jQuery);+function(a){a.extend({setMulu:function(f){function b(b,d){_body=f?"#book-content":"html,body";a(_body).animate({scrollTop:a(b).offset().top-d},200)}(new function(){return function(b,d){var c,e,f;c=a(b);e=a(d);c=c.find("h2, h3");0===c.size()&&a("#ml-u").append('\x3cli\x3e\x3cspan class\x3d"g-bg glyphicon glyphicon-info-sign padding-r-2" aria-hidden\x3d"true"\x3e\x3c/span\x3e\u6ca1\u6709\u7ae0\u8282\x3c/li\x3e');f=1;c.each(function(b){var c,g,h;h=a(this).text();h=h.replace(/^(\s|\u00A0)+/,"").replace(/(\s|\u00A0)+$/,"");""!==h&&(a(this).attr("id","articleHeader"+b),g=parseInt(a(this)[0].tagName.slice(1)),0===b||g===f?(c=a('\x3cli\x3e\x3cspan class\x3d"g-bg glyphicon glyphicon-triangle-right" aria-hidden\x3d"true"\x3e\x3c/span\x3e\x3ca href\x3d"#articleHeader'+b+'"\x3e\x3c/a\x3e\x3c/li\x3e'),c.find("a").text(h),e.append(c)):g>f?(c=a("\x3cli\x3e\x3cul class\x3d'ml-sub'\x3e\x3cli\x3e\x3cspan class\x3d'g-bg glyphicon glyphicon-triangle-right' aria-hidden\x3d'true'\x3e\x3c/span\x3e\x3ca href\x3d\"#articleHeader"+b+'"\x3e\x3c/a\x3e\x3c/li\x3e\x3c/ul\x3e\x3c/li\x3e'),c.find("a").text(h),e.append(c),e=c.find("ul")):f>g&&(1===g?(c=a('\x3cli\x3e\x3cspan class\x3d"g-bg glyphicon glyphicon-triangle-right" aria-hidden\x3d"true"\x3e\x3c/span\x3e\x3ca href\x3d"#articleHeader'+b+'"\x3e\x3c/a\x3e\x3c/li\x3e'),c.find("a").text(h),a(d).append(c),e=a(d)):(c=a("\x3cli\x3e\x3cul class\x3d'ml-sub'\x3e\x3cli\x3e\x3cspan class\x3d'g-bg glyphicon glyphicon-triangle-right' aria-hidden\x3d'true'\x3e\x3c/span\x3e\x3ca href\x3d\"#articleHeader"+b+'"\x3e\x3c/a\x3e\x3c/li\x3e\x3c/ul\x3e\x3c/li\x3e'),c.find("a").text(h),e.parents("ul").parents("ul").length?(e.parents("ul").parents("ul").append(c),e=c.find("ul")):(c=a('\x3cli\x3e\x3cspan class\x3d"g-bg glyphicon glyphicon-triangle-right" aria-hidden\x3d"true"\x3e\x3c/span\x3e\x3ca href\x3d"#articleHeader'+b+'"\x3e\x3c/a\x3e\x3c/li\x3e'),c.find("a").text(h),a(d).append(c),e=a(d)))),f=g)});(c=location.hash)&&a(window).scrollTop(a(c).offset().top)}})(".m-bg","#ml-u");a("#ml-u a").click(function(){a("#ml-u li").removeClass("active");a(this).parent().addClass("active");if(""==f)return b(a(this).attr("href"),60),!1});var e=window.location.href,d=e.indexOf("#article");0<d&&(f?b(e.substring(d),85):window.onload=function(){b(e.substring(d),60)});a("#ml-zj").click(function(){$zj_span=a(this).find("span");"glyphicon glyphicon-plus"==$zj_span.attr("class")?$zj_span.attr("class","glyphicon glyphicon-minus"):$zj_span.attr("class","glyphicon glyphicon-plus");var c=a(window).height()-252;a("#ml").toggle(300,function(){a("#ml-u").height()>c&&(c="overflow: auto;height:"+c+"px",a("#ml-u").attr("style",c))})})}})}(jQuery);+function(a){a.extend({setDingyue:function(f,b){a("#dingyue").click(function(){a(this).attr("data-id");a(".denglu").empty();a(".denglu").append('\x3cimg alt\x3d"\u8fdb\u5ea6\u6761" src\x3d"/static/images/loading.gif"\x3e');a.get(f,function(e){a(".denglu").empty();$dy_tag=a("#dy-tag");switch(e){case "0":a(".denglu").append(a("\x3ca\x3e").attr("rel","nofollow").attr("target","_blank").attr("class","btn btn-xs btn-warning").attr("href","/main/login").append('\x3cspan aria-hidden\x3d"true" class\x3d"glyphicon glyphicon-log-in margin-r-2"\x3e\x3c/span\x3e\u767b\u5f55'));break;case "1":a("#msg").text("\u5df2"+b);$dy_tag.removeClass("glyphicon-heart-empty");$dy_tag.addClass("glyphicon-heart");break;case "2":a("#msg").text(b);$dy_tag.removeClass("glyphicon-heart");$dy_tag.addClass("glyphicon-heart-empty");break;default:a(".denglu").append("\u5f02\u5e38\u4e86")}})})}})}(jQuery);+function(a){a.extend({setGaoliang:function(f,b){f&&(a("pre").addClass("prettyprint linenums"),prettyPrint());a.runsl();b&&(a("pre").each(function(){a(this).data("p-source",this.innerText||this.textContent)}),a("pre").each(function(){var b=a(this);a('\x3cdiv\x3e\x3cspan class\x3d"fu"\x3e\x3cspan class\x3d"glyphicon glyphicon-copy margin-r-2" aria-hidden\x3d"true"\x3e\x3c/span\x3e\u590d\u5236\x3c/span\x3e\x3c/div\x3e').addClass("p-copy").appendTo(b).zclip({path:"/themes/zhan/styles/js/zclip/ZeroClipboard.swf",afterCopy:function(){b.find(".fu").html('\x3cspan class\x3d"glyphicon glyphicon-copy margin-r-2" aria-hidden\x3d"true"\x3e\x3c/span\x3e\u6210\u529f\u590d\u5236')},copy:function(){return b.closest("pre").data("p-source")}})}))}})}(jQuery);+function(a){a.extend({setDefault:function(f){a(".disabled a").removeAttr("href");(function(){a(window).scroll(function(){100<a(window).scrollTop()?a("div[class\x3dtop_scroll]").fadeIn():a("div[class\x3dtop_scroll]").fadeOut()});a("#_top").click(function(){a("html,body").animate({scrollTop:0},200)});a("#_bottom").click(function(){a("html,body").animate({scrollTop:a("body").height()},200)})})();a("input[type\x3dfile]").change(function(){a("#tmp_file").val(a(this).val())});a('.navbar-nav a[href$\x3d"'+f+'"]').parent().addClass("active-b");a("#myTab a").mouseover(function(){a("#myTab .active").removeClass("active");a("#myTabContent .active").removeClass("active");var b=a(this).attr("data-id");a(this).parent().addClass("active");a("#"+b).addClass("in active")});a("table").attr("class","table table-striped table-bordered table-condensed");900<window.innerWidth&&(a("#bs-navbar-collapse .dropdown-toggle").mouseenter(function(){$p_li=a(this).parent();$p_li.hasClass("open")||a(this).dropdown("toggle")}),a("#bs-navbar-collapse .navbar-nav \x3e li").mouseleave(function(){a(this).removeClass("open")}));a("#post-content").delegate("a","click",function(){a(this).hasClass("btn")||a(this).hasClass("mwb")||a(this).attr("href").indexOf("#")&&a(this).attr("target","_blank")})}})}(jQuery);+function(a){a.extend({setSucha:function(f,b,e,d,c){a("#keyword").on("keyup",function(){var g=a(this).val();g&&(a("#search_result").html('\x3cli class\x3d"list-group-item item-h text-center"\x3e\x3cimg src\x3d"/static/images/loading.gif" class\x3d"margin-r-2" alt\x3d"\u67e5\u8be2\u4e2d"\x3e\u67e5\u8be2\u4e2d...\x3c/li\x3e'),a.getJSON(d,{modelName:f,keyword:g,type:b,category:e},function(b){var d="";b&&0<b.length?a.each(b,function(a,b){var e=b.title,e=e.replace(new RegExp("("+g+")","gmi"),'\x3cspan style\x3d"color:red"\x3e$1\x3c/span\x3e');d+='\x3cli class\x3d"list-group-item item-h"\x3e\x3cspan\x3e'+('\x3ca href\x3d"'+c+b.id+'" target\x3d"_blank"\x3e'+e+"\x3c/a\x3e")+"\x3c/span\x3e\x3c/li\x3e"}):d='\x3cli class\x3d"list-group-item item-h text-center"\x3e\x3cspan class\x3d"g-bg glyphicon glyphicon-info-sign margin-r-2" aria-hidden\x3d"true"\x3e\x3c/span\x3e\u6ca1\u6709\u67e5\u8be2\u5230\u6570\u636e\uff01\x3c/li\x3e';a("#search_result").html(d)}));a("#search_result").show();a("#search").on("mouseleave",function(){a("#search_result").removeClass("overflow-550").hide()});a("#search").on("mouseover",function(){a("#search_result").addClass("overflow-550").show()});a("#keyword").on("focus",function(){a("#search_result").addClass("overflow-550").show()})})}})}(jQuery);+function(a){a.extend({setGaodu:function(f,b){function e(){var d=a(window).height(),c=d-116,d=d-71;a("#s-off").attr("style","position:absolute;right:6px;bottom:"+c/2+"px").click(function(){a("#d-wzml").addClass("display_none");a("#d-nr").attr("class","col-md-12");a("#s-on").removeAttr("class")});a("#s-on").attr("style","position:absolute;left:6px;bottom:"+d/2+"px").click(function(){a("#d-wzml").removeClass("display_none");a("#d-nr").attr("class","col-md-9");a(this).attr("class","display_none")});c="height:"+c+"px";d="height:"+d+"px";a(f).attr("style",c);a(b).attr("style",d)}a(window).resize(function(){e()});e();a(".top-tree").click(function(){a("#"+a(this).data("id")).animate({scrollTop:0},200)});a(".down-tree").click(function(){a("#"+a(this).data("id")).animate({scrollTop:1E5},200)})}})}(jQuery);+function(a){a.extend({setBook:function(){function f(){a.setDefault(null);a("#fenge").offset().top-61<a("#book-content").height()&&a("#p-tool").addClass("padding-r-76");a(".denglu").empty()}a.pjax({selector:".book-a",container:"#book-content",show:"fade",cache:!0,storage:!0,titleSuffix:" - \u5728\u7ebf\u6587\u6863 - \u624b\u518c\u7f51",filter:function(){},callback:f});f();a("#book-content").delegate(".book-a","click",function(b){a("li.active").removeClass("active");b=a(this).attr("href");b=b.replace(/[^0-9]/ig,"");a("#l-"+b).addClass("active")});a("#book-content").bind("pjax.start",function(){a("#book-content").animate({scrollTop:0},200);a("#book-progress").show()});a("#book-content").bind("pjax.end",function(){a("#book-progress").hide()});a.setGaodu("#book-title","#book-content")}})}(jQuery);+function(a){a.extend({setPinglun:function(f){a("#send-pl").click(function(){$msg=a("#send-msg");$comment=a("#Comment_content");if(""==$comment.val())return $msg.html('\x3cspan class\x3d"alert alert-warning padding-5"\x3e\x3cspan class\x3d"g-bg glyphicon glyphicon-remove-sign margin-r-2" aria-hidden\x3d"true"\x3e\x3c/span\x3e\u5185\u5bb9\u4e0d\u53ef\u7a7a\x3c/span\x3e'),$comment.focus(),!1;$msg.html('\x3cspan class\x3d"alert alert-warning padding-5"\x3e\x3cimg alt\x3d"\u53d1\u9001\u4e2d" src\x3d"/static/images/loading.gif"\x3e\x26nbsp;\u6b63\u5728\u53d1\u9001\x3c/span\x3e');a.ajax({type:"POST",url:"/index.php?r\x3dadmin/comment/create",data:a("#comment-form").serialize(),success:function(b){b=a.parseJSON(b);var e='\x3cspan class\x3d"alert alert-warning padding-5"\x3e\x3cspan class\x3d"g-bg glyphicon glyphicon-remove-sign margin-r-2" aria-hidden\x3d"true"\x3e\x3c/span\x3e'+b.val+"\x3c/span\x3e";switch(b.name){case "ok":e='\x3cspan class\x3d"alert alert-success padding-5"\x3e\x3cspan class\x3d"glyphicon glyphicon-ok-circle margin-r-2" aria-hidden\x3d"true"\x3e\x3c/span\x3e\u53d1\u8868\u6210\u529f\x3c/span\x3e';a("#Comment_content").val("");a.fn.yiiListView.update("ajaxListView",{url:f});break;case "isGuest":e='\x3ca href\x3d"/main/login" class\x3d"btn btn-sm btn-warning color-f" target\x3d"_blank"\x3e\x3cspan aria-hidden\x3d"true" class\x3d"glyphicon glyphicon-log-in margin-r-2"\x3e\x3c/span\x3e\u4f1a\u5458\u767b\u5f55\x3c/a\x3e'}$msg.html(e)}});return!1});a("#comment-list").delegate(".huifu-pl","click",function(){"yes"==a(this).data("type")&&(a("#huifu-user").html('\x3cspan class\x3d"alert alert-warning padding-2"\x3e\x3cspan class\x3d"g-bg glyphicon glyphicon-share-alt margin-r-5" aria-hidden\x3d"true"\x3e\x3c/span\x3e\u56de\u590d\uff1a'+a(this).data("name")+'\x3c/span\x3e\x3cspan class\x3d"alert alert-warning margin-l-5 padding-2 cursor_p huifu-pl" onclick\x3d"close_pl();"\x3e\x3cspan class\x3d"g-bg glyphicon glyphicon-remove-circle margin-r-5" aria-hidden\x3d"true"\x3e\x3c/span\x3e\u53d6\u6d88\x3c/span\x3e'),a("#Comment_p_id").val(a(this).data("id")),a("#Comment_content").focus(),a("#book-content").animate({scrollTop:a("#post-content")[0].scrollHeight+25},200))});a("#comment-list").delegate(".delete-pl","click",function(){if(!confirm("\u786e\u5b9a\u8981\u5220\u9664\u5417\uff1f"))return!1;var b=a(this).data("id");a.get("/admin/comment/delete",{id:b},function(e){e&&a("#c-"+b).slideUp(300,function(){a(this).remove()})})})}})}(jQuery);+function(a){a.extend({setTreeSearch:function(f,b){a("#"+f).on("keyup",function(){var e=a(this).val(),d=a("#"+b),c,f=d.data("ScTree");f.collapse(d.find("li"));a(".sctree .active").removeClass("active");e&&a("#"+b+" a").each(function(){if(null!=a(this).text().match(new RegExp(e,"i")))for(c=a(this).parent().parent(),c=c.addClass("active").parent();!c.hasClass("sctree-root")||c.is(":hidden");)c=c.parent(),f.expand(c),c=c.parent()})})}})}(jQuery);+function(a){a.extend({runsl:function(){a(".runsl").each(function(){var f=this;a('\x3ca class\x3d"btn btn-sm btn-success margin-b-5" target\x3d"_blank" href\x3d"/study/api/s/8/runsl"\x3e\u8fd0\u884c\u4e00\u4e0b\x3c/a\x3e').insertAfter(f).bind("click",function(){var b=a(f).text();if(window.localStorage)try{localStorage.setItem("run_code",b)}catch(d){"QuotaExceededError"==d.name&&(localStorage.clear(),localStorage.setItem("run_code",b))}else{var e=window.open();e.document.write(b);e.document.close();return!1}})})}})}(jQuery);$(function(){$("body").delegate(".mySave","click",function(){if(!$(this).hasClass("tmpSave")){$(this).addClass("tmpSave");$("#my-save-hide").remove();$("\x3cdiv id\x3d'my-save-hide'\x3e\x3c/div\x3e").insertAfter("#header-nav");var a=$(this).data("id"),f=$(this).data("url");$my_save_em=$("#my-save-hide");$my_save_em.html('\x3cimg alt\x3d"\u52a0\u8f7d\u4e2d" src\x3d"/themes/zhan/styles/images/load.gif" style\x3d"position: fixed;top: 38%;left: 48%;z-index:999"\x3e');$my_save_em.load(f,{id:a},function(){});setTimeout(function(){$(".tmpSave").removeClass("tmpSave")},2E3)}})});