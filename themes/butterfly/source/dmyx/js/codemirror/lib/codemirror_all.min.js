///<jscompress sourcefile="codemirror.js" />
(function(p){if("object"==typeof exports&&"object"==typeof module)module.exports=p();else{if("function"==typeof define&&define.amd)return define([],p);(this||window).CodeMirror=p()}})(function(){function p(c,f){if(!(this instanceof p))return new p(c,f);this.options=f=f?ib(f):{};ib(yf,f,!1);B(f);var h=f.value;"string"==typeof h&&(h=new Sa(h,f.mode,null,f.lineSeparator));this.doc=h;var q=new p.inputStyles[f.inputStyle](this),q=this.display=new b(c,h,q);q.wrapper.CodeMirror=this;g(this);m(this);f.lineWrapping&&(this.display.wrapper.className+=" CodeMirror-wrap");f.autofocus&&!tc&&q.input.focus();C(this);this.state={keyMaps:[],overlays:[],modeGen:0,overwrite:!1,delayingBlurEvent:!1,focused:!1,suppressEdits:!1,pasteIncoming:!1,cutIncoming:!1,selectingText:!1,draggingText:!1,highlight:new Jb,keySeq:null,specialChars:null};var t=this;ca&&11>na&&setTimeout(function(){t.display.input.reset(!0)},20);zf(this);ee||(Af(),ee=!0);dc(this);this.curOp.forceUpdate=!0;fe(this,h);f.autofocus&&!tc||t.hasFocus()?setTimeout(uc(zd,this),20):vc(this);for(var l in ec)if(ec.hasOwnProperty(l))ec[l](this,f[l],ge);P(this);f.finishInit&&f.finishInit(this);for(h=0;h<Ad.length;++h)Ad[h](this);fc(this);Aa&&f.lineWrapping&&"optimizelegibility"==getComputedStyle(q.lineDiv).textRendering&&(q.lineDiv.style.textRendering="auto")}function b(c,f,h){this.input=h;this.scrollbarFiller=O("div",null,"CodeMirror-scrollbar-filler");this.scrollbarFiller.setAttribute("cm-not-content","true");this.gutterFiller=O("div",null,"CodeMirror-gutter-filler");this.gutterFiller.setAttribute("cm-not-content","true");this.lineDiv=O("div",null,"CodeMirror-code");this.selectionDiv=O("div",null,null,"position: relative; z-index: 1");this.cursorDiv=O("div",null,"CodeMirror-cursors");this.measure=O("div",null,"CodeMirror-measure");this.lineMeasure=O("div",null,"CodeMirror-measure");this.lineSpace=O("div",[this.measure,this.lineMeasure,this.selectionDiv,this.cursorDiv,this.lineDiv],null,"position: relative; outline: none");this.mover=O("div",[O("div",[this.lineSpace],"CodeMirror-lines")],null,"position: relative");this.sizer=O("div",[this.mover],"CodeMirror-sizer");this.sizerWidth=null;this.heightForcer=O("div",null,null,"position: absolute; height: "+he+"px; width: 1px;");this.gutters=O("div",null,"CodeMirror-gutters");this.lineGutter=null;this.scroller=O("div",[this.sizer,this.heightForcer,this.gutters],"CodeMirror-scroll");this.scroller.setAttribute("tabIndex","-1");this.wrapper=O("div",[this.scrollbarFiller,this.gutterFiller,this.scroller],"CodeMirror");ca&&8>na&&(this.gutters.style.zIndex=-1,this.scroller.style.paddingRight=0);Aa||Ab&&tc||(this.scroller.draggable=!0);c&&(c.appendChild?c.appendChild(this.wrapper):c(this.wrapper));this.reportedViewFrom=this.reportedViewTo=this.viewFrom=this.viewTo=f.first;this.view=[];this.externalMeasured=this.renderedView=null;this.lastWrapHeight=this.lastWrapWidth=this.viewOffset=0;this.updateLineNumbers=null;this.nativeBarWidth=this.barHeight=this.barWidth=0;this.scrollbarsClipped=!1;this.lineNumWidth=this.lineNumInnerWidth=this.lineNumChars=null;this.alignWidgets=!1;this.maxLine=this.cachedCharWidth=this.cachedTextHeight=this.cachedPaddingH=null;this.maxLineLength=0;this.maxLineChanged=!1;this.wheelDX=this.wheelDY=this.wheelStartX=this.wheelStartY=null;this.shift=!1;this.activeTouch=this.selForContextMenu=null;h.init(this)}function v(c){c.doc.mode=p.getMode(c.options,c.doc.modeOption);u(c)}function u(c){c.doc.iter(function(c){c.stateAfter&&(c.stateAfter=null);c.styles&&(c.styles=null)});c.doc.frontier=c.doc.first;ob(c,100);c.state.modeGen++;c.curOp&&La(c)}function n(c){var f=Kb(c.display),h=c.options.lineWrapping,q=h&&Math.max(5,c.display.scroller.clientWidth/wc(c.display)-3);return function(t){if(Lb(c.doc,t))return 0;var l=0;if(t.widgets)for(var a=0;a<t.widgets.length;a++)t.widgets[a].height&&(l+=t.widgets[a].height);return h?l+(Math.ceil(t.text.length/q)||1)*f:l+f}}function r(c){var f=c.doc,h=n(c);f.iter(function(c){var f=h(c);f!=c.height&&pb(c,f)})}function m(c){c.display.wrapper.className=c.display.wrapper.className.replace(/\s*cm-s-\S+/g,"")+c.options.theme.replace(/(^|\s)\s*/g," cm-s-");xc(c)}function k(c){g(c);La(c);setTimeout(function(){D(c)},20)}function g(c){var f=c.display.gutters,h=c.options.gutters;Mb(f);for(var q=0;q<h.length;++q){var t=h[q],l=f.appendChild(O("div",null,"CodeMirror-gutter "+t));"CodeMirror-linenumbers"==t&&(c.display.lineGutter=l,l.style.width=(c.display.lineNumWidth||1)+"px")}f.style.display=q?"":"none";a(c)}function a(c){c.display.sizer.style.marginLeft=c.display.gutters.offsetWidth+"px"}function d(c){if(0==c.height)return 0;for(var f=c.text.length,h,q=c;h=Nb(q,!0);)h=h.find(0,!0),q=h.from.line,f+=h.from.ch-h.to.ch;for(q=c;h=Nb(q,!1);)h=h.find(0,!0),f-=q.text.length-h.from.ch,q=h.to.line,f+=q.text.length-h.to.ch;return f}function e(c){var f=c.display;c=c.doc;f.maxLine=Q(c,c.first);f.maxLineLength=d(f.maxLine);f.maxLineChanged=!0;c.iter(function(c){var q=d(c);q>f.maxLineLength&&(f.maxLineLength=q,f.maxLine=c)})}function B(c){var f=Ca(c.gutters,"CodeMirror-linenumbers");-1==f&&c.lineNumbers?c.gutters=c.gutters.concat(["CodeMirror-linenumbers"]):-1<f&&!c.lineNumbers&&(c.gutters=c.gutters.slice(0),c.gutters.splice(f,1))}function E(c){var f=c.display,h=f.gutters.offsetWidth,q=Math.round(c.doc.height+yc(c.display));return{clientHeight:f.scroller.clientHeight,viewHeight:f.wrapper.clientHeight,scrollWidth:f.scroller.scrollWidth,clientWidth:f.scroller.clientWidth,viewWidth:f.wrapper.clientWidth,barLeft:c.options.fixedGutter?h:0,docHeight:q,scrollHeight:q+x(c)+f.barHeight,nativeBarWidth:f.nativeBarWidth,gutterWidth:h}}function G(c,f,h){this.cm=h;var q=this.vert=O("div",[O("div",null,null,"min-width: 1px")],"CodeMirror-vscrollbar"),t=this.horiz=O("div",[O("div",null,null,"height: 100%; min-height: 1px")],"CodeMirror-hscrollbar");c(q);c(t);T(q,"scroll",function(){q.clientHeight&&f(q.scrollTop,"vertical")});T(t,"scroll",function(){t.clientWidth&&f(t.scrollLeft,"horizontal")});this.checkedZeroWidth=!1;ca&&8>na&&(this.horiz.style.minHeight=this.vert.style.minWidth="18px")}function w(){}function C(c){c.display.scrollbars&&(c.display.scrollbars.clear(),c.display.scrollbars.addClass&&zc(c.display.wrapper,c.display.scrollbars.addClass));c.display.scrollbars=new p.scrollbarModel[c.options.scrollbarStyle](function(f){c.display.wrapper.insertBefore(f,c.display.scrollbarFiller);T(f,"mousedown",function(){c.state.focused&&setTimeout(function(){c.display.input.focus()},0)});f.setAttribute("cm-not-content","true")},function(f,h){"horizontal"==h?gc(c,f):Ac(c,f)},c);c.display.scrollbars.addClass&&Bc(c.display.wrapper,c.display.scrollbars.addClass)}function H(c,f){f||(f=E(c));var h=c.display.barWidth,q=c.display.barHeight;y(c,f);for(var t=0;4>t&&h!=c.display.barWidth||q!=c.display.barHeight;t++)h!=c.display.barWidth&&c.options.lineWrapping&&Ea(c),y(c,E(c)),h=c.display.barWidth,q=c.display.barHeight}function y(c,f){var h=c.display,q=h.scrollbars.update(f);h.sizer.style.paddingRight=(h.barWidth=q.right)+"px";h.sizer.style.paddingBottom=(h.barHeight=q.bottom)+"px";q.right&&q.bottom?(h.scrollbarFiller.style.display="block",h.scrollbarFiller.style.height=q.bottom+"px",h.scrollbarFiller.style.width=q.right+"px"):h.scrollbarFiller.style.display="";q.bottom&&c.options.coverGutterNextToScrollbar&&c.options.fixedGutter?(h.gutterFiller.style.display="block",h.gutterFiller.style.height=q.bottom+"px",h.gutterFiller.style.width=f.gutterWidth+"px"):h.gutterFiller.style.display=""}function I(c,f,h){var q=h&&null!=h.top?Math.max(0,h.top):c.scroller.scrollTop,q=Math.floor(q-c.lineSpace.offsetTop),t=h&&null!=h.bottom?h.bottom:q+c.wrapper.clientHeight,q=Ob(f,q),t=Ob(f,t);if(h&&h.ensure){var l=h.ensure.from.line;h=h.ensure.to.line;l<q?(q=l,t=Ob(f,qb(Q(f,l))+c.wrapper.clientHeight)):Math.min(h,f.lastLine())>=t&&(q=Ob(f,qb(Q(f,h))-c.wrapper.clientHeight),t=h)}return{from:q,to:Math.max(t,q+1)}}function D(c){var f=c.display,h=f.view;if(f.alignWidgets||f.gutters.firstChild&&c.options.fixedGutter){for(var q=R(f)-f.scroller.scrollLeft+c.doc.scrollLeft,t=f.gutters.offsetWidth,l=q+"px",a=0;a<h.length;a++)if(!h[a].hidden){c.options.fixedGutter&&h[a].gutter&&(h[a].gutter.style.left=l);var d=h[a].alignable;if(d)for(var e=0;e<d.length;e++)d[e].style.left=l}c.options.fixedGutter&&(f.gutters.style.left=q+t+"px")}}function P(c){if(!c.options.lineNumbers)return!1;var f=c.doc,f=K(c.options,f.first+f.size-1),h=c.display;if(f.length!=h.lineNumChars){var q=h.measure.appendChild(O("div",[O("div",f)],"CodeMirror-linenumber CodeMirror-gutter-elt")),t=q.firstChild.offsetWidth,q=q.offsetWidth-t;h.lineGutter.style.width="";h.lineNumInnerWidth=Math.max(t,h.lineGutter.offsetWidth-q)+1;h.lineNumWidth=h.lineNumInnerWidth+q;h.lineNumChars=h.lineNumInnerWidth?f.length:-1;h.lineGutter.style.width=h.lineNumWidth+"px";a(c);return!0}return!1}function K(c,f){return String(c.lineNumberFormatter(f+c.firstLineNumber))}function R(c){return c.scroller.getBoundingClientRect().left-c.sizer.getBoundingClientRect().left}function L(c,f,h){var q=c.display;this.viewport=f;this.visible=I(q,c.doc,f);this.editorIsHidden=!q.wrapper.offsetWidth;this.wrapperHeight=q.wrapper.clientHeight;this.wrapperWidth=q.wrapper.clientWidth;this.oldDisplayWidth=z(c);this.force=h;this.dims=ia(c);this.events=[]}function U(c,f){var h=c.display,q=c.doc;if(f.editorIsHidden)return Bb(c),!1;if(!f.force&&f.visible.from>=h.viewFrom&&f.visible.to<=h.viewTo&&(null==h.updateLineNumbers||h.updateLineNumbers>=h.viewTo)&&h.renderedView==h.view&&0==ie(c))return!1;P(c)&&(Bb(c),f.dims=ia(c));var t=q.first+q.size,l=Math.max(f.visible.from-c.options.viewportMargin,q.first),a=Math.min(t,f.visible.to+c.options.viewportMargin);h.viewFrom<l&&20>l-h.viewFrom&&(l=Math.max(q.first,h.viewFrom));h.viewTo>a&&20>h.viewTo-a&&(a=Math.min(t,h.viewTo));Cb&&(l=Bd(c.doc,l),a=je(c.doc,a));q=l!=h.viewFrom||a!=h.viewTo||h.lastWrapHeight!=f.wrapperHeight||h.lastWrapWidth!=f.wrapperWidth;t=c.display;0==t.view.length||l>=t.viewTo||a<=t.viewFrom?(t.view=Vc(c,l,a),t.viewFrom=l):(t.viewFrom>l?t.view=Vc(c,l,t.viewFrom).concat(t.view):t.viewFrom<l&&(t.view=t.view.slice(Pb(c,l))),t.viewFrom=l,t.viewTo<a?t.view=t.view.concat(Vc(c,t.viewTo,a)):t.viewTo>a&&(t.view=t.view.slice(0,Pb(c,a))));t.viewTo=a;h.viewOffset=qb(Q(c.doc,h.viewFrom));c.display.mover.style.top=h.viewOffset+"px";a=ie(c);if(!q&&0==a&&!f.force&&h.renderedView==h.view&&(null==h.updateLineNumbers||h.updateLineNumbers>=h.viewTo))return!1;l=rb();4<a&&(h.lineDiv.style.display="none");Fa(c,h.updateLineNumbers,f.dims);4<a&&(h.lineDiv.style.display="");h.renderedView=h.view;l&&rb()!=l&&l.offsetHeight&&l.focus();Mb(h.cursorDiv);Mb(h.selectionDiv);h.gutters.style.height=h.sizer.style.minHeight=0;q&&(h.lastWrapHeight=f.wrapperHeight,h.lastWrapWidth=f.wrapperWidth,ob(c,400));h.updateLineNumbers=null;return!0}function aa(c,f){for(var h=f.viewport,q=!0;;q=!1){if(!q||!c.options.lineWrapping||f.oldDisplayWidth==z(c))if(h&&null!=h.top&&(h={top:Math.min(c.doc.height+yc(c.display)-qa(c),h.top)}),f.visible=I(c.display,c.doc,h),f.visible.from>=c.display.viewFrom&&f.visible.to<=c.display.viewTo)break;if(!U(c,f))break;Ea(c);q=E(c);Ta(c);ua(c,q);H(c,q)}f.signal(c,"update",c);if(c.display.viewFrom!=c.display.reportedViewFrom||c.display.viewTo!=c.display.reportedViewTo)f.signal(c,"viewportChange",c,c.display.viewFrom,c.display.viewTo),c.display.reportedViewFrom=c.display.viewFrom,c.display.reportedViewTo=c.display.viewTo}function V(c,f){var h=new L(c,f);if(U(c,h)){Ea(c);aa(c,h);var q=E(c);Ta(c);ua(c,q);H(c,q);h.finish()}}function ua(c,f){c.display.sizer.style.minHeight=f.docHeight+"px";var h=f.docHeight+c.display.barHeight;c.display.heightForcer.style.top=h+"px";c.display.gutters.style.height=Math.max(h+x(c),f.clientHeight)+"px"}function Ea(c){c=c.display;for(var f=c.lineDiv.offsetTop,h=0;h<c.view.length;h++){var q=c.view[h],t;if(!q.hidden){if(ca&&8>na){var l=q.node.offsetTop+q.node.offsetHeight;t=l-f;f=l}else t=q.node.getBoundingClientRect(),t=t.bottom-t.top;l=q.line.height-t;2>t&&(t=Kb(c));if(.001<l||-.001>l)if(pb(q.line,t),oa(q.line),q.rest)for(t=0;t<q.rest.length;t++)oa(q.rest[t])}}}function oa(c){if(c.widgets)for(var f=0;f<c.widgets.length;++f)c.widgets[f].height=c.widgets[f].node.parentNode.offsetHeight}function ia(c){for(var f=c.display,h={},q={},t=f.gutters.clientLeft,l=f.gutters.firstChild,a=0;l;l=l.nextSibling,++a)h[c.options.gutters[a]]=l.offsetLeft+l.clientLeft+t,q[c.options.gutters[a]]=l.clientWidth;return{fixedPos:R(f),gutterTotalWidth:f.gutters.offsetWidth,gutterLeft:h,gutterWidth:q,wrapperWidth:f.wrapper.clientWidth}}function Fa(c,f,h){function q(f){var h=f.nextSibling;Aa&&jb&&c.display.currentWheelTarget==f?f.style.display="none":f.parentNode.removeChild(f);return h}for(var t=c.display,l=c.options.lineNumbers,a=t.lineDiv,d=a.firstChild,e=t.view,t=t.viewFrom,g=0;g<e.length;g++){var b=e[g];if(!b.hidden)if(b.node&&b.node.parentNode==a){for(;d!=b.node;)d=q(d);d=l&&null!=f&&f<=t&&b.lineNumber;b.changes&&(-1<Ca(b.changes,"gutter")&&(d=!1),Va(c,b,t,h));d&&(Mb(b.lineNumber),b.lineNumber.appendChild(document.createTextNode(K(c.options,t))));d=b.node.nextSibling}else{var k=N(c,b,t,h);a.insertBefore(k,d)}t+=b.size}for(;d;)d=q(d)}function Va(c,f,h,q){for(var t=0;t<f.changes.length;t++){var l=f.changes[t];if("text"==l){var l=f,a=l.text.className,d=ea(c,l);l.text==l.node&&(l.node=d.pre);l.text.parentNode.replaceChild(d.pre,l.text);l.text=d.pre;d.bgClass!=l.bgClass||d.textClass!=l.textClass?(l.bgClass=d.bgClass,l.textClass=d.textClass,pa(l)):a&&(l.text.className=a)}else if("gutter"==l)va(c,f,h,q);else if("class"==l)pa(f);else if("widget"==l){l=c;a=f;d=q;a.alignable&&(a.alignable=null);for(var e=a.node.firstChild,g=void 0;e;e=g)g=e.nextSibling,"CodeMirror-linewidget"==e.className&&a.node.removeChild(e);ja(l,a,d)}}f.changes=null}function da(c){c.node==c.text&&(c.node=O("div",null,null,"position: relative"),c.text.parentNode&&c.text.parentNode.replaceChild(c.node,c.text),c.node.appendChild(c.text),ca&&8>na&&(c.node.style.zIndex=2));return c.node}function ea(c,f){var h=c.display.externalMeasured;return h&&h.line==f.line?(c.display.externalMeasured=null,f.measure=h.measure,h.built):ke(c,f)}function pa(c){var f=c.bgClass?c.bgClass+" "+(c.line.bgClass||""):c.line.bgClass;f&&(f+=" CodeMirror-linebackground");if(c.background)f?c.background.className=f:(c.background.parentNode.removeChild(c.background),c.background=null);else if(f){var h=da(c);c.background=h.insertBefore(O("div",null,f),h.firstChild)}c.line.wrapClass?da(c).className=c.line.wrapClass:c.node!=c.text&&(c.node.className="");c.text.className=(c.textClass?c.textClass+" "+(c.line.textClass||""):c.line.textClass)||""}function va(c,f,h,q){f.gutter&&(f.node.removeChild(f.gutter),f.gutter=null);f.gutterBackground&&(f.node.removeChild(f.gutterBackground),f.gutterBackground=null);if(f.line.gutterClass){var t=da(f);f.gutterBackground=O("div",null,"CodeMirror-gutter-background "+f.line.gutterClass,"left: "+(c.options.fixedGutter?q.fixedPos:-q.gutterTotalWidth)+"px; width: "+q.gutterTotalWidth+"px");t.insertBefore(f.gutterBackground,f.text)}var l=f.line.gutterMarkers;if(c.options.lineNumbers||l){var t=da(f),a=f.gutter=O("div",null,"CodeMirror-gutter-wrapper","left: "+(c.options.fixedGutter?q.fixedPos:-q.gutterTotalWidth)+"px");c.display.input.setUneditable(a);t.insertBefore(a,f.text);f.line.gutterClass&&(a.className+=" "+f.line.gutterClass);!c.options.lineNumbers||l&&l["CodeMirror-linenumbers"]||(f.lineNumber=a.appendChild(O("div",K(c.options,h),"CodeMirror-linenumber CodeMirror-gutter-elt","left: "+q.gutterLeft["CodeMirror-linenumbers"]+"px; width: "+c.display.lineNumInnerWidth+"px")));if(l)for(f=0;f<c.options.gutters.length;++f)h=c.options.gutters[f],(t=l.hasOwnProperty(h)&&l[h])&&a.appendChild(O("div",[t],"CodeMirror-gutter-elt","left: "+q.gutterLeft[h]+"px; width: "+q.gutterWidth[h]+"px"))}}function N(c,f,h,q){var t=ea(c,f);f.text=f.node=t.pre;t.bgClass&&(f.bgClass=t.bgClass);t.textClass&&(f.textClass=t.textClass);pa(f);va(c,f,h,q);ja(c,f,q);return f.node}function ja(c,f,h){Ba(c,f.line,f,h,!0);if(f.rest)for(var q=0;q<f.rest.length;q++)Ba(c,f.rest[q],f,h,!1)}function Ba(c,f,h,q,t){if(f.widgets){var l=da(h),a=0;for(f=f.widgets;a<f.length;++a){var d=f[a],e=O("div",[d.node],"CodeMirror-linewidget");d.handleMouseEvents||e.setAttribute("cm-ignore-events","true");var g=d,b=e,k=q;if(g.noHScroll){(h.alignable||(h.alignable=[])).push(b);var x=k.wrapperWidth;b.style.left=k.fixedPos+"px";g.coverGutter||(x-=k.gutterTotalWidth,b.style.paddingLeft=k.gutterTotalWidth+"px");b.style.width=x+"px"}g.coverGutter&&(b.style.zIndex=5,b.style.position="relative",g.noHScroll||(b.style.marginLeft=-k.gutterTotalWidth+"px"));c.display.input.setUneditable(e);t&&d.above?l.insertBefore(e,h.gutter||h.text):l.appendChild(e);Ua(d,"redraw")}}}function Wa(c){return F(c.line,c.ch)}function Ga(c,f){return 0>Z(c,f)?f:c}function Ma(c,f){return 0>Z(c,f)?c:f}function ka(c){c.state.focused||(c.display.input.focus(),zd(c))}function X(c,f,h,q,t){var l=c.doc;c.display.shift=!1;q||(q=l.sel);var a=c.state.pasteIncoming||"paste"==t,d=l.splitLines(f),e=null;if(a&&1<q.ranges.length)if(fb&&fb.join("\n")==f){if(0==q.ranges.length%fb.length)for(var e=[],g=0;g<fb.length;g++)e.push(l.splitLines(fb[g]))}else d.length==q.ranges.length&&(e=Wc(d,function(c){return[c]}));for(g=q.ranges.length-1;0<=g;g--){var b=q.ranges[g],k=b.from(),x=b.to();b.empty()&&(h&&0<h?k=F(k.line,k.ch-h):c.state.overwrite&&!a&&(x=F(x.line,Math.min(Q(l,x.line).text.length,x.ch+ga(d).length))));b=c.curOp.updateInput;k={from:k,to:x,text:e?e[g%e.length]:d,origin:t||(a?"paste":c.state.cutIncoming?"cut":"+input")};hc(c.doc,k);Ua(c,"inputRead",c,k)}f&&!a&&fa(c,f);ic(c);c.curOp.updateInput=b;c.curOp.typing=!0;c.state.pasteIncoming=c.state.cutIncoming=!1}function J(c,f){var h=c.clipboardData&&c.clipboardData.getData("text/plain");if(h)return c.preventDefault(),f.isReadOnly()||f.options.disableInput||Xa(f,function(){X(f,h,0,null,"paste")}),!0}function fa(c,f){if(c.options.electricChars&&c.options.smartIndent)for(var h=c.doc.sel,q=h.ranges.length-1;0<=q;q--){var t=h.ranges[q];if(!(100<t.head.ch||q&&h.ranges[q-1].head.line==t.head.line)){var l=c.getModeAt(t.head),a=!1;if(l.electricChars)for(var d=0;d<l.electricChars.length;d++){if(-1<f.indexOf(l.electricChars.charAt(d))){a=Cc(c,t.head.line,"smart");break}}else l.electricInput&&l.electricInput.test(Q(c.doc,t.head.line).text.slice(0,t.head.ch))&&(a=Cc(c,t.head.line,"smart"));a&&Ua(c,"electricInput",c,t.head.line)}}}function ha(c){for(var f=[],h=[],q=0;q<c.doc.sel.ranges.length;q++){var t=c.doc.sel.ranges[q].head.line,t={anchor:F(t,0),head:F(t+1,0)};h.push(t);f.push(c.getRange(t.anchor,t.head))}return{text:f,ranges:h}}function xa(c){c.setAttribute("autocorrect","off");c.setAttribute("autocapitalize","off");c.setAttribute("spellcheck","false")}function sb(c){this.cm=c;this.prevInput="";this.pollingFast=!1;this.polling=new Jb;this.hasSelection=this.inaccurateSelection=!1;this.composing=null}function jc(){var c=O("textarea",null,null,"position: absolute; padding: 0; width: 1px; height: 1em; outline: none"),f=O("div",[c],null,"overflow: hidden; position: relative; width: 3px; height: 0px;");Aa?c.style.width="1000px":c.setAttribute("wrap","off");kc&&(c.style.border="1px solid black");xa(c);return f}function Ya(c){this.cm=c;this.lastAnchorNode=this.lastAnchorOffset=this.lastFocusNode=this.lastFocusOffset=null;this.polling=new Jb;this.gracePeriod=!1}function gb(c,f){var h=Cd(c,f.line);if(!h||h.hidden)return null;var q=Q(c.doc,f.line),h=le(h,q,f.line),q=kb(q),t="left";q&&(t=Xc(q,f.ch)%2?"right":"left");h=me(h.map,f.ch,t);h.offset="right"==h.collapse?h.end:h.start;return h}function lb(c,f){f&&(c.bad=!0);return c}function ra(c,f,h){var q;if(f==c.display.lineDiv){q=c.display.lineDiv.childNodes[h];if(!q)return lb(c.clipPos(F(c.display.viewTo-1)),!0);f=null;h=0}else for(q=f;;q=q.parentNode){if(!q||q==c.display.lineDiv)return null;if(q.parentNode&&q.parentNode==c.display.lineDiv)break}for(var t=0;t<c.display.view.length;t++){var l=c.display.view[t];if(l.node==q)return Qb(l,f,h)}}function Qb(c,f,h){function q(f,h,q){for(var t=-1;t<(g?g.length:0);t++)for(var l=0>t?e.map:g[t],a=0;a<l.length;a+=3){var d=l[a+2];if(d==f||d==h){h=la(0>t?c.line:c.rest[t]);t=l[a]+q;if(0>q||d!=f)t=l[a+(q?1:0)];return F(h,t)}}}var t=c.text.firstChild,l=!1;if(!f||!Dd(t,f))return lb(F(la(c.line),0),!0);if(f==t&&(l=!0,f=t.childNodes[h],h=0,!f))return h=c.rest?ga(c.rest):c.line,lb(F(la(h),h.text.length),l);var a=3==f.nodeType?f:null,d=f;a||1!=f.childNodes.length||3!=f.firstChild.nodeType||(a=f.firstChild,h&&(h=a.nodeValue.length));for(;d.parentNode!=t;)d=d.parentNode;var e=c.measure,g=e.maps;if(f=q(a,d,h))return lb(f,l);t=d.nextSibling;for(a=a?a.nodeValue.length-h:0;t;t=t.nextSibling){if(f=q(t,t.firstChild,0))return lb(F(f.line,f.ch-a),l);a+=t.textContent.length}d=d.previousSibling;for(a=h;d;d=d.previousSibling){if(f=q(d,d.firstChild,-1))return lb(F(f.line,f.ch+a),l);a+=t.textContent.length}}function Dc(c,f,h,q,t){function l(c){return function(f){return f.id==c}}function a(f){if(1==f.nodeType){var h=f.getAttribute("cm-text");if(null!=h)""==h&&(h=f.textContent.replace(/\u200b/g,"")),d+=h;else{var h=f.getAttribute("cm-marker"),b;if(h)f=c.findMarks(F(q,0),F(t+1,0),l(+h)),f.length&&(b=f[0].find())&&(d+=Rb(c.doc,b.from,b.to).join(g));else if("false"!=f.getAttribute("contenteditable")){for(b=0;b<f.childNodes.length;b++)a(f.childNodes[b]);/^(pre|div|p)$/i.test(f.nodeName)&&(e=!0)}}}else 3==f.nodeType&&(f=f.nodeValue)&&(e&&(d+=g,e=!1),d+=f)}for(var d="",e=!1,g=c.doc.lineSeparator();;){a(f);if(f==h)break;f=f.nextSibling}return d}function Na(c,f){this.ranges=c;this.primIndex=f}function ba(c,f){this.anchor=c;this.head=f}function Oa(c,f){var h=c[f];c.sort(function(c,f){return Z(c.from(),f.from())});f=Ca(c,h);for(h=1;h<c.length;h++){var q=c[h],t=c[h-1];if(0<=Z(t.to(),q.from())){var l=Ma(t.from(),q.from()),a=Ga(t.to(),q.to()),q=t.empty()?q.from()==q.head:t.from()==t.head;h<=f&&--f;c.splice(--h,2,new ba(q?a:l,q?l:a))}}return new Na(c,f)}function Pa(c,f){return new Na([new ba(c,f||c)],0)}function S(c,f){if(f.line<c.first)return F(c.first,0);var h=c.first+c.size-1;if(f.line>h)return F(h,Q(c,h).text.length);var h=Q(c,f.line).text.length,q=f.ch,h=null==q||q>h?F(f.line,h):0>q?F(f.line,0):f;return h}function Qa(c,f){return f>=c.first&&f<c.first+c.size}function Za(c,f){for(var h=[],q=0;q<f.length;q++)h[q]=S(c,f[q]);return h}function Y(c,f,h,q){return c.cm&&c.cm.display.shift||c.extend?(c=f.anchor,q&&(f=0>Z(h,c),f!=0>Z(q,c)?(c=h,h=q):f!=0>Z(h,q)&&(h=q)),new ba(c,h)):new ba(q||h,h)}function Db(c,f,h,q){ma(c,new Na([Y(c,c.sel.primary(),f,h)],0),q)}function sa(c,f,h){for(var q=[],t=0;t<c.sel.ranges.length;t++)q[t]=Y(c,c.sel.ranges[t],f[t],null);f=Oa(q,c.sel.primIndex);ma(c,f,h)}function ta(c,f,h,q){var t=c.sel.ranges.slice(0);t[f]=h;ma(c,Oa(t,c.sel.primIndex),q)}function $a(c,f,h){h={ranges:f.ranges,update:function(f){this.ranges=[];for(var h=0;h<f.length;h++)this.ranges[h]=new ba(S(c,f[h].anchor),S(c,f[h].head))},origin:h&&h.origin};ya(c,"beforeSelectionChange",c,h);c.cm&&ya(c.cm,"beforeSelectionChange",c.cm,h);return h.ranges!=f.ranges?Oa(h.ranges,h.ranges.length-1):f}function A(c,f,h){var q=c.history.done,t=ga(q);t&&t.ranges?(q[q.length-1]=f,ab(c,f,h)):ma(c,f,h)}function ma(c,f,h){ab(c,f,h);f=c.sel;var q=c.cm?c.cm.curOp.id:NaN,t=c.history,l=h&&h.origin,a;if(!(a=q==t.lastSelOp)&&(a=l&&t.lastSelOrigin==l)&&!(a=t.lastModTime==t.lastSelTime&&t.lastOrigin==l)){a=ga(t.done);var d=l.charAt(0);a="*"==d||"+"==d&&a.ranges.length==f.ranges.length&&a.somethingSelected()==f.somethingSelected()&&new Date-c.history.lastSelTime<=(c.cm?c.cm.options.historyEventDelay:500)}a?t.done[t.done.length-1]=f:Yc(f,t.done);t.lastSelTime=+new Date;t.lastSelOrigin=l;t.lastSelOp=q;h&&!1!==h.clearRedo&&ne(t.undone)}function ab(c,f,h){if(hb(c,"beforeSelectionChange")||c.cm&&hb(c.cm,"beforeSelectionChange"))f=$a(c,f,h);var q=h&&h.bias||(0>Z(f.primary().head,c.sel.primary().head)?-1:1);Sb(c,Eb(c,f,q,!0));h&&!1===h.scroll||!c.cm||ic(c.cm)}function Sb(c,f){f.equals(c.sel)||(c.sel=f,c.cm&&(c.cm.curOp.updateInput=c.cm.curOp.selectionChanged=!0,oe(c.cm)),Ua(c,"cursorActivity",c))}function Ha(c){Sb(c,Eb(c,c.sel,null,!1),tb)}function Eb(c,f,h,q){for(var t,l=0;l<f.ranges.length;l++){var a=f.ranges[l],d=f.ranges.length==c.sel.ranges.length&&c.sel.ranges[l],e=bb(c,a.anchor,d&&d.anchor,h,q),d=bb(c,a.head,d&&d.head,h,q);if(t||e!=a.anchor||d!=a.head)t||(t=f.ranges.slice(0,l)),t[l]=new ba(e,d)}return t?Oa(t,f.primIndex):f}function Ia(c,f,h,q,t){var l=Q(c,f.line);if(l.markedSpans)for(var a=0;a<l.markedSpans.length;++a){var d=l.markedSpans[a],e=d.marker;if((null==d.from||(e.inclusiveLeft?d.from<=f.ch:d.from<f.ch))&&(null==d.to||(e.inclusiveRight?d.to>=f.ch:d.to>f.ch))){if(t&&(ya(e,"beforeCursorEnter"),e.explicitlyCleared))if(l.markedSpans){--a;continue}else break;if(e.atomic){if(h){var a=e.find(0>q?1:-1),g;if(0>q?e.inclusiveRight:e.inclusiveLeft)a=ub(c,a,-q,l);if(a&&a.line==f.line&&(g=Z(a,h))&&(0>q?0>g:0<g))return Ia(c,a,f,q,t)}h=e.find(0>q?-1:1);if(0>q?e.inclusiveLeft:e.inclusiveRight)h=ub(c,h,q,l);return h?Ia(c,h,f,q,t):null}}}return f}function bb(c,f,h,q,t){q=q||1;f=Ia(c,f,h,q,t)||!t&&Ia(c,f,h,q,!0)||Ia(c,f,h,-q,t)||!t&&Ia(c,f,h,-q,!0);return f?f:(c.cantEdit=!0,F(c.first,0))}function ub(c,f,h,q){return 0>h&&0==f.ch?f.line>c.first?S(c,F(f.line-1)):null:0<h&&f.ch==(q||Q(c,f.line)).text.length?f.line<c.first+c.size-1?F(f.line+1,0):null:new F(f.line,f.ch+h)}function Ta(c){c.display.input.showSelection(c.display.input.prepareSelection())}function Fb(c,f){for(var h=c.doc,q={},t=q.cursors=document.createDocumentFragment(),l=q.selection=document.createDocumentFragment(),a=0;a<h.sel.ranges.length;a++)if(!1!==f||a!=h.sel.primIndex){var d=h.sel.ranges[a],e=d.empty();(e||c.options.showCursorWhenSelecting)&&M(c,d.head,t);e||Tb(c,d,l)}return q}function M(c,f,h){f=xb(c,f,"div",null,null,!c.options.singleCursorHeightPerLine);var q=h.appendChild(O("div","\u00a0","CodeMirror-cursor"));q.style.left=f.left+"px";q.style.top=f.top+"px";q.style.height=Math.max(0,f.bottom-f.top)*c.options.cursorHeight+"px";f.other&&(c=h.appendChild(O("div","\u00a0","CodeMirror-cursor CodeMirror-secondarycursor")),c.style.display="",c.style.left=f.other.left+"px",c.style.top=f.other.top+"px",c.style.height=.85*(f.other.bottom-f.other.top)+"px")}function Tb(c,f,h){function q(c,f,h,q){0>f&&(f=0);f=Math.round(f);q=Math.round(q);e.appendChild(O("div",null,"CodeMirror-selected","position: absolute; left: "+c+"px; top: "+f+"px; width: "+(null==h?k-c:h)+"px; height: "+(q-f)+"px"))}function t(f,h,t){var l=Q(d,f),a=l.text.length,e,g;Bf(kb(l),h||0,null==t?a:t,function(d,x,m){var za=Zc(c,F(f,d),"div",l,"left"),z,n;d==x?(z=za,m=n=za.left):(z=Zc(c,F(f,x-1),"div",l,"right"),"rtl"==m&&(m=za,za=z,z=m),m=za.left,n=z.right);null==h&&0==d&&(m=b);3<z.top-za.top&&(q(m,za.top,null,za.bottom),m=b,za.bottom<z.top&&q(m,za.bottom,null,z.top));null==t&&x==a&&(n=k);if(!e||za.top<e.top||za.top==e.top&&za.left<e.left)e=za;if(!g||z.bottom>g.bottom||z.bottom==g.bottom&&z.right>g.right)g=z;m<b+1&&(m=b);q(m,z.top,n-m,z.bottom)});return{start:e,end:g}}var a=c.display,d=c.doc,e=document.createDocumentFragment(),g=l(c.display),b=g.left,k=Math.max(a.sizerWidth,z(c)-a.sizer.offsetLeft)-g.right,a=f.from();f=f.to();if(a.line==f.line)t(a.line,a.ch,f.ch);else{var x=Q(d,a.line),g=Q(d,f.line),g=vb(x)==vb(g),a=t(a.line,a.ch,g?x.text.length+1:null).end;f=t(f.line,g?0:null,f.ch).start;g&&(a.top<f.top-2?(q(a.right,a.top,null,a.bottom),q(b,f.top,f.left,f.bottom)):q(a.right,a.top,f.left-a.right,a.bottom));a.bottom<f.top&&q(b,a.bottom,null,f.top)}h.appendChild(e)}function Gb(c){if(c.state.focused){var f=c.display;clearInterval(f.blinker);var h=!0;f.cursorDiv.style.visibility="";0<c.options.cursorBlinkRate?f.blinker=setInterval(function(){f.cursorDiv.style.visibility=(h=!h)?"":"hidden"},c.options.cursorBlinkRate):0>c.options.cursorBlinkRate&&(f.cursorDiv.style.visibility="hidden")}}function ob(c,f){c.doc.mode.startState&&c.doc.frontier<c.display.viewTo&&c.state.highlight.set(f,uc(Ub,c))}function Ub(c){var f=c.doc;f.frontier<f.first&&(f.frontier=f.first);if(!(f.frontier>=c.display.viewTo)){var h=+new Date+c.options.workTime,q=Hb(f.mode,Vb(c,f.frontier)),t=[];f.iter(f.frontier,Math.min(f.first+f.size,c.display.viewTo+500),function(l){if(f.frontier>=c.display.viewFrom){var a=l.styles,d=l.text.length>c.options.maxHighlightLength,e=pe(c,l,d?Hb(f.mode,q):q,!0);l.styles=e.styles;var g=l.styleClasses;(e=e.classes)?l.styleClasses=e:g&&(l.styleClasses=null);g=!a||a.length!=l.styles.length||g!=e&&(!g||!e||g.bgClass!=e.bgClass||g.textClass!=e.textClass);for(e=0;!g&&e<a.length;++e)g=a[e]!=l.styles[e];g&&t.push(f.frontier);l.stateAfter=d?q:Hb(f.mode,q)}else l.text.length<=c.options.maxHighlightLength&&Ed(c,l.text,q),l.stateAfter=0==f.frontier%5?Hb(f.mode,q):null;++f.frontier;if(+new Date>h)return ob(c,c.options.workDelay),!0});t.length&&Xa(c,function(){for(var f=0;f<t.length;f++)yb(c,t[f],"text")})}}function Ec(c,f,h){for(var q,t,l=c.doc,a=h?-1:f-(c.doc.mode.innerMode?1E3:100);f>a;--f){if(f<=l.first)return l.first;var d=Q(l,f-1);if(d.stateAfter&&(!h||f<=l.frontier))return f;d=mb(d.text,null,c.options.tabSize);if(null==t||q>d)t=f-1,q=d}return t}function Vb(c,f,h){var q=c.doc,t=c.display;if(!q.mode.startState)return!0;var l=Ec(c,f,h),a=l>q.first&&Q(q,l-1).stateAfter,a=a?Hb(q.mode,a):Cf(q.mode);q.iter(l,f,function(h){Ed(c,h.text,a);h.stateAfter=l==f-1||0==l%5||l>=t.viewFrom&&l<t.viewTo?Hb(q.mode,a):null;++l});h&&(q.frontier=l);return a}function yc(c){return c.mover.offsetHeight-c.lineSpace.offsetHeight}function l(c){if(c.cachedPaddingH)return c.cachedPaddingH;var f=cb(c.measure,O("pre","x")),f=window.getComputedStyle?window.getComputedStyle(f):f.currentStyle,f={left:parseInt(f.paddingLeft),right:parseInt(f.paddingRight)};isNaN(f.left)||isNaN(f.right)||(c.cachedPaddingH=f);return f}function x(c){return he-c.display.nativeBarWidth}function z(c){return c.display.scroller.clientWidth-x(c)-c.display.barWidth}function qa(c){return c.display.scroller.clientHeight-x(c)-c.display.barHeight}function le(c,f,h){if(c.line==f)return{map:c.measure.map,cache:c.measure.cache};for(var q=0;q<c.rest.length;q++)if(c.rest[q]==f)return{map:c.measure.maps[q],cache:c.measure.caches[q]};for(q=0;q<c.rest.length;q++)if(la(c.rest[q])>h)return{map:c.measure.maps[q],cache:c.measure.caches[q],before:!0}}function Cd(c,f){if(f>=c.display.viewFrom&&f<c.display.viewTo)return c.display.view[Pb(c,f)];var h=c.display.externalMeasured;if(h&&f>=h.lineN&&f<h.lineN+h.size)return h}function $c(c,f){var h=la(f),q=Cd(c,h);q&&!q.text?q=null:q&&q.changes&&(Va(c,q,h,ia(c)),c.curOp.forceUpdate=!0);if(!q){var t;t=vb(f);q=la(t);t=c.display.externalMeasured=new qe(c.doc,t,q);t.lineN=q;q=t.built=ke(c,t);t.text=q.pre;cb(c.display.lineMeasure,q.pre);q=t}h=le(q,f,h);return{line:f,view:q,rect:null,map:h.map,cache:h.cache,before:h.before,hasHeights:!1}}function Fd(c,f,h,q,t){f.before&&(h=-1);var l=h+(q||"");if(f.cache.hasOwnProperty(l))c=f.cache[l];else{f.rect||(f.rect=f.view.text.getBoundingClientRect());if(!f.hasHeights){var a=f.view,d=f.rect,e=c.options.lineWrapping,g=e&&z(c);if(!a.measure.heights||e&&a.measure.width!=g){var b=a.measure.heights=[];if(e)for(a.measure.width=g,a=a.text.firstChild.getClientRects(),e=0;e<a.length-1;e++){var g=a[e],k=a[e+1];2<Math.abs(g.bottom-k.bottom)&&b.push((g.bottom+k.top)/2-d.top)}b.push(d.bottom-d.top)}f.hasHeights=!0}a=q;e=me(f.map,h,a);q=e.node;d=e.start;g=e.end;h=e.collapse;var x;if(3==q.nodeType){for(b=0;4>b;b++){for(;d&&Fc(f.line.text.charAt(e.coverStart+d));)--d;for(;e.coverStart+g<e.coverEnd&&Fc(f.line.text.charAt(e.coverStart+g));)++g;if(ca&&9>na&&0==d&&g==e.coverEnd-e.coverStart)x=q.parentNode.getBoundingClientRect();else if(ca&&c.options.lineWrapping){var m=Wb(q,d,g).getClientRects();x=m.length?m["right"==a?m.length-1:0]:Gd}else x=Wb(q,d,g).getBoundingClientRect()||Gd;if(x.left||x.right||0==d)break;g=d;--d;h="right"}ca&&11>na&&((m=!window.screen||null==screen.logicalXDPI||screen.logicalXDPI==screen.deviceXDPI)||(null!=Hd?m=Hd:(b=cb(c.display.measure,O("span","x")),m=b.getBoundingClientRect(),b=Wb(b,0,1).getBoundingClientRect(),m=Hd=1<Math.abs(m.left-b.left)),m=!m),m||(m=screen.logicalXDPI/screen.deviceXDPI,b=screen.logicalYDPI/screen.deviceYDPI,x={left:x.left*m,right:x.right*m,top:x.top*b,bottom:x.bottom*b}))}else 0<d&&(h=a="right"),x=c.options.lineWrapping&&1<(m=q.getClientRects()).length?m["right"==a?m.length-1:0]:q.getBoundingClientRect();!(ca&&9>na)||d||x&&(x.left||x.right)||(x=(x=q.parentNode.getClientRects()[0])?{left:x.left,right:x.left+wc(c.display),top:x.top,bottom:x.bottom}:Gd);m=x.top-f.rect.top;q=x.bottom-f.rect.top;d=(m+q)/2;a=f.view.measure.heights;for(b=0;b<a.length-1&&!(d<a[b]);b++);h={left:("right"==h?x.right:x.left)-f.rect.left,right:("left"==h?x.left:x.right)-f.rect.left,top:b?a[b-1]:0,bottom:a[b]};x.left||x.right||(h.bogus=!0);c.options.singleCursorHeightPerLine||(h.rtop=m,h.rbottom=q);c=h;c.bogus||(f.cache[l]=c)}return{left:c.left,right:c.right,top:t?c.rtop:c.top,bottom:t?c.rbottom:c.bottom}}function me(c,f,h){for(var q,t,l,a,d=0;d<c.length;d+=3){var e=c[d],g=c[d+1];if(f<e)t=0,l=1,a="left";else if(f<g)t=f-e,l=t+1;else if(d==c.length-3||f==g&&c[d+3]>f)l=g-e,t=l-1,f>=g&&(a="right");if(null!=t){q=c[d+2];e==g&&h==(q.insertLeft?"left":"right")&&(a=h);if("left"==h&&0==t)for(;d&&c[d-2]==c[d-3]&&c[d-1].insertLeft;)q=c[(d-=3)+2],a="left";if("right"==h&&t==g-e)for(;d<c.length-3&&c[d+3]==c[d+4]&&!c[d+5].insertLeft;)q=c[(d+=3)+2],a="right";break}}return{node:q,start:t,end:l,collapse:a,coverStart:e,coverEnd:g}}function re(c){if(c.measure&&(c.measure.cache={},c.measure.heights=null,c.rest))for(var f=0;f<c.rest.length;f++)c.measure.caches[f]={}}function se(c){c.display.externalMeasure=null;Mb(c.display.lineMeasure);for(var f=0;f<c.display.view.length;f++)re(c.display.view[f])}function xc(c){se(c);c.display.cachedCharWidth=c.display.cachedTextHeight=c.display.cachedPaddingH=null;c.options.lineWrapping||(c.display.maxLineChanged=!0);c.display.lineNumChars=null}function Id(c,f,h,q){if(f.widgets)for(var t=0;t<f.widgets.length;++t)if(f.widgets[t].above){var l=Gc(f.widgets[t]);h.top+=l;h.bottom+=l}if("line"==q)return h;q||(q="local");f=qb(f);f="local"==q?f+c.display.lineSpace.offsetTop:f-c.display.viewOffset;if("page"==q||"window"==q)c=c.display.lineSpace.getBoundingClientRect(),f+=c.top+("window"==q?0:window.pageYOffset||(document.documentElement||document.body).scrollTop),q=c.left+("window"==q?0:window.pageXOffset||(document.documentElement||document.body).scrollLeft),h.left+=q,h.right+=q;h.top+=f;h.bottom+=f;return h}function te(c,f,h){if("div"==h)return f;var q=f.left;f=f.top;"page"==h?(q-=window.pageXOffset||(document.documentElement||document.body).scrollLeft,f-=window.pageYOffset||(document.documentElement||document.body).scrollTop):"local"!=h&&h||(h=c.display.sizer.getBoundingClientRect(),q+=h.left,f+=h.top);c=c.display.lineSpace.getBoundingClientRect();return{left:q-c.left,top:f-c.top}}function Zc(c,f,h,q,t){q||(q=Q(c.doc,f.line));var l=q;f=f.ch;q=Fd(c,$c(c,q),f,t);return Id(c,l,q,h)}function xb(c,f,h,q,t,l){function a(f,d){var e=Fd(c,t,f,d?"right":"left",l);d?e.left=e.right:e.right=e.left;return Id(c,q,e,h)}function d(c,f){var h=e[f],q=h.level%2;c==Jd(h)&&f&&h.level<e[f-1].level?(h=e[--f],c=Kd(h)-(h.level%2?0:1),q=!0):c==Kd(h)&&f<e.length-1&&h.level<e[f+1].level&&(h=e[++f],c=Jd(h)-h.level%2,q=!1);return q&&c==h.to&&c>h.from?a(c-1):a(c,q)}q=q||Q(c.doc,f.line);t||(t=$c(c,q));var e=kb(q);f=f.ch;if(!e)return a(f);var g=Xc(e,f),g=d(f,g);null!=Hc&&(g.other=d(f,Hc));return g}function ue(c,f){var h=0;f=S(c.doc,f);c.options.lineWrapping||(h=wc(c.display)*f.ch);var q=Q(c.doc,f.line),t=qb(q)+c.display.lineSpace.offsetTop;return{left:h,right:h,top:t,bottom:t+q.height}}function ad(c,f,h,q){c=F(c,f);c.xRel=q;h&&(c.outside=!0);return c}function Ld(c,f,h){var q=c.doc;h+=c.display.viewOffset;if(0>h)return ad(q.first,0,!0,-1);var t=Ob(q,h),l=q.first+q.size-1;if(t>l)return ad(q.first+q.size-1,Q(q,l).text.length,!0,1);0>f&&(f=0);for(q=Q(q,t);;)if(t=Df(c,q,t,f,h),l=(q=Nb(q,!1))&&q.find(0,!0),q&&(t.ch>l.from.ch||t.ch==l.from.ch&&0<t.xRel))t=la(q=l.to.line);else return t}function Df(c,f,h,q,t){function l(q){q=xb(c,F(h,q),"line",f,g);d=!0;if(a>q.bottom)return q.left-e;if(a<q.top)return q.left+e;d=!1;return q.left}var a=t-qb(f),d=!1,e=2*c.display.wrapper.clientWidth,g=$c(c,f),b=kb(f),x=f.text.length;t=bd(f);var m=cd(f),k=l(t),z=d,n=l(m),p=d;if(q>n)return ad(h,m,p,1);for(;;){if(b?m==t||m==Md(f,t,1):1>=m-t){b=q<k||q-k<=n-q?t:m;for(q-=b==t?k:n;Fc(f.text.charAt(b));)++b;return ad(h,b,b==t?z:p,-1>q?-1:1<q?1:0)}var w=Math.ceil(x/2),r=t+w;if(b)for(var r=t,B=0;B<w;++B)r=Md(f,r,1);B=l(r);if(B>q){m=r;n=B;if(p=d)n+=1E3;x=w}else t=r,k=B,z=d,x-=w}}function Kb(c){if(null!=c.cachedTextHeight)return c.cachedTextHeight;if(null==Xb){Xb=O("pre");for(var f=0;49>f;++f)Xb.appendChild(document.createTextNode("x")),Xb.appendChild(O("br"));Xb.appendChild(document.createTextNode("x"))}cb(c.measure,Xb);f=Xb.offsetHeight/50;3<f&&(c.cachedTextHeight=f);Mb(c.measure);return f||1}function wc(c){if(null!=c.cachedCharWidth)return c.cachedCharWidth;var f=O("span","xxxxxxxxxx"),h=O("pre",[f]);cb(c.measure,h);f=f.getBoundingClientRect();f=(f.right-f.left)/10;2<f&&(c.cachedCharWidth=f);return f||10}function dc(c){c.curOp={cm:c,viewChanged:!1,startHeight:c.doc.height,forceUpdate:!1,updateInput:null,typing:!1,changeObjs:null,cursorActivityHandlers:null,cursorActivityCalled:0,selectionChanged:!1,updateMaxLine:!1,scrollLeft:null,scrollTop:null,scrollToPos:null,focus:!1,id:++Ef};lc?lc.ops.push(c.curOp):c.curOp.ownsGroup=lc={ops:[c.curOp],delayedCallbacks:[]}}function fc(c){if(c=c.curOp.ownsGroup)try{var f=c.delayedCallbacks,h=0;do{for(;h<f.length;h++)f[h].call(null);for(var q=0;q<c.ops.length;q++){var t=c.ops[q];if(t.cursorActivityHandlers)for(;t.cursorActivityCalled<t.cursorActivityHandlers.length;)t.cursorActivityHandlers[t.cursorActivityCalled++].call(null,t.cm)}}while(h<f.length)}finally{lc=null;for(f=0;f<c.ops.length;f++)c.ops[f].cm.curOp=null;c=c.ops;for(f=0;f<c.length;f++){var t=c[f],h=t.cm,l=q=h.display;!l.scrollbarsClipped&&l.scroller.offsetWidth&&(l.nativeBarWidth=l.scroller.offsetWidth-l.scroller.clientWidth,l.heightForcer.style.height=x(h)+"px",l.sizer.style.marginBottom=-l.nativeBarWidth+"px",l.sizer.style.borderRightWidth=x(h)+"px",l.scrollbarsClipped=!0);t.updateMaxLine&&e(h);t.mustUpdate=t.viewChanged||t.forceUpdate||null!=t.scrollTop||t.scrollToPos&&(t.scrollToPos.from.line<q.viewFrom||t.scrollToPos.to.line>=q.viewTo)||q.maxLineChanged&&h.options.lineWrapping;t.update=t.mustUpdate&&new L(h,t.mustUpdate&&{top:t.scrollTop,ensure:t.scrollToPos},t.forceUpdate)}for(f=0;f<c.length;f++)t=c[f],t.updatedDisplay=t.mustUpdate&&U(t.cm,t.update);for(f=0;f<c.length;f++)if(t=c[f],h=t.cm,q=h.display,t.updatedDisplay&&Ea(h),t.barMeasure=E(h),q.maxLineChanged&&!h.options.lineWrapping&&(l=void 0,l=q.maxLine.text.length,l=Fd(h,$c(h,q.maxLine),l,void 0),t.adjustWidthTo=l.left+3,h.display.sizerWidth=t.adjustWidthTo,t.barMeasure.scrollWidth=Math.max(q.scroller.clientWidth,q.sizer.offsetLeft+t.adjustWidthTo+x(h)+h.display.barWidth),t.maxScrollLeft=Math.max(0,q.sizer.offsetLeft+t.adjustWidthTo-z(h))),t.updatedDisplay||t.selectionChanged)t.preparedSelection=q.input.prepareSelection();for(f=0;f<c.length;f++)t=c[f],h=t.cm,null!=t.adjustWidthTo&&(h.display.sizer.style.minWidth=t.adjustWidthTo+"px",t.maxScrollLeft<h.doc.scrollLeft&&gc(h,Math.min(h.display.scroller.scrollLeft,t.maxScrollLeft),!0),h.display.maxLineChanged=!1),t.preparedSelection&&h.display.input.showSelection(t.preparedSelection),t.updatedDisplay&&ua(h,t.barMeasure),(t.updatedDisplay||t.startHeight!=h.doc.height)&&H(h,t.barMeasure),t.selectionChanged&&Gb(h),h.state.focused&&t.updateInput&&h.display.input.reset(t.typing),!t.focus||t.focus!=rb()||document.hasFocus&&!document.hasFocus()||ka(t.cm);for(f=0;f<c.length;f++){t=c[f];h=t.cm;q=h.display;l=h.doc;t.updatedDisplay&&aa(h,t.update);null==q.wheelStartX||null==t.scrollTop&&null==t.scrollLeft&&!t.scrollToPos||(q.wheelStartX=q.wheelStartY=null);null==t.scrollTop||q.scroller.scrollTop==t.scrollTop&&!t.forceScroll||(l.scrollTop=Math.max(0,Math.min(q.scroller.scrollHeight-q.scroller.clientHeight,t.scrollTop)),q.scrollbars.setScrollTop(l.scrollTop),q.scroller.scrollTop=l.scrollTop);null==t.scrollLeft||q.scroller.scrollLeft==t.scrollLeft&&!t.forceScroll||(l.scrollLeft=Math.max(0,Math.min(q.scroller.scrollWidth-z(h),t.scrollLeft)),q.scrollbars.setScrollLeft(l.scrollLeft),q.scroller.scrollLeft=l.scrollLeft,D(h));if(t.scrollToPos){var a=void 0,d=S(l,t.scrollToPos.from),a=S(l,t.scrollToPos.to),g=t.scrollToPos.margin;null==g&&(g=0);for(var b=0;5>b;b++){var m=!1,k=xb(h,d),n=a&&a!=d?xb(h,a):k,n=dd(h,Math.min(k.left,n.left),Math.min(k.top,n.top)-g,Math.max(k.left,n.left),Math.max(k.bottom,n.bottom)+g),p=h.doc.scrollTop,w=h.doc.scrollLeft;null!=n.scrollTop&&(Ac(h,n.scrollTop),1<Math.abs(h.doc.scrollTop-p)&&(m=!0));null!=n.scrollLeft&&(gc(h,n.scrollLeft),1<Math.abs(h.doc.scrollLeft-w)&&(m=!0));if(!m)break}a=k;t.scrollToPos.isCursor&&h.state.focused&&(Ra(h,"scrollCursorIntoView")||(g=h.display,b=g.sizer.getBoundingClientRect(),d=null,0>a.top+b.top?d=!0:a.bottom+b.top>(window.innerHeight||document.documentElement.clientHeight)&&(d=!1),null==d||Ff||(a=O("div","\u200b",null,"position: absolute; top: "+(a.top-g.viewOffset-h.display.lineSpace.offsetTop)+"px; height: "+(a.bottom-a.top+x(h)+g.barHeight)+"px; left: "+a.left+"px; width: 2px;"),h.display.lineSpace.appendChild(a),a.scrollIntoView(d),h.display.lineSpace.removeChild(a))))}d=t.maybeHiddenMarkers;a=t.maybeUnhiddenMarkers;if(d)for(g=0;g<d.length;++g)d[g].lines.length||ya(d[g],"hide");if(a)for(g=0;g<a.length;++g)a[g].lines.length&&ya(a[g],"unhide");q.wrapper.offsetHeight&&(l.scrollTop=h.display.scroller.scrollTop);t.changeObjs&&ya(h,"changes",h,t.changeObjs);t.update&&t.update.finish()}}}function Xa(c,f){if(c.curOp)return f();dc(c);try{return f()}finally{fc(c)}}function wa(c,f){return function(){if(c.curOp)return f.apply(c,arguments);dc(c);try{return f.apply(c,arguments)}finally{fc(c)}}}function Da(c){return function(){if(this.curOp)return c.apply(this,arguments);dc(this);try{return c.apply(this,arguments)}finally{fc(this)}}}function Ja(c){return function(){var f=this.cm;if(!f||f.curOp)return c.apply(this,arguments);dc(f);try{return c.apply(this,arguments)}finally{fc(f)}}}function qe(c,f,h){for(var q=this.line=f,t;q=Nb(q,!1);)q=q.find(1,!0).line,(t||(t=[])).push(q);this.size=(this.rest=t)?la(ga(this.rest))-h+1:1;this.node=this.text=null;this.hidden=Lb(c,f)}function Vc(c,f,h){var q=[],t;for(t=f;t<h;)f=new qe(c.doc,Q(c.doc,t),t),t+=f.size,q.push(f);return q}function La(c,f,h,q){null==f&&(f=c.doc.first);null==h&&(h=c.doc.first+c.doc.size);q||(q=0);var t=c.display;q&&h<t.viewTo&&(null==t.updateLineNumbers||t.updateLineNumbers>f)&&(t.updateLineNumbers=f);c.curOp.viewChanged=!0;if(f>=t.viewTo)Cb&&Bd(c.doc,f)<t.viewTo&&Bb(c);else if(h<=t.viewFrom)Cb&&je(c.doc,h+q)>t.viewFrom?Bb(c):(t.viewFrom+=q,t.viewTo+=q);else if(f<=t.viewFrom&&h>=t.viewTo)Bb(c);else if(f<=t.viewFrom){var l=ed(c,h,h+q,1);l?(t.view=t.view.slice(l.index),t.viewFrom=l.lineN,t.viewTo+=q):Bb(c)}else if(h>=t.viewTo)(l=ed(c,f,f,-1))?(t.view=t.view.slice(0,l.index),t.viewTo=l.lineN):Bb(c);else{var l=ed(c,f,f,-1),a=ed(c,h,h+q,1);l&&a?(t.view=t.view.slice(0,l.index).concat(Vc(c,l.lineN,a.lineN)).concat(t.view.slice(a.index)),t.viewTo+=q):Bb(c)}if(c=t.externalMeasured)h<c.lineN?c.lineN+=q:f<c.lineN+c.size&&(t.externalMeasured=null)}function yb(c,f,h){c.curOp.viewChanged=!0;var q=c.display,t=c.display.externalMeasured;t&&f>=t.lineN&&f<t.lineN+t.size&&(q.externalMeasured=null);f<q.viewFrom||f>=q.viewTo||(c=q.view[Pb(c,f)],null!=c.node&&(c=c.changes||(c.changes=[]),-1==Ca(c,h)&&c.push(h)))}function Bb(c){c.display.viewFrom=c.display.viewTo=c.doc.first;c.display.view=[];c.display.viewOffset=0}function Pb(c,f){if(f>=c.display.viewTo)return null;f-=c.display.viewFrom;if(0>f)return null;for(var h=c.display.view,q=0;q<h.length;q++)if(f-=h[q].size,0>f)return q}function ed(c,f,h,q){var t=Pb(c,f),l=c.display.view;if(!Cb||h==c.doc.first+c.doc.size)return{index:t,lineN:h};for(var a=0,d=c.display.viewFrom;a<t;a++)d+=l[a].size;if(d!=f){if(0<q){if(t==l.length-1)return null;f=d+l[t].size-f;t++}else f=d-f;h+=f}for(;Bd(c.doc,h)!=h;){if(t==(0>q?0:l.length-1))return null;h+=q*l[t-(0>q?1:0)].size;t+=q}return{index:t,lineN:h}}function ie(c){c=c.display.view;for(var f=0,h=0;h<c.length;h++){var q=c[h];q.hidden||q.node&&!q.changes||++f}return f}function zf(c){function f(){q.activeTouch&&(t=setTimeout(function(){q.activeTouch=null},1E3),l=q.activeTouch,l.end=+new Date)}function h(c,f){if(null==f.left)return!0;var h=f.left-c.left,q=f.top-c.top;return 400<h*h+q*q}var q=c.display;T(q.scroller,"mousedown",wa(c,Gf));ca&&11>na?T(q.scroller,"dblclick",wa(c,function(f){if(!Ra(c,f)){var h=Yb(c,f);!h||Nd(c,f,"gutterClick",!0)||zb(c.display,f)||(Ka(f),f=c.findWordAt(h),Db(c.doc,f.anchor,f.head))}})):T(q.scroller,"dblclick",function(f){Ra(c,f)||Ka(f)});Od||T(q.scroller,"contextmenu",function(f){ve(c,f)});var t,l={end:0};T(q.scroller,"touchstart",function(c){var f;1!=c.touches.length?f=!1:(f=c.touches[0],f=1>=f.radiusX&&1>=f.radiusY);f||(clearTimeout(t),f=+new Date,q.activeTouch={start:f,moved:!1,prev:300>=f-l.end?l:null},1==c.touches.length&&(q.activeTouch.left=c.touches[0].pageX,q.activeTouch.top=c.touches[0].pageY))});T(q.scroller,"touchmove",function(){q.activeTouch&&(q.activeTouch.moved=!0)});T(q.scroller,"touchend",function(l){var t=q.activeTouch;if(t&&!zb(q,l)&&null!=t.left&&!t.moved&&300>new Date-t.start){var a=c.coordsChar(q.activeTouch,"page"),t=!t.prev||h(t,t.prev)?new ba(a,a):!t.prev.prev||h(t,t.prev.prev)?c.findWordAt(a):new ba(F(a.line,0),S(c.doc,F(a.line+1,0)));c.setSelection(t.anchor,t.head);c.focus();Ka(l)}f()});T(q.scroller,"touchcancel",f);T(q.scroller,"scroll",function(){q.scroller.clientHeight&&(Ac(c,q.scroller.scrollTop),gc(c,q.scroller.scrollLeft,!0),ya(c,"scroll",c))});T(q.scroller,"mousewheel",function(f){we(c,f)});T(q.scroller,"DOMMouseScroll",function(f){we(c,f)});T(q.wrapper,"scroll",function(){q.wrapper.scrollTop=q.wrapper.scrollLeft=0});q.dragFunctions={enter:function(f){Ra(c,f)||fd(f)},over:function(f){if(!Ra(c,f)){var h=Yb(c,f);if(h){var q=document.createDocumentFragment();M(c,h,q);c.display.dragCursor||(c.display.dragCursor=O("div",null,"CodeMirror-cursors CodeMirror-dragcursors"),c.display.lineSpace.insertBefore(c.display.dragCursor,c.display.cursorDiv));cb(c.display.dragCursor,q)}fd(f)}},start:function(f){if(ca&&(!c.state.draggingText||100>+new Date-xe))fd(f);else if(!Ra(c,f)&&!zb(c.display,f)&&(f.dataTransfer.setData("Text",c.getSelection()),f.dataTransfer.setDragImage&&!ye)){var h=O("img",null,null,"position: fixed; left: 0; top: 0;");h.src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw\x3d\x3d";nb&&(h.width=h.height=1,c.display.wrapper.appendChild(h),h._top=h.offsetTop);f.dataTransfer.setDragImage(h,0,0);nb&&h.parentNode.removeChild(h)}},drop:wa(c,Hf),leave:function(){ze(c)}};var a=q.input.getField();T(a,"keyup",function(f){Ae.call(c,f)});T(a,"keydown",wa(c,Be));T(a,"keypress",wa(c,Ce));T(a,"focus",uc(zd,c));T(a,"blur",uc(vc,c))}function If(c){var f=c.display;if(f.lastWrapHeight!=f.wrapper.clientHeight||f.lastWrapWidth!=f.wrapper.clientWidth)f.cachedCharWidth=f.cachedTextHeight=f.cachedPaddingH=null,f.scrollbarsClipped=!1,c.setSize()}function zb(c,f){for(var h=f.target||f.srcElement;h!=c.wrapper;h=h.parentNode)if(!h||1==h.nodeType&&"true"==h.getAttribute("cm-ignore-events")||h.parentNode==c.sizer&&h!=c.mover)return!0}function Yb(c,f,h,q){var t=c.display;if(!h&&"true"==(f.target||f.srcElement).getAttribute("cm-not-content"))return null;var a,d;h=t.lineSpace.getBoundingClientRect();try{a=f.clientX-h.left,d=f.clientY-h.top}catch(e){return null}f=Ld(c,a,d);var g;q&&1==f.xRel&&(g=Q(c.doc,f.line).text).length==f.ch&&(q=mb(g,g.length,c.options.tabSize)-g.length,f=F(f.line,Math.max(0,Math.round((a-l(c.display).left)/wc(c.display))-q)));return f}function Gf(c){var f=this.display;if(!(f.activeTouch&&f.input.supportsTouch()||Ra(this,c)))if(f.shift=c.shiftKey,zb(f,c))Aa||(f.scroller.draggable=!1,setTimeout(function(){f.scroller.draggable=!0},100));else if(!Nd(this,c,"gutterClick",!0)){var h=Yb(this,c);window.focus();switch(De(c)){case 1:this.state.selectingText?this.state.selectingText(c):h?Jf(this,c,h):(c.target||c.srcElement)==f.scroller&&Ka(c);break;case 2:Aa&&(this.state.lastMiddleDown=+new Date);h&&Db(this.doc,h);setTimeout(function(){f.input.focus()},20);Ka(c);break;case 3:Od?ve(this,c):Kf(this)}}}function Jf(c,f,h){ca?setTimeout(uc(ka,c),0):c.curOp.focus=rb();var q=+new Date,t;gd&&gd.time>q-400&&0==Z(gd.pos,h)?t="triple":hd&&hd.time>q-400&&0==Z(hd.pos,h)?(t="double",gd={time:q,pos:h}):(t="single",hd={time:q,pos:h});var q=c.doc.sel,l=jb?f.metaKey:f.ctrlKey,a;c.options.dragDrop&&Lf&&!c.isReadOnly()&&"single"==t&&-1<(a=q.contains(h))&&(0>Z((a=q.ranges[a]).from(),h)||0<h.xRel)&&(0<Z(a.to(),h)||0>h.xRel)?Mf(c,f,h,l):Nf(c,f,h,t,l)}function Mf(c,f,h,q){var t=c.display,l=+new Date,a=wa(c,function(d){Aa&&(t.scroller.draggable=!1);c.state.draggingText=!1;wb(document,"mouseup",a);wb(t.scroller,"drop",a);10>Math.abs(f.clientX-d.clientX)+Math.abs(f.clientY-d.clientY)&&(Ka(d),!q&&+new Date-200<l&&Db(c.doc,h),Aa||ca&&9==na?setTimeout(function(){document.body.focus();t.input.focus()},20):t.input.focus())});Aa&&(t.scroller.draggable=!0);c.state.draggingText=a;t.scroller.dragDrop&&t.scroller.dragDrop();T(document,"mouseup",a);T(t.scroller,"drop",a)}function Nf(c,f,h,q,t){function l(f){if(0!=Z(n,f))if(n=f,"rect"==q){for(var t=[],a=c.options.tabSize,d=mb(Q(g,h.line).text,h.ch,a),e=mb(Q(g,f.line).text,f.ch,a),k=Math.min(d,e),d=Math.max(d,e),e=Math.min(h.line,f.line),z=Math.min(c.lastLine(),Math.max(h.line,f.line));e<=z;e++){var za=Q(g,e).text,p=Ee(za,k,a);k==d?t.push(new ba(F(e,p),F(e,p))):za.length>p&&t.push(new ba(F(e,p),F(e,Ee(za,d,a))))}t.length||t.push(new ba(h,h));ma(g,Oa(m.ranges.slice(0,x).concat(t),x),{origin:"*mouse",scroll:!1});c.scrollIntoView(f)}else t=b,a=t.anchor,k=f,"single"!=q&&(f="double"==q?c.findWordAt(f):new ba(F(f.line,0),S(g,F(f.line+1,0))),0<Z(f.anchor,a)?(k=f.head,a=Ma(t.from(),f.anchor)):(k=f.anchor,a=Ga(t.to(),f.head))),t=m.ranges.slice(0),t[x]=new ba(S(g,a),k),ma(g,Oa(t,x),Pd)}function a(f){var h=++w,t=Yb(c,f,!0,"rect"==q);if(t)if(0!=Z(t,n)){c.curOp.focus=rb();l(t);var d=I(e,g);(t.line>=d.to||t.line<d.from)&&setTimeout(wa(c,function(){w==h&&a(f)}),150)}else{var b=f.clientY<p.top?-20:f.clientY>p.bottom?20:0;b&&setTimeout(wa(c,function(){w==h&&(e.scroller.scrollTop+=b,a(f))}),50)}}function d(f){c.state.selectingText=!1;w=Infinity;Ka(f);e.input.focus();wb(document,"mousemove",r);wb(document,"mouseup",B);g.history.lastSelOrigin=null}var e=c.display,g=c.doc;Ka(f);var b,x,m=g.sel,k=m.ranges;t&&!f.shiftKey?(x=g.sel.contains(h),b=-1<x?k[x]:new ba(h,h)):(b=g.sel.primary(),x=g.sel.primIndex);if(f.altKey)q="rect",t||(b=new ba(h,h)),h=Yb(c,f,!0,!0),x=-1;else if("double"==q){var z=c.findWordAt(h);b=c.display.shift||g.extend?Y(g,b,z.anchor,z.head):z}else"triple"==q?(z=new ba(F(h.line,0),S(g,F(h.line+1,0))),b=c.display.shift||g.extend?Y(g,b,z.anchor,z.head):z):b=Y(g,b,h);t?-1==x?(x=k.length,ma(g,Oa(k.concat([b]),x),{scroll:!1,origin:"*mouse"})):1<k.length&&k[x].empty()&&"single"==q&&!f.shiftKey?(ma(g,Oa(k.slice(0,x).concat(k.slice(x+1)),0),{scroll:!1,origin:"*mouse"}),m=g.sel):ta(g,x,b,Pd):(x=0,ma(g,new Na([b],0),Pd),m=g.sel);var n=h,p=e.wrapper.getBoundingClientRect(),w=0,r=wa(c,function(c){De(c)?a(c):d(c)}),B=wa(c,d);c.state.selectingText=B;T(document,"mousemove",r);T(document,"mouseup",B)}function Nd(c,f,h,q){try{var t=f.clientX,l=f.clientY}catch(a){return!1}if(t>=Math.floor(c.display.gutters.getBoundingClientRect().right))return!1;q&&Ka(f);q=c.display;var d=q.lineDiv.getBoundingClientRect();if(l>d.bottom||!hb(c,h))return Qd(f);l-=d.top-q.viewOffset;for(d=0;d<c.options.gutters.length;++d){var e=q.gutters.childNodes[d];if(e&&e.getBoundingClientRect().right>=t)return t=Ob(c.doc,l),ya(c,h,c,t,c.options.gutters[d],f),Qd(f)}}function Hf(c){var f=this;ze(f);if(!Ra(f,c)&&!zb(f.display,c)){Ka(c);ca&&(xe=+new Date);var h=Yb(f,c,!0),q=c.dataTransfer.files;if(h&&!f.isReadOnly())if(q&&q.length&&window.FileReader&&window.File){var t=q.length,l=Array(t),a=0;c=function(c,q){if(!f.options.allowDropFileTypes||-1!=Ca(f.options.allowDropFileTypes,c.type)){var d=new FileReader;d.onload=wa(f,function(){var c=d.result;/[\x00-\x08\x0e-\x1f]{2}/.test(c)&&(c="");l[q]=c;++a==t&&(h=S(f.doc,h),c={from:h,to:h,text:f.doc.splitLines(l.join(f.doc.lineSeparator())),origin:"paste"},hc(f.doc,c),A(f.doc,Pa(h,Zb(c))))});d.readAsText(c)}};for(var d=0;d<t;++d)c(q[d],d)}else if(f.state.draggingText&&-1<f.doc.sel.contains(h))f.state.draggingText(c),setTimeout(function(){f.display.input.focus()},20);else try{if(l=c.dataTransfer.getData("Text")){if(f.state.draggingText&&(jb?!c.altKey:!c.ctrlKey))var e=f.listSelections();ab(f.doc,Pa(h,h));if(e)for(d=0;d<e.length;++d)mc(f.doc,"",e[d].anchor,e[d].head,"drag");f.replaceSelection(l,"around","paste");f.display.input.focus()}}catch(g){}}}function ze(c){c.display.dragCursor&&(c.display.lineSpace.removeChild(c.display.dragCursor),c.display.dragCursor=null)}function Ac(c,f){2>Math.abs(c.doc.scrollTop-f)||(c.doc.scrollTop=f,Ab||V(c,{top:f}),c.display.scroller.scrollTop!=f&&(c.display.scroller.scrollTop=f),c.display.scrollbars.setScrollTop(f),Ab&&V(c),ob(c,100))}function gc(c,f,h){(h?f==c.doc.scrollLeft:2>Math.abs(c.doc.scrollLeft-f))||(f=Math.min(f,c.display.scroller.scrollWidth-c.display.scroller.clientWidth),c.doc.scrollLeft=f,D(c),c.display.scroller.scrollLeft!=f&&(c.display.scroller.scrollLeft=f),c.display.scrollbars.setScrollLeft(f))}function we(c,f){var h=Fe(f),q=h.x,h=h.y,t=c.display,l=t.scroller,a=l.scrollWidth>l.clientWidth,d=l.scrollHeight>l.clientHeight;if(q&&a||h&&d){if(h&&jb&&Aa){var a=f.target,e=t.view;a:for(;a!=l;a=a.parentNode)for(var g=0;g<e.length;g++)if(e[g].node==a){c.display.currentWheelTarget=a;break a}}!q||Ab||nb||null==db?(h&&null!=db&&(d=h*db,a=c.doc.scrollTop,e=a+t.wrapper.clientHeight,0>d?a=Math.max(0,a+d-50):e=Math.min(c.doc.height,e+d+50),V(c,{top:a,bottom:e})),20>id&&(null==t.wheelStartX?(t.wheelStartX=l.scrollLeft,t.wheelStartY=l.scrollTop,t.wheelDX=q,t.wheelDY=h,setTimeout(function(){if(null!=t.wheelStartX){var c=l.scrollLeft-t.wheelStartX,f=l.scrollTop-t.wheelStartY,c=f&&t.wheelDY&&f/t.wheelDY||c&&t.wheelDX&&c/t.wheelDX;t.wheelStartX=t.wheelStartY=null;c&&(db=(db*id+c)/(id+1),++id)}},200)):(t.wheelDX+=q,t.wheelDY+=h))):(h&&d&&Ac(c,Math.max(0,Math.min(l.scrollTop+h*db,l.scrollHeight-l.clientHeight))),gc(c,Math.max(0,Math.min(l.scrollLeft+q*db,l.scrollWidth-l.clientWidth))),(!h||h&&d)&&Ka(f),t.wheelStartX=null)}}function jd(c,f,h){if("string"==typeof f&&(f=kd[f],!f))return!1;c.display.input.ensurePolled();var q=c.display.shift,l=!1;try{c.isReadOnly()&&(c.state.suppressEdits=!0),h&&(c.display.shift=!1),l=f(c)!=Ge}finally{c.display.shift=q,c.state.suppressEdits=!1}return l}function Of(c,f,h){for(var q=0;q<c.state.keyMaps.length;q++){var l=Ic(f,c.state.keyMaps[q],h,c);if(l)return l}return c.options.extraKeys&&Ic(f,c.options.extraKeys,h,c)||Ic(f,c.options.keyMap,h,c)}function ld(c,f,h,q){var l=c.state.keySeq;if(l){if(Pf(f))return"handled";Qf.set(50,function(){c.state.keySeq==l&&(c.state.keySeq=null,c.display.input.reset())});f=l+" "+f}q=Of(c,f,q);"multi"==q&&(c.state.keySeq=f);"handled"==q&&Ua(c,"keyHandled",c,f,h);if("handled"==q||"multi"==q)Ka(h),Gb(c);return l&&!q&&/\'$/.test(f)?(Ka(h),!0):!!q}function He(c,f){var h=Rf(f,!0);return h?f.shiftKey&&!c.state.keySeq?ld(c,"Shift-"+h,f,function(f){return jd(c,f,!0)})||ld(c,h,f,function(f){if("string"==typeof f?/^go[A-Z]/.test(f):f.motion)return jd(c,f)}):ld(c,h,f,function(f){return jd(c,f)}):!1}function Sf(c,f,h){return ld(c,"'"+h+"'",f,function(f){return jd(c,f,!0)})}function Be(c){this.curOp.focus=rb();if(!Ra(this,c)){ca&&11>na&&27==c.keyCode&&(c.returnValue=!1);var f=c.keyCode;this.display.shift=16==f||c.shiftKey;var h=He(this,c);nb&&(Rd=h?f:null,!h&&88==f&&!Ie&&(jb?c.metaKey:c.ctrlKey)&&this.replaceSelection("",null,"cut"));18!=f||/\bCodeMirror-crosshair\b/.test(this.display.lineDiv.className)||Tf(this)}}function Tf(c){function f(c){18!=c.keyCode&&c.altKey||(zc(h,"CodeMirror-crosshair"),wb(document,"keyup",f),wb(document,"mouseover",f))}var h=c.display.lineDiv;Bc(h,"CodeMirror-crosshair");T(document,"keyup",f);T(document,"mouseover",f)}function Ae(c){16==c.keyCode&&(this.doc.sel.shift=!1);Ra(this,c)}function Ce(c){if(!(zb(this.display,c)||Ra(this,c)||c.ctrlKey&&!c.altKey||jb&&c.metaKey)){var f=c.keyCode,h=c.charCode;if(nb&&f==Rd)Rd=null,Ka(c);else if(!nb||c.which&&!(10>c.which)||!He(this,c))if(f=String.fromCharCode(null==h?f:h),!Sf(this,c,f))this.display.input.onKeyPress(c)}}function Kf(c){c.state.delayingBlurEvent=!0;setTimeout(function(){c.state.delayingBlurEvent&&(c.state.delayingBlurEvent=!1,vc(c))},100)}function zd(c){c.state.delayingBlurEvent&&(c.state.delayingBlurEvent=!1);"nocursor"!=c.options.readOnly&&(c.state.focused||(ya(c,"focus",c),c.state.focused=!0,Bc(c.display.wrapper,"CodeMirror-focused"),c.curOp||c.display.selForContextMenu==c.doc.sel||(c.display.input.reset(),Aa&&setTimeout(function(){c.display.input.reset(!0)},20)),c.display.input.receivedFocus()),Gb(c))}function vc(c){c.state.delayingBlurEvent||(c.state.focused&&(ya(c,"blur",c),c.state.focused=!1,zc(c.display.wrapper,"CodeMirror-focused")),clearInterval(c.display.blinker),setTimeout(function(){c.state.focused||(c.display.shift=!1)},150))}function ve(c,f){var h;(h=zb(c.display,f))||(h=hb(c,"gutterContextMenu")?Nd(c,f,"gutterContextMenu",!1):!1);if(!h&&!Ra(c,f,"contextmenu"))c.display.input.onContextMenu(f)}function Je(c,f){if(0>Z(c,f.from))return c;if(0>=Z(c,f.to))return Zb(f);var h=c.line+f.text.length-(f.to.line-f.from.line)-1,q=c.ch;c.line==f.to.line&&(q+=Zb(f).ch-f.to.ch);return F(h,q)}function Sd(c,f){for(var h=[],q=0;q<c.sel.ranges.length;q++){var l=c.sel.ranges[q];h.push(new ba(Je(l.anchor,f),Je(l.head,f)))}return Oa(h,c.sel.primIndex)}function Ke(c,f,h){return c.line==f.line?F(h.line,c.ch-f.ch+h.ch):F(h.line+(c.line-f.line),c.ch)}function Le(c,f,h){f={canceled:!1,from:f.from,to:f.to,text:f.text,origin:f.origin,cancel:function(){this.canceled=!0}};h&&(f.update=function(f,h,l,a){f&&(this.from=S(c,f));h&&(this.to=S(c,h));l&&(this.text=l);void 0!==a&&(this.origin=a)});ya(c,"beforeChange",c,f);c.cm&&ya(c.cm,"beforeChange",c.cm,f);return f.canceled?null:{from:f.from,to:f.to,text:f.text,origin:f.origin}}function hc(c,f,h){if(c.cm){if(!c.cm.curOp)return wa(c.cm,hc)(c,f,h);if(c.cm.state.suppressEdits)return}if(hb(c,"beforeChange")||c.cm&&hb(c.cm,"beforeChange"))if(f=Le(c,f,!0),!f)return;if(h=Me&&!h&&Uf(c,f.from,f.to))for(var q=h.length-1;0<=q;--q)Ne(c,{from:h[q].from,to:h[q].to,text:q?[""]:f.text});else Ne(c,f)}function Ne(c,f){if(1!=f.text.length||""!=f.text[0]||0!=Z(f.from,f.to)){var h=Sd(c,f);Oe(c,f,h,c.cm?c.cm.curOp.id:NaN);Jc(c,f,h,Td(c,f));var q=[];$b(c,function(c,h){h||-1!=Ca(q,c.history)||(Pe(c.history,f),q.push(c.history));Jc(c,f,null,Td(c,f))})}}function md(c,f,h){if(!c.cm||!c.cm.state.suppressEdits){for(var q=c.history,l,a=c.sel,d="undo"==f?q.done:q.undone,e="undo"==f?q.undone:q.done,g=0;g<d.length&&(l=d[g],h?!l.ranges||l.equals(c.sel):l.ranges);g++);if(g!=d.length){for(q.lastOrigin=q.lastSelOrigin=null;;)if(l=d.pop(),l.ranges){Yc(l,e);if(h&&!l.equals(c.sel)){ma(c,l,{clearRedo:!1});return}a=l}else break;h=[];Yc(a,e);e.push({changes:h,generation:q.generation});q.generation=l.generation||++q.maxGeneration;q=hb(c,"beforeChange")||c.cm&&hb(c.cm,"beforeChange");for(g=l.changes.length-1;0<=g;--g){var b=l.changes[g];b.origin=f;if(q&&!Le(c,b,!1)){d.length=0;break}h.push(Ud(c,b));a=g?Sd(c,b):ga(d);Jc(c,b,a,Qe(c,b));!g&&c.cm&&c.cm.scrollIntoView({from:b.from,to:Zb(b)});var x=[];$b(c,function(c,f){f||-1!=Ca(x,c.history)||(Pe(c.history,b),x.push(c.history));Jc(c,b,null,Qe(c,b))})}}}}function Re(c,f){if(0!=f&&(c.first+=f,c.sel=new Na(Wc(c.sel.ranges,function(c){return new ba(F(c.anchor.line+f,c.anchor.ch),F(c.head.line+f,c.head.ch))}),c.sel.primIndex),c.cm)){La(c.cm,c.first,c.first-f,f);for(var h=c.cm.display,q=h.viewFrom;q<h.viewTo;q++)yb(c.cm,q,"gutter")}}function Jc(c,f,h,q){if(c.cm&&!c.cm.curOp)return wa(c.cm,Jc)(c,f,h,q);if(f.to.line<c.first)Re(c,f.text.length-1-(f.to.line-f.from.line));else if(!(f.from.line>c.lastLine())){if(f.from.line<c.first){var l=f.text.length-1-(c.first-f.from.line);Re(c,l);f={from:F(c.first,0),to:F(f.to.line+l,f.to.ch),text:[ga(f.text)],origin:f.origin}}l=c.lastLine();f.to.line>l&&(f={from:f.from,to:F(l,Q(c,l).text.length),text:[f.text[0]],origin:f.origin});f.removed=Rb(c,f.from,f.to);h||(h=Sd(c,f));c.cm?Vf(c.cm,f,q):Vd(c,f,q);ab(c,h,tb)}}function Vf(c,f,h){var q=c.doc,l=c.display,a=f.from,e=f.to,g=!1,b=a.line;c.options.lineWrapping||(b=la(vb(Q(q,a.line))),q.iter(b,e.line+1,function(c){if(c==l.maxLine)return g=!0}));-1<q.sel.contains(f.from,f.to)&&oe(c);Vd(q,f,h,n(c));c.options.lineWrapping||(q.iter(b,a.line+f.text.length,function(c){var f=d(c);f>l.maxLineLength&&(l.maxLine=c,l.maxLineLength=f,l.maxLineChanged=!0,g=!1)}),g&&(c.curOp.updateMaxLine=!0));q.frontier=Math.min(q.frontier,a.line);ob(c,400);h=f.text.length-(e.line-a.line)-1;f.full?La(c):a.line!=e.line||1!=f.text.length||Se(c.doc,f)?La(c,a.line,e.line+1,h):yb(c,a.line,"text");h=hb(c,"changes");if((q=hb(c,"change"))||h)f={from:a,to:e,text:f.text,removed:f.removed,origin:f.origin},q&&Ua(c,"change",c,f),h&&(c.curOp.changeObjs||(c.curOp.changeObjs=[])).push(f);c.display.selForContextMenu=null}function mc(c,f,h,q,l){q||(q=h);if(0>Z(q,h)){var a=q;q=h;h=a}"string"==typeof f&&(f=c.splitLines(f));hc(c,{from:h,to:q,text:f,origin:l})}function dd(c,f,h,q,l){var a=c.display,d=Kb(c.display);0>h&&(h=0);var e=c.curOp&&null!=c.curOp.scrollTop?c.curOp.scrollTop:a.scroller.scrollTop,g=qa(c),b={};l-h>g&&(l=h+g);var x=c.doc.height+yc(a),k=h<d,d=l>x-d;h<e?b.scrollTop=k?0:h:l>e+g&&(h=Math.min(h,(d?x:l)-g),h!=e&&(b.scrollTop=h));e=c.curOp&&null!=c.curOp.scrollLeft?c.curOp.scrollLeft:a.scroller.scrollLeft;c=z(c)-(c.options.fixedGutter?a.gutters.offsetWidth:0);(a=q-f>c)&&(q=f+c);10>f?b.scrollLeft=0:f<e?b.scrollLeft=Math.max(0,f-(a?0:10)):q>c+e-3&&(b.scrollLeft=q+(a?0:10)-c);return b}function nd(c,f,h){null==f&&null==h||od(c);null!=f&&(c.curOp.scrollLeft=(null==c.curOp.scrollLeft?c.doc.scrollLeft:c.curOp.scrollLeft)+f);null!=h&&(c.curOp.scrollTop=(null==c.curOp.scrollTop?c.doc.scrollTop:c.curOp.scrollTop)+h)}function ic(c){od(c);var f=c.getCursor(),h=f,q=f;c.options.lineWrapping||(h=f.ch?F(f.line,f.ch-1):f,q=F(f.line,f.ch+1));c.curOp.scrollToPos={from:h,to:q,margin:c.options.cursorScrollMargin,isCursor:!0}}function od(c){var f=c.curOp.scrollToPos;if(f){c.curOp.scrollToPos=null;var h=ue(c,f.from),q=ue(c,f.to),f=dd(c,Math.min(h.left,q.left),Math.min(h.top,q.top)-f.margin,Math.max(h.right,q.right),Math.max(h.bottom,q.bottom)+f.margin);c.scrollTo(f.scrollLeft,f.scrollTop)}}function Cc(c,f,h,q){var l=c.doc,a;null==h&&(h="add");"smart"==h&&(l.mode.indent?a=Vb(c,f):h="prev");var d=c.options.tabSize,e=Q(l,f),g=mb(e.text,null,d);e.stateAfter&&(e.stateAfter=null);var b=e.text.match(/^\s*/)[0],x;if(!q&&!/\S/.test(e.text))x=0,h="not";else if("smart"==h&&(x=l.mode.indent(a,e.text.slice(b.length),e.text),x==Ge||150<x)){if(!q)return;h="prev"}"prev"==h?x=f>l.first?mb(Q(l,f-1).text,null,d):0:"add"==h?x=g+c.options.indentUnit:"subtract"==h?x=g-c.options.indentUnit:"number"==typeof h&&(x=g+h);x=Math.max(0,x);h="";q=0;if(c.options.indentWithTabs)for(c=Math.floor(x/d);c;--c)q+=d,h+="\t";q<x&&(h+=Te(x-q));if(h!=b)return mc(l,h,F(f,0),F(f,b.length),"+input"),e.stateAfter=null,!0;for(c=0;c<l.sel.ranges.length;c++)if(d=l.sel.ranges[c],d.head.line==f&&d.head.ch<b.length){q=F(f,b.length);ta(l,c,new ba(q,q));break}}function pd(c,f,h,q){var l=f,a=f;"number"==typeof f?a=Q(c,Math.max(c.first,Math.min(f,c.first+c.size-1))):l=la(f);if(null==l)return null;q(a,l)&&c.cm&&yb(c.cm,l,h);return a}function nc(c,f){for(var h=c.doc.sel.ranges,q=[],l=0;l<h.length;l++){for(var a=f(h[l]);q.length&&0>=Z(a.from,ga(q).to);){var d=q.pop();if(0>Z(d.from,a.from)){a.from=d.from;break}}q.push(a)}Xa(c,function(){for(var f=q.length-1;0<=f;f--)mc(c.doc,"",q[f].from,q[f].to,"+delete");ic(c)})}function Wd(c,f,h,q,l){function a(f){var q=(l?Md:Ue)(b,e,h,!0);if(null==q){if(f=!f)f=d+h,f<c.first||f>=c.first+c.size?f=x=!1:(d=f,f=b=Q(c,f));if(f)e=l?(0>h?cd:bd)(b):0>h?b.text.length:0;else return x=!1}else e=q;return!0}var d=f.line,e=f.ch,g=h,b=Q(c,d),x=!0;if("char"==q)a();else if("column"==q)a(!0);else if("word"==q||"group"==q){var k=null;q="group"==q;for(var m=c.cm&&c.cm.getHelper(f,"wordChars"),z=!0;!(0>h)||a(!z);z=!1){var n=b.text.charAt(e)||"\n",n=qd(n,m)?"w":q&&"\n"==n?"n":!q||/\s/.test(n)?null:"p";!q||z||n||(n="s");if(k&&k!=n){0>h&&(h=1,a());break}n&&(k=n);if(0<h&&!a(!z))break}}f=bb(c,F(d,e),f,g,!0);x||(f.hitSide=!0);return f}function Ve(c,f,h,q){var l=c.doc,a=f.left,d;for("page"==q?d=f.top+h*(Math.min(c.display.wrapper.clientHeight,window.innerHeight||document.documentElement.clientHeight)-(0>h?1.5:.5)*Kb(c.display)):"line"==q&&(d=0<h?f.bottom+3:f.top-3);;){f=Ld(c,a,d);if(!f.outside)break;if(0>h?0>=d:d>=l.height){f.hitSide=!0;break}d+=5*h}return f}function W(c,f,h,q){p.defaults[c]=f;h&&(ec[c]=q?function(c,f,q){q!=ge&&h(c,f,q)}:h)}function Wf(c){var f=c.split(/-(?!$)/);c=f[f.length-1];for(var h,q,l,a,d=0;d<f.length-1;d++){var e=f[d];if(/^(cmd|meta|m)$/i.test(e))a=!0;else if(/^a(lt)?$/i.test(e))h=!0;else if(/^(c|ctrl|control)$/i.test(e))q=!0;else if(/^s(hift)$/i.test(e))l=!0;else throw Error("Unrecognized modifier name: "+e);}h&&(c="Alt-"+c);q&&(c="Ctrl-"+c);a&&(c="Cmd-"+c);l&&(c="Shift-"+c);return c}function rd(c){return"string"==typeof c?Ib[c]:c}function oc(c,f,h,q,l){if(q&&q.shared)return Xf(c,f,h,q,l);if(c.cm&&!c.cm.curOp)return wa(c.cm,oc)(c,f,h,q,l);var a=new ac(c,l);l=Z(f,h);q&&ib(q,a,!1);if(0<l||0==l&&!1!==a.clearWhenEmpty)return a;a.replacedWith&&(a.collapsed=!0,a.widgetNode=O("span",[a.replacedWith],"CodeMirror-widget"),q.handleMouseEvents||a.widgetNode.setAttribute("cm-ignore-events","true"),q.insertLeft&&(a.widgetNode.insertLeft=!0));if(a.collapsed){if(We(c,f.line,f,h,a)||f.line!=h.line&&We(c,h.line,f,h,a))throw Error("Inserting collapsed marker partially overlapping an existing one");Cb=!0}a.addToHistory&&Oe(c,{from:f,to:h,origin:"markText"},c.sel,NaN);var d=f.line,e=c.cm,g;c.iter(d,h.line+1,function(c){e&&a.collapsed&&!e.options.lineWrapping&&vb(c)==e.display.maxLine&&(g=!0);a.collapsed&&d!=f.line&&pb(c,0);var q=new sd(a,d==f.line?f.ch:null,d==h.line?h.ch:null);c.markedSpans=c.markedSpans?c.markedSpans.concat([q]):[q];q.marker.attachLine(c);++d});a.collapsed&&c.iter(f.line,h.line+1,function(f){Lb(c,f)&&pb(f,0)});a.clearOnEnter&&T(a,"beforeCursorEnter",function(){a.clear()});a.readOnly&&(Me=!0,(c.history.done.length||c.history.undone.length)&&c.clearHistory());a.collapsed&&(a.id=++Xd,a.atomic=!0);if(e){g&&(e.curOp.updateMaxLine=!0);if(a.collapsed)La(e,f.line,h.line+1);else if(a.className||a.title||a.startStyle||a.endStyle||a.css)for(q=f.line;q<=h.line;q++)yb(e,q,"text");a.atomic&&Ha(e.doc);Ua(e,"markerAdded",e,a)}return a}function Xf(c,f,h,q,l){q=ib(q);q.shared=!1;var a=[oc(c,f,h,q,l)],d=a[0],e=q.widgetNode;$b(c,function(c){e&&(q.widgetNode=e.cloneNode(!0));a.push(oc(c,S(c,f),S(c,h),q,l));for(var g=0;g<c.linked.length;++g)if(c.linked[g].isParent)return;d=ga(a)});return new td(a,d)}function Xe(c){return c.findMarks(F(c.first,0),c.clipPos(F(c.lastLine())),function(c){return c.parent})}function Yf(c){for(var f=0;f<c.length;f++){var h=c[f],q=[h.primary.doc];$b(h.primary.doc,function(c){q.push(c)});for(var l=0;l<h.markers.length;l++){var a=h.markers[l];-1==Ca(q,a.doc)&&(a.parent=null,h.markers.splice(l--,1))}}}function sd(c,f,h){this.marker=c;this.from=f;this.to=h}function Kc(c,f){if(c)for(var h=0;h<c.length;++h){var q=c[h];if(q.marker==f)return q}}function Td(c,f){if(f.full)return null;var h=Qa(c,f.from.line)&&Q(c,f.from.line).markedSpans,q=Qa(c,f.to.line)&&Q(c,f.to.line).markedSpans;if(!h&&!q)return null;var l=f.from.ch,a=f.to.ch,d=0==Z(f.from,f.to);if(h)for(var e=0,g;e<h.length;++e){var b=h[e],x=b.marker;if(null==b.from||(x.inclusiveLeft?b.from<=l:b.from<l)||!(b.from!=l||"bookmark"!=x.type||d&&b.marker.insertLeft)){var k=null==b.to||(x.inclusiveRight?b.to>=l:b.to>l);(g||(g=[])).push(new sd(x,b.from,k?null:b.to))}}h=g;if(q)for(var e=0,m;e<q.length;++e)if(g=q[e],b=g.marker,null==g.to||(b.inclusiveRight?g.to>=a:g.to>a)||g.from==a&&"bookmark"==b.type&&(!d||g.marker.insertLeft))x=null==g.from||(b.inclusiveLeft?g.from<=a:g.from<a),(m||(m=[])).push(new sd(b,x?null:g.from-a,null==g.to?null:g.to-a));q=m;d=1==f.text.length;m=ga(f.text).length+(d?l:0);if(h)for(a=0;a<h.length;++a)if(e=h[a],null==e.to)(g=Kc(q,e.marker),g)?d&&(e.to=null==g.to?null:g.to+m):e.to=l;if(q)for(a=0;a<q.length;++a)e=q[a],null!=e.to&&(e.to+=m),null==e.from?(g=Kc(h,e.marker),g||(e.from=m,d&&(h||(h=[])).push(e))):(e.from+=m,d&&(h||(h=[])).push(e));h&&(h=Ye(h));q&&q!=h&&(q=Ye(q));l=[h];if(!d){var d=f.text.length-2,z;if(0<d&&h)for(a=0;a<h.length;++a)null==h[a].to&&(z||(z=[])).push(new sd(h[a].marker,null,null));for(a=0;a<d;++a)l.push(z);l.push(q)}return l}function Ye(c){for(var f=0;f<c.length;++f){var h=c[f];null!=h.from&&h.from==h.to&&!1!==h.marker.clearWhenEmpty&&c.splice(f--,1)}return c.length?c:null}function Qe(c,f){var h;if(h=f["spans_"+c.id]){for(var q=0,l=[];q<f.text.length;++q)l.push(Zf(h[q]));h=l}else h=null;q=Td(c,f);if(!h)return q;if(!q)return h;for(l=0;l<h.length;++l){var a=h[l],d=q[l];if(a&&d){var e=0;a:for(;e<d.length;++e){for(var g=d[e],b=0;b<a.length;++b)if(a[b].marker==g.marker)continue a;a.push(g)}}else d&&(h[l]=d)}return h}function Uf(c,f,h){var q=null;c.iter(f.line,h.line+1,function(c){if(c.markedSpans)for(var f=0;f<c.markedSpans.length;++f){var h=c.markedSpans[f].marker;!h.readOnly||q&&-1!=Ca(q,h)||(q||(q=[])).push(h)}});if(!q)return null;c=[{from:f,to:h}];for(f=0;f<q.length;++f){h=q[f];for(var l=h.find(0),a=0;a<c.length;++a){var d=c[a];if(!(0>Z(d.to,l.from)||0<Z(d.from,l.to))){var e=[a,1],g=Z(d.from,l.from),b=Z(d.to,l.to);(0>g||!h.inclusiveLeft&&!g)&&e.push({from:d.from,to:l.from});(0<b||!h.inclusiveRight&&!b)&&e.push({from:l.to,to:d.to});c.splice.apply(c,e);a+=e.length-1}}}return c}function Ze(c){var f=c.markedSpans;if(f){for(var h=0;h<f.length;++h)f[h].marker.detachLine(c);c.markedSpans=null}}function $e(c,f){if(f){for(var h=0;h<f.length;++h)f[h].marker.attachLine(c);c.markedSpans=f}}function af(c,f){var h=c.lines.length-f.lines.length;if(0!=h)return h;var h=c.find(),q=f.find(),l=Z(h.from,q.from)||(c.inclusiveLeft?-1:0)-(f.inclusiveLeft?-1:0);return l?-l:(h=Z(h.to,q.to)||(c.inclusiveRight?1:0)-(f.inclusiveRight?1:0))?h:f.id-c.id}function Nb(c,f){var h=Cb&&c.markedSpans,q;if(h)for(var l,a=0;a<h.length;++a)l=h[a],l.marker.collapsed&&null==(f?l.from:l.to)&&(!q||0>af(q,l.marker))&&(q=l.marker);return q}function We(c,f,h,q,l){c=Q(c,f);if(c=Cb&&c.markedSpans)for(f=0;f<c.length;++f){var a=c[f];if(a.marker.collapsed){var d=a.marker.find(0),e=Z(d.from,h)||(a.marker.inclusiveLeft?-1:0)-(l.inclusiveLeft?-1:0),g=Z(d.to,q)||(a.marker.inclusiveRight?1:0)-(l.inclusiveRight?1:0);if(!(0<=e&&0>=g||0>=e&&0<=g)&&(0>=e&&(0<Z(d.to,h)||a.marker.inclusiveRight&&l.inclusiveLeft)||0<=e&&(0>Z(d.from,q)||a.marker.inclusiveLeft&&l.inclusiveRight)))return!0}}}function vb(c){for(var f;f=Nb(c,!0);)c=f.find(-1,!0).line;return c}function Bd(c,f){var h=Q(c,f),q=vb(h);return h==q?f:la(q)}function je(c,f){if(f>c.lastLine())return f;var h=Q(c,f),q;if(!Lb(c,h))return f;for(;q=Nb(h,!1);)h=q.find(1,!0).line;return la(h)+1}function Lb(c,f){var h=Cb&&f.markedSpans;if(h)for(var q,l=0;l<h.length;++l)if(q=h[l],q.marker.collapsed&&(null==q.from||!q.marker.widgetNode&&0==q.from&&q.marker.inclusiveLeft&&Yd(c,f,q)))return!0}function Yd(c,f,h){if(null==h.to)return f=h.marker.find(1,!0),Yd(c,f.line,Kc(f.line.markedSpans,h.marker));if(h.marker.inclusiveRight&&h.to==f.text.length)return!0;for(var q,l=0;l<f.markedSpans.length;++l)if(q=f.markedSpans[l],q.marker.collapsed&&!q.marker.widgetNode&&q.from==h.to&&(null==q.to||q.to!=h.from)&&(q.marker.inclusiveLeft||h.marker.inclusiveRight)&&Yd(c,f,q))return!0}function Gc(c){if(null!=c.height)return c.height;var f=c.doc.cm;if(!f)return 0;if(!Dd(document.body,c.node)){var h="position: relative;";c.coverGutter&&(h+="margin-left: -"+f.display.gutters.offsetWidth+"px;");c.noHScroll&&(h+="width: "+f.display.wrapper.clientWidth+"px;");cb(f.display.measure,O("div",[c.node],null,h))}return c.height=c.node.parentNode.offsetHeight}function $f(c,f,h,q){var l=new ud(c,h,q),a=c.cm;a&&l.noHScroll&&(a.display.alignWidgets=!0);pd(c,f,"widget",function(f){var h=f.widgets||(f.widgets=[]);null==l.insertAt?h.push(l):h.splice(Math.min(h.length-1,Math.max(0,l.insertAt)),0,l);l.line=f;a&&!Lb(c,f)&&(h=qb(f)<c.scrollTop,pb(f,f.height+Gc(l)),h&&nd(a,null,l.height),a.curOp.forceUpdate=!0);return!0});return l}function bf(c,f){if(c)for(;;){var h=c.match(/(?:^|\s+)line-(background-)?(\S+)/);if(!h)break;c=c.slice(0,h.index)+c.slice(h.index+h[0].length);var l=h[1]?"bgClass":"textClass";null==f[l]?f[l]=h[2]:(new RegExp("(?:^|s)"+h[2]+"(?:$|s)")).test(f[l])||(f[l]+=" "+h[2])}return c}function cf(c,f){if(c.blankLine)return c.blankLine(f);if(c.innerMode){var h=p.innerMode(c,f);if(h.mode.blankLine)return h.mode.blankLine(h.state)}}function Zd(c,f,h,l){for(var a=0;10>a;a++){l&&(l[0]=p.innerMode(c,h).mode);var d=c.token(f,h);if(f.pos>f.start)return d}throw Error("Mode "+c.name+" failed to advance stream.");}function df(c,f,h,l){function a(c){return{start:k.start,end:k.pos,string:k.current(),type:g||null,state:c?Hb(d.mode,x):x}}var d=c.doc,e=d.mode,g;f=S(d,f);var b=Q(d,f.line),x=Vb(c,f.line,h),k=new vd(b.text,c.options.tabSize),m;for(l&&(m=[]);(l||k.pos<f.ch)&&!k.eol();)k.start=k.pos,g=Zd(e,k,x),l&&m.push(a(!0));return l?m:a()}function ef(c,f,h,l,a,d,e){var g=h.flattenSpans;null==g&&(g=c.options.flattenSpans);var b=0,x=null,k=new vd(f,c.options.tabSize),m,z=c.options.addModeClass&&[null];for(""==f&&bf(cf(h,l),d);!k.eol();){k.pos>c.options.maxHighlightLength?(g=!1,e&&Ed(c,f,l,k.pos),k.pos=f.length,m=null):m=bf(Zd(h,k,l,z),d);if(z){var n=z[0].name;n&&(m="m-"+(m?n+" "+m:n))}if(!g||x!=m){for(;b<k.start;)b=Math.min(k.start,b+5E4),a(b,x);x=m}k.start=k.pos}for(;b<k.pos;)c=Math.min(k.pos,b+5E4),a(c,x),b=c}function pe(c,f,h,l){var a=[c.state.modeGen],d={};ef(c,f.text,c.doc.mode,h,function(c,f){a.push(c,f)},d,l);for(h=0;h<c.state.overlays.length;++h){var e=c.state.overlays[h],g=1,b=0;ef(c,f.text,e.mode,!0,function(c,f){for(var h=g;b<c;){var l=a[g];l>c&&a.splice(g,1,c,a[g+1],l);g+=2;b=Math.min(c,l)}if(f)if(e.opaque)a.splice(h,g-h,c,"cm-overlay "+f),g=h+2;else for(;h<g;h+=2)l=a[h+1],a[h+1]=(l?l+" ":"")+"cm-overlay "+f},d)}return{styles:a,classes:d.bgClass||d.textClass?d:null}}function ff(c,f,h){if(!f.styles||f.styles[0]!=c.state.modeGen){var l=Vb(c,la(f)),a=pe(c,f,f.text.length>c.options.maxHighlightLength?Hb(c.doc.mode,l):l);f.stateAfter=l;f.styles=a.styles;a.classes?f.styleClasses=a.classes:f.styleClasses&&(f.styleClasses=null);h===c.doc.frontier&&c.doc.frontier++}return f.styles}function Ed(c,f,h,l){var a=c.doc.mode;c=new vd(f,c.options.tabSize);c.start=c.pos=l||0;for(""==f&&cf(a,h);!c.eol();)Zd(a,c,h),c.start=c.pos}function gf(c,f){if(!c||/^\s*$/.test(c))return null;var h=f.addModeClass?ag:bg;return h[c]||(h[c]=c.replace(/\S+/g,"cm-$\x26"))}function ke(c,f){var h=O("span",null,null,Aa?"padding-right: .1px":null),h={pre:O("pre",[h],"CodeMirror-line"),content:h,col:0,pos:0,cm:c,splitSpaces:(ca||Aa)&&c.getOption("lineWrapping")};f.measure={};for(var l=0;l<=(f.rest?f.rest.length:0);l++){var a=l?f.rest[l-1]:f.line,d;h.pos=0;h.addToken=cg;var e;if(null!=$d)e=$d;else{e=cb(c.display.measure,document.createTextNode("A\u062eA"));var g=Wb(e,0,1).getBoundingClientRect();e=g&&g.left!=g.right?$d=3>Wb(e,1,2).getBoundingClientRect().right-g.right:!1}e&&(d=kb(a))&&(h.addToken=dg(h.addToken,d));h.map=[];g=f!=c.display.externalMeasured&&la(a);a:{e=h;var g=ff(c,a,g),b=a.markedSpans,x=a.text,k=0;if(b)for(var m=x.length,z=0,n=1,p="",w=void 0,r=void 0,B=0,L=void 0,u=void 0,X=void 0,C=void 0,J=void 0;;){if(B==z){for(var L=u=X=C=r="",J=null,B=Infinity,G=[],V,U=0;U<b.length;++U){var qa=b[U],E=qa.marker;"bookmark"==E.type&&qa.from==z&&E.widgetNode?G.push(E):qa.from<=z&&(null==qa.to||qa.to>z||E.collapsed&&qa.to==z&&qa.from==z)?(null!=qa.to&&qa.to!=z&&B>qa.to&&(B=qa.to,u=""),E.className&&(L+=" "+E.className),E.css&&(r=(r?r+";":"")+E.css),E.startStyle&&qa.from==z&&(X+=" "+E.startStyle),E.endStyle&&qa.to==B&&(V||(V=[])).push(E.endStyle,qa.to),E.title&&!C&&(C=E.title),E.collapsed&&(!J||0>af(J.marker,E))&&(J=qa)):qa.from>z&&B>qa.from&&(B=qa.from)}if(V)for(U=0;U<V.length;U+=2)V[U+1]==B&&(u+=" "+V[U]);if(J&&(J.from||0)==z){hf(e,(null==J.to?m+1:J.to)-z,J.marker,null==J.from);if(null==J.to)break a;J.to==z&&(J=!1)}if(!J&&G.length)for(U=0;U<G.length;++U)hf(e,0,G[U])}if(z>=m)break;for(G=Math.min(m,B);;){if(p){U=z+p.length;J||(qa=U>G?p.slice(0,G-z):p,e.addToken(e,qa,w?w+L:L,X,z+qa.length==B?u:"",C,r));if(U>=G){p=p.slice(G-z);z=G;break}z=U;X=""}p=x.slice(k,k=g[n++]);w=gf(g[n++],e.cm.options)}}else for(var n=1;n<g.length;n+=2)e.addToken(e,x.slice(k,k=g[n]),gf(g[n+1],e.cm.options))}a.styleClasses&&(a.styleClasses.bgClass&&(h.bgClass=ae(a.styleClasses.bgClass,h.bgClass||"")),a.styleClasses.textClass&&(h.textClass=ae(a.styleClasses.textClass,h.textClass||"")));0==h.map.length&&h.map.push(0,0,h.content.appendChild(eg(c.display.measure)));0==l?(f.measure.map=h.map,f.measure.cache={}):((f.measure.maps||(f.measure.maps=[])).push(h.map),(f.measure.caches||(f.measure.caches=[])).push({}))}Aa&&/\bcm-tab\b/.test(h.content.lastChild.className)&&(h.content.className="cm-tab-wrap-hack");ya(c,"renderLine",c,f.line,h.pre);h.pre.className&&(h.textClass=ae(h.pre.className,h.textClass||""));return h}function cg(c,f,h,l,a,d,e){if(f){var g=c.splitSpaces?f.replace(/ {3,}/g,fg):f,b=c.cm.state.specialChars,x=!1;if(b.test(f))for(var k=document.createDocumentFragment(),m=0;;){b.lastIndex=m;var z=b.exec(f),n=z?z.index-m:f.length-m;if(n){var p=document.createTextNode(g.slice(m,m+n));ca&&9>na?k.appendChild(O("span",[p])):k.appendChild(p);c.map.push(c.pos,c.pos+n,p);c.col+=n;c.pos+=n}if(!z)break;m+=n+1;"\t"==z[0]?(p=c.cm.options.tabSize,z=p-c.col%p,p=k.appendChild(O("span",Te(z),"cm-tab")),p.setAttribute("role","presentation"),p.setAttribute("cm-text","\t"),c.col+=z):("\r"==z[0]||"\n"==z[0]?(p=k.appendChild(O("span","\r"==z[0]?"\u240d":"\u2424","cm-invalidchar")),p.setAttribute("cm-text",z[0])):(p=c.cm.options.specialCharPlaceholder(z[0]),p.setAttribute("cm-text",z[0]),ca&&9>na?k.appendChild(O("span",[p])):k.appendChild(p)),c.col+=1);c.map.push(c.pos,c.pos+1,p);c.pos++}else{c.col+=f.length;var k=document.createTextNode(g);c.map.push(c.pos,c.pos+f.length,k);ca&&9>na&&(x=!0);c.pos+=f.length}if(h||l||a||x||e)return f=h||"",l&&(f+=l),a&&(f+=a),l=O("span",[k],f,e),d&&(l.title=d),c.content.appendChild(l);c.content.appendChild(k)}}function fg(c){for(var f=" ",h=0;h<c.length-2;++h)f+=h%2?" ":"\u00a0";return f+" "}function dg(c,f){return function(h,l,a,d,e,g,b){a=a?a+" cm-force-border":"cm-force-border";for(var x=h.pos,k=x+l.length;;){for(var m=0;m<f.length;m++){var z=f[m];if(z.to>x&&z.from<=x)break}if(z.to>=k)return c(h,l,a,d,e,g,b);c(h,l.slice(0,z.to-x),a,d,null,g,b);d=null;l=l.slice(z.to-x);x=z.to}}}function hf(c,f,h,l){var a=!l&&h.widgetNode;a&&c.map.push(c.pos,c.pos+f,a);!l&&c.cm.display.input.needsContentAttribute&&(a||(a=c.content.appendChild(document.createElement("span"))),a.setAttribute("cm-marker",h.id));a&&(c.cm.display.input.setUneditable(a),c.content.appendChild(a));c.pos+=f}function Se(c,f){return 0==f.from.ch&&0==f.to.ch&&""==ga(f.text)&&(!c.cm||c.cm.options.wholeLineUpdateBefore)}function Vd(c,f,h,l){function a(c,h,d){c.text=h;c.stateAfter&&(c.stateAfter=null);c.styles&&(c.styles=null);null!=c.order&&(c.order=null);Ze(c);$e(c,d);h=l?l(c):1;h!=c.height&&pb(c,h);Ua(c,"change",c,f)}function d(c,f){for(var a=c,e=[];a<f;++a)e.push(new Lc(b[a],h?h[a]:null,l));return e}var e=f.from,g=f.to,b=f.text,x=Q(c,e.line),k=Q(c,g.line),m=ga(b),z=h?h[b.length-1]:null,n=g.line-e.line;if(f.full)c.insert(0,d(0,b.length)),c.remove(b.length,c.size-b.length);else if(Se(c,f)){var p=d(0,b.length-1);a(k,k.text,z);n&&c.remove(e.line,n);p.length&&c.insert(e.line,p)}else x==k?1==b.length?a(x,x.text.slice(0,e.ch)+m+x.text.slice(g.ch),z):(p=d(1,b.length-1),p.push(new Lc(m+x.text.slice(g.ch),z,l)),a(x,x.text.slice(0,e.ch)+b[0],h?h[0]:null),c.insert(e.line+1,p)):1==b.length?(a(x,x.text.slice(0,e.ch)+b[0]+k.text.slice(g.ch),h?h[0]:null),c.remove(e.line+1,n)):(a(x,x.text.slice(0,e.ch)+b[0],h?h[0]:null),a(k,m+k.text.slice(g.ch),z),p=d(1,b.length-1),1<n&&c.remove(e.line+1,n-1),c.insert(e.line+1,p));Ua(c,"change",c,f)}function Mc(c){this.lines=c;this.parent=null;for(var f=0,h=0;f<c.length;++f)c[f].parent=this,h+=c[f].height;this.height=h}function Nc(c){this.children=c;for(var f=0,h=0,l=0;l<c.length;++l){var a=c[l],f=f+a.chunkSize(),h=h+a.height;a.parent=this}this.size=f;this.height=h;this.parent=null}function $b(c,f,h){function l(c,a,d){if(c.linked)for(var e=0;e<c.linked.length;++e){var g=c.linked[e];if(g.doc!=a){var b=d&&g.sharedHist;if(!h||b)f(g.doc,b),l(g.doc,c,b)}}}l(c,null,!0)}function fe(c,f){if(f.cm)throw Error("This document is already in use.");c.doc=f;f.cm=c;r(c);v(c);c.options.lineWrapping||e(c);c.options.mode=f.modeOption;La(c)}function Q(c,f){f-=c.first;if(0>f||f>=c.size)throw Error("There is no line "+(f+c.first)+" in the document.");for(var h=c;!h.lines;)for(var l=0;;++l){var a=h.children[l],d=a.chunkSize();if(f<d){h=a;break}f-=d}return h.lines[f]}function Rb(c,f,h){var l=[],a=f.line;c.iter(f.line,h.line+1,function(c){c=c.text;a==h.line&&(c=c.slice(0,h.ch));a==f.line&&(c=c.slice(f.ch));l.push(c);++a});return l}function be(c,f,h){var l=[];c.iter(f,h,function(c){l.push(c.text)});return l}function pb(c,f){var h=f-c.height;if(h)for(var l=c;l;l=l.parent)l.height+=h}function la(c){if(null==c.parent)return null;var f=c.parent;c=Ca(f.lines,c);for(var h=f.parent;h;f=h,h=h.parent)for(var l=0;h.children[l]!=f;++l)c+=h.children[l].chunkSize();return c+f.first}function Ob(c,f){var h=c.first;a:do{for(var l=0;l<c.children.length;++l){var a=c.children[l],d=a.height;if(f<d){c=a;continue a}f-=d;h+=a.chunkSize()}return h}while(!c.lines);for(l=0;l<c.lines.length;++l){a=c.lines[l].height;if(f<a)break;f-=a}return h+l}function qb(c){c=vb(c);for(var f=0,h=c.parent,l=0;l<h.lines.length;++l){var a=h.lines[l];if(a==c)break;else f+=a.height}for(c=h.parent;c;h=c,c=h.parent)for(l=0;l<c.children.length&&(a=c.children[l],a!=h);++l)f+=a.height;return f}function kb(c){var f=c.order;null==f&&(f=c.order=gg(c.text));return f}function wd(c){this.done=[];this.undone=[];this.undoDepth=Infinity;this.lastModTime=this.lastSelTime=0;this.lastOrigin=this.lastSelOrigin=this.lastOp=this.lastSelOp=null;this.generation=this.maxGeneration=c||1}function Ud(c,f){var h={from:Wa(f.from),to:Zb(f),text:Rb(c,f.from,f.to)};jf(c,h,f.from.line,f.to.line+1);$b(c,function(c){jf(c,h,f.from.line,f.to.line+1)},!0);return h}function ne(c){for(;c.length;)if(ga(c).ranges)c.pop();else break}function Oe(c,f,h,l){var a=c.history;a.undone.length=0;var d=+new Date,e,g;if(g=a.lastOp==l||a.lastOrigin==f.origin&&f.origin&&("+"==f.origin.charAt(0)&&c.cm&&a.lastModTime>d-c.cm.options.historyEventDelay||"*"==f.origin.charAt(0)))a.lastOp==l?(ne(a.done),e=ga(a.done)):a.done.length&&!ga(a.done).ranges?e=ga(a.done):1<a.done.length&&!a.done[a.done.length-2].ranges?(a.done.pop(),e=ga(a.done)):e=void 0,g=e;if(g){var b=ga(e.changes);0==Z(f.from,f.to)&&0==Z(f.from,b.to)?b.to=Zb(f):e.changes.push(Ud(c,f))}else for((e=ga(a.done))&&e.ranges||Yc(c.sel,a.done),e={changes:[Ud(c,f)],generation:a.generation},a.done.push(e);a.done.length>a.undoDepth;)a.done.shift(),a.done[0].ranges||a.done.shift();a.done.push(h);a.generation=++a.maxGeneration;a.lastModTime=a.lastSelTime=d;a.lastOp=a.lastSelOp=l;a.lastOrigin=a.lastSelOrigin=f.origin;b||ya(c,"historyAdded")}function Yc(c,f){var h=ga(f);h&&h.ranges&&h.equals(c)||f.push(c)}function jf(c,f,h,l){var a=f["spans_"+c.id],d=0;c.iter(Math.max(c.first,h),Math.min(c.first+c.size,l),function(h){h.markedSpans&&((a||(a=f["spans_"+c.id]={}))[d]=h.markedSpans);++d})}function Zf(c){if(!c)return null;for(var f=0,h;f<c.length;++f)c[f].marker.explicitlyCleared?h||(h=c.slice(0,f)):h&&h.push(c[f]);return h?h.length?h:null:c}function pc(c,f,h){for(var l=0,a=[];l<c.length;++l){var d=c[l];if(d.ranges)a.push(h?Na.prototype.deepCopy.call(d):d);else{var d=d.changes,e=[];a.push({changes:e});for(var g=0;g<d.length;++g){var b=d[g],x;e.push({from:b.from,to:b.to,text:b.text});if(f)for(var k in b)(x=k.match(/^spans_(\d+)$/))&&-1<Ca(f,Number(x[1]))&&(ga(e)[k]=b[k],delete b[k])}}}return a}function kf(c,f,h,l){h<c.line?c.line+=l:f<c.line&&(c.line=f,c.ch=0)}function lf(c,f,h,l){for(var a=0;a<c.length;++a){var d=c[a],e=!0;if(d.ranges){d.copied||(d=c[a]=d.deepCopy(),d.copied=!0);for(var g=0;g<d.ranges.length;g++)kf(d.ranges[g].anchor,f,h,l),kf(d.ranges[g].head,f,h,l)}else{for(g=0;g<d.changes.length;++g){var b=d.changes[g];if(h<b.from.line)b.from=F(b.from.line+l,b.from.ch),b.to=F(b.to.line+l,b.to.ch);else if(f<=b.to.line){e=!1;break}}e||(c.splice(0,a+1),a=0)}}}function Pe(c,f){var h=f.from.line,l=f.to.line,a=f.text.length-(l-h)-1;lf(c.done,h,l,a);lf(c.undone,h,l,a)}function Qd(c){return null!=c.defaultPrevented?c.defaultPrevented:0==c.returnValue}function De(c){var f=c.which;null==f&&(c.button&1?f=1:c.button&2?f=3:c.button&4&&(f=2));jb&&c.ctrlKey&&1==f&&(f=3);return f}function xd(c,f,h){c=c._handlers&&c._handlers[f];return h?c&&0<c.length?c.slice():mf:c||mf}function Ua(c,f){function h(c){return function(){c.apply(null,a)}}var l=xd(c,f,!1);if(l.length){var a=Array.prototype.slice.call(arguments,2),d;lc?d=lc.delayedCallbacks:Oc?d=Oc:(d=Oc=[],setTimeout(hg,0));for(var e=0;e<l.length;++e)d.push(h(l[e]))}}function hg(){var c=Oc;Oc=null;for(var f=0;f<c.length;++f)c[f]()}function Ra(c,f,h){"string"==typeof f&&(f={type:f,preventDefault:function(){this.defaultPrevented=!0}});ya(c,h||f.type,c,f);return Qd(f)||f.codemirrorIgnore}function oe(c){var f=c._handlers&&c._handlers.cursorActivity;if(f){c=c.curOp.cursorActivityHandlers||(c.curOp.cursorActivityHandlers=[]);for(var h=0;h<f.length;++h)-1==Ca(c,f[h])&&c.push(f[h])}}function hb(c,f){return 0<xd(c,f).length}function qc(c){c.prototype.on=function(c,h){T(this,c,h)};c.prototype.off=function(c,h){wb(this,c,h)}}function Jb(){this.id=null}function Te(c){for(;yd.length<=c;)yd.push(ga(yd)+" ");return yd[c]}function ga(c){return c[c.length-1]}function Ca(c,f){for(var h=0;h<c.length;++h)if(c[h]==f)return h;return-1}function Wc(c,f){for(var h=[],l=0;l<c.length;l++)h[l]=f(c[l],l);return h}function Pc(){}function nf(c,f){var h;Object.create?h=Object.create(c):(Pc.prototype=c,h=new Pc);f&&ib(f,h);return h}function ib(c,f,h){f||(f={});for(var l in c)!c.hasOwnProperty(l)||!1===h&&f.hasOwnProperty(l)||(f[l]=c[l]);return f}function uc(c){var f=Array.prototype.slice.call(arguments,1);return function(){return c.apply(null,f)}}function qd(c,f){return f?-1<f.source.indexOf("\\w")&&of(c)?!0:f.test(c):of(c)}function pf(c){for(var f in c)if(c.hasOwnProperty(f)&&c[f])return!1;return!0}function Fc(c){return 768<=c.charCodeAt(0)&&ig.test(c)}function O(c,f,h,l){c=document.createElement(c);h&&(c.className=h);l&&(c.style.cssText=l);if("string"==typeof f)c.appendChild(document.createTextNode(f));else if(f)for(h=0;h<f.length;++h)c.appendChild(f[h]);return c}function Mb(c){for(var f=c.childNodes.length;0<f;--f)c.removeChild(c.firstChild);return c}function cb(c,f){return Mb(c).appendChild(f)}function rb(){for(var c=document.activeElement;c&&c.root&&c.root.activeElement;)c=c.root.activeElement;return c}function Qc(c){return new RegExp("(^|\\s)"+c+"(?:$|\\s)\\s*")}function ae(c,f){for(var h=c.split(" "),l=0;l<h.length;l++)h[l]&&!Qc(h[l]).test(f)&&(f+=" "+h[l]);return f}function qf(c){if(document.body.getElementsByClassName)for(var f=document.body.getElementsByClassName("CodeMirror"),h=0;h<f.length;h++){var l=f[h].CodeMirror;l&&c(l)}}function Af(){var c;T(window,"resize",function(){null==c&&(c=setTimeout(function(){c=null;qf(If)},100))});T(window,"blur",function(){qf(vc)})}function eg(c){if(null==ce){var f=O("span","\u200b");cb(c,O("span",[f,document.createTextNode("x")]));0!=c.firstChild.offsetHeight&&(ce=1>=f.offsetWidth&&2<f.offsetHeight&&!(ca&&8>na))}c=ce?O("span","\u200b"):O("span","\u00a0",null,"display: inline-block; width: 1px; margin-right: -1px");c.setAttribute("cm-text","");return c}function Bf(c,f,h,l){if(!c)return l(f,h,"ltr");for(var a=!1,d=0;d<c.length;++d){var e=c[d];if(e.from<h&&e.to>f||f==h&&e.to==f)l(Math.max(e.from,f),Math.min(e.to,h),1==e.level?"rtl":"ltr"),a=!0}a||l(f,h,"ltr")}function Jd(c){return c.level%2?c.to:c.from}function Kd(c){return c.level%2?c.from:c.to}function bd(c){return(c=kb(c))?Jd(c[0]):0}function cd(c){var f=kb(c);return f?Kd(ga(f)):c.text.length}function rf(c,f){var h=Q(c.doc,f),l=vb(h);l!=h&&(f=la(l));l=(h=kb(l))?h[0].level%2?cd(l):bd(l):0;return F(f,l)}function sf(c,f){var h=rf(c,f.line),l=Q(c.doc,h.line),a=kb(l);return a&&0!=a[0].level?h:(l=Math.max(0,l.text.search(/\S/)),F(h.line,f.line==h.line&&f.ch<=l&&f.ch?0:l))}function Xc(c,f){Hc=null;for(var h=0,l;h<c.length;++h){var a=c[h];if(a.from<f&&a.to>f)return h;if(a.from==f||a.to==f)if(null==l)l=h;else{var d;d=a.level;var e=c[l].level,g=c[0].level;d=d==g?!0:e==g?!1:d<e;if(d)return a.from!=a.to&&(Hc=l),h;a.from!=a.to&&(Hc=h);break}}return l}function de(c,f,h,l){if(!l)return f+h;do f+=h;while(0<f&&Fc(c.text.charAt(f)));return f}function Md(c,f,h,l){var a=kb(c);if(!a)return Ue(c,f,h,l);var d=Xc(a,f),e=a[d];for(f=de(c,f,e.level%2?-h:h,l);;){if(f>e.from&&f<e.to)return f;if(f==e.from||f==e.to){if(Xc(a,f)==d)return f;e=a[d+h];return 0<h==e.level%2?e.to:e.from}e=a[d+=h];if(!e)return null;f=0<h==e.level%2?de(c,e.to,-1,l):de(c,e.from,1,l)}}function Ue(c,f,h,l){f+=h;if(l)for(;0<f&&Fc(c.text.charAt(f));)f+=h;return 0>f||f>c.text.length?null:f}var eb=navigator.userAgent,tf=navigator.platform,Ab=/gecko\/\d/i.test(eb),uf=/MSIE \d/.test(eb),vf=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(eb),ca=uf||vf,na=ca&&(uf?document.documentMode||6:vf[1]),Aa=/WebKit\//.test(eb),jg=Aa&&/Qt\/\d+\.\d+/.test(eb),kg=/Chrome\//.test(eb),nb=/Opera\//.test(eb),ye=/Apple Computer/.test(navigator.vendor),lg=/Mac OS X 1\d\D([8-9]|\d\d)\D/.test(eb),Ff=/PhantomJS/.test(eb),kc=/AppleWebKit/.test(eb)&&/Mobile\/\w+/.test(eb),tc=kc||/Android|webOS|BlackBerry|Opera Mini|Opera Mobi|IEMobile/i.test(eb),jb=kc||/Mac/.test(tf),mg=/win/i.test(tf),bc=nb&&eb.match(/Version\/(\d*\.\d*)/);bc&&(bc=Number(bc[1]));bc&&15<=bc&&(nb=!1,Aa=!0);var wf=jb&&(jg||nb&&(null==bc||12.11>bc)),Od=Ab||ca&&9<=na,Me=!1,Cb=!1;G.prototype=ib({update:function(c){var f=c.scrollWidth>c.clientWidth+1,h=c.scrollHeight>c.clientHeight+1,l=c.nativeBarWidth;h?(this.vert.style.display="block",this.vert.style.bottom=f?l+"px":"0",this.vert.firstChild.style.height=Math.max(0,c.scrollHeight-c.clientHeight+(c.viewHeight-(f?l:0)))+"px"):(this.vert.style.display="",this.vert.firstChild.style.height="0");f?(this.horiz.style.display="block",this.horiz.style.right=h?l+"px":"0",this.horiz.style.left=c.barLeft+"px",this.horiz.firstChild.style.width=c.scrollWidth-c.clientWidth+(c.viewWidth-c.barLeft-(h?l:0))+"px"):(this.horiz.style.display="",this.horiz.firstChild.style.width="0");!this.checkedZeroWidth&&0<c.clientHeight&&(0==l&&this.zeroWidthHack(),this.checkedZeroWidth=!0);return{right:h?l:0,bottom:f?l:0}},setScrollLeft:function(c){this.horiz.scrollLeft!=c&&(this.horiz.scrollLeft=c);this.disableHoriz&&this.enableZeroWidthBar(this.horiz,this.disableHoriz)},setScrollTop:function(c){this.vert.scrollTop!=c&&(this.vert.scrollTop=c);this.disableVert&&this.enableZeroWidthBar(this.vert,this.disableVert)},zeroWidthHack:function(){this.horiz.style.height=this.vert.style.width=jb&&!lg?"12px":"18px";this.horiz.style.pointerEvents=this.vert.style.pointerEvents="none";this.disableHoriz=new Jb;this.disableVert=new Jb},enableZeroWidthBar:function(c,f){function h(){var l=c.getBoundingClientRect();document.elementFromPoint(l.left+1,l.bottom-1)!=c?c.style.pointerEvents="none":f.set(1E3,h)}c.style.pointerEvents="auto";f.set(1E3,h)},clear:function(){var c=this.horiz.parentNode;c.removeChild(this.horiz);c.removeChild(this.vert)}},G.prototype);w.prototype=ib({update:function(){return{bottom:0,right:0}},setScrollLeft:function(){},setScrollTop:function(){},clear:function(){}},w.prototype);p.scrollbarModel={"native":G,"null":w};L.prototype.signal=function(c,f){hb(c,f)&&this.events.push(arguments)};L.prototype.finish=function(){for(var c=0;c<this.events.length;c++)ya.apply(null,this.events[c])};var F=p.Pos=function(c,f){if(!(this instanceof F))return new F(c,f);this.line=c;this.ch=f},Z=p.cmpPos=function(c,f){return c.line-f.line||c.ch-f.ch},fb=null;sb.prototype=ib({init:function(c){function f(c){if(l.somethingSelected())fb=l.getSelections(),h.inaccurateSelection&&(h.prevInput="",h.inaccurateSelection=!1,d.value=fb.join("\n"),rc(d));else if(l.options.lineWiseCopyCut){var f=ha(l);fb=f.text;"cut"==c.type?l.setSelections(f.ranges,null,tb):(h.prevInput="",d.value=f.text.join("\n"),rc(d))}else return;"cut"==c.type&&(l.state.cutIncoming=!0)}var h=this,l=this.cm,a=this.wrapper=jc(),d=this.textarea=a.firstChild;c.wrapper.insertBefore(a,c.wrapper.firstChild);kc&&(d.style.width="0px");T(d,"input",function(){ca&&9<=na&&h.hasSelection&&(h.hasSelection=null);h.poll()});T(d,"paste",function(c){Ra(l,c)||J(c,l)||(l.state.pasteIncoming=!0,h.fastPoll())});T(d,"cut",f);T(d,"copy",f);T(c.scroller,"paste",function(f){zb(c,f)||Ra(l,f)||(l.state.pasteIncoming=!0,h.focus())});T(c.lineSpace,"selectstart",function(f){zb(c,f)||Ka(f)});T(d,"compositionstart",function(){var c=l.getCursor("from");h.composing&&h.composing.range.clear();h.composing={start:c,range:l.markText(c,l.getCursor("to"),{className:"CodeMirror-composing"})}});T(d,"compositionend",function(){h.composing&&(h.poll(),h.composing.range.clear(),h.composing=null)})},prepareSelection:function(){var c=this.cm,f=c.display,h=c.doc,l=Fb(c);if(c.options.moveInputWithCursor){var c=xb(c,h.sel.primary().head,"div"),h=f.wrapper.getBoundingClientRect(),a=f.lineDiv.getBoundingClientRect();l.teTop=Math.max(0,Math.min(f.wrapper.clientHeight-10,c.top+a.top-h.top));l.teLeft=Math.max(0,Math.min(f.wrapper.clientWidth-10,c.left+a.left-h.left))}return l},showSelection:function(c){var f=this.cm.display;cb(f.cursorDiv,c.cursors);cb(f.selectionDiv,c.selection);null!=c.teTop&&(this.wrapper.style.top=c.teTop+"px",this.wrapper.style.left=c.teLeft+"px")},reset:function(c){if(!this.contextMenuPending){var f,h,l=this.cm,a=l.doc;l.somethingSelected()?(this.prevInput="",f=a.sel.primary(),h=(f=Ie&&(100<f.to().line-f.from().line||1E3<(h=l.getSelection()).length))?"-":h||l.getSelection(),this.textarea.value=h,l.state.focused&&rc(this.textarea),ca&&9<=na&&(this.hasSelection=h)):c||(this.prevInput=this.textarea.value="",ca&&9<=na&&(this.hasSelection=null));this.inaccurateSelection=f}},getField:function(){return this.textarea},supportsTouch:function(){return!1},focus:function(){if("nocursor"!=this.cm.options.readOnly&&(!tc||rb()!=this.textarea))try{this.textarea.focus()}catch(c){}},blur:function(){this.textarea.blur()},resetPosition:function(){this.wrapper.style.top=this.wrapper.style.left=0},receivedFocus:function(){this.slowPoll()},slowPoll:function(){var c=this;c.pollingFast||c.polling.set(this.cm.options.pollInterval,function(){c.poll();c.cm.state.focused&&c.slowPoll()})},fastPoll:function(){function c(){h.poll()||f?(h.pollingFast=!1,h.slowPoll()):(f=!0,h.polling.set(60,c))}var f=!1,h=this;h.pollingFast=!0;h.polling.set(20,c)},poll:function(){var c=this.cm,f=this.textarea,h=this.prevInput;if(this.contextMenuPending||!c.state.focused||ng(f)&&!h&&!this.composing||c.isReadOnly()||c.options.disableInput||c.state.keySeq)return!1;var l=f.value;if(l==h&&!c.somethingSelected())return!1;if(ca&&9<=na&&this.hasSelection===l||jb&&/[\uf700-\uf7ff]/.test(l))return c.display.input.reset(),!1;if(c.doc.sel==c.display.selForContextMenu){var a=l.charCodeAt(0);8203!=a||h||(h="\u200b");if(8666==a)return this.reset(),this.cm.execCommand("undo")}for(var d=0,a=Math.min(h.length,l.length);d<a&&h.charCodeAt(d)==l.charCodeAt(d);)++d;var e=this;Xa(c,function(){X(c,l.slice(d),h.length-d,null,e.composing?"*compose":null);1E3<l.length||-1<l.indexOf("\n")?f.value=e.prevInput="":e.prevInput=l;e.composing&&(e.composing.range.clear(),e.composing.range=c.markText(e.composing.start,c.getCursor("to"),{className:"CodeMirror-composing"}))});return!0},ensurePolled:function(){this.pollingFast&&this.poll()&&(this.pollingFast=!1)},onKeyPress:function(){ca&&9<=na&&(this.hasSelection=null);this.fastPoll()},onContextMenu:function(c){function f(){if(null!=e.selectionStart){var c=a.somethingSelected(),f="\u200b"+(c?e.value:"");e.value="\u21da";e.value=f;l.prevInput=c?"":"\u200b";e.selectionStart=1;e.selectionEnd=f.length;d.selForContextMenu=a.doc.sel}}function h(){l.contextMenuPending=!1;l.wrapper.style.position="relative";e.style.cssText=x;ca&&9>na&&d.scrollbars.setScrollTop(d.scroller.scrollTop=b);if(null!=e.selectionStart){(!ca||ca&&9>na)&&f();var c=0,h=function(){d.selForContextMenu==a.doc.sel&&0==e.selectionStart&&0<e.selectionEnd&&"\u200b"==l.prevInput?wa(a,kd.selectAll)(a):10>c++?d.detectingSelectAll=setTimeout(h,500):d.input.reset()};d.detectingSelectAll=setTimeout(h,200)}}var l=this,a=l.cm,d=a.display,e=l.textarea,g=Yb(a,c),b=d.scroller.scrollTop;if(g&&!nb){a.options.resetSelectionOnContextMenu&&-1==a.doc.sel.contains(g)&&wa(a,ma)(a.doc,Pa(g),tb);var x=e.style.cssText;l.wrapper.style.position="absolute";e.style.cssText="position: fixed; width: 30px; height: 30px; top: "+(c.clientY-5)+"px; left: "+(c.clientX-5)+"px; z-index: 1000; background: "+(ca?"rgba(255, 255, 255, .05)":"transparent")+"; outline: none; border-width: 0; outline: none; overflow: hidden; opacity: .05; filter: alpha(opacity\x3d5);";if(Aa)var k=window.scrollY;d.input.focus();Aa&&window.scrollTo(null,k);d.input.reset();a.somethingSelected()||(e.value=l.prevInput=" ");l.contextMenuPending=!0;d.selForContextMenu=a.doc.sel;clearTimeout(d.detectingSelectAll);ca&&9<=na&&f();if(Od){fd(c);var m=function(){wb(window,"mouseup",m);setTimeout(h,20)};T(window,"mouseup",m)}else setTimeout(h,50)}},readOnlyChanged:function(c){c||this.reset()},setUneditable:Pc,needsContentAttribute:!1},sb.prototype);Ya.prototype=ib({init:function(c){function f(c){if(l.somethingSelected())fb=l.getSelections(),"cut"==c.type&&l.replaceSelection("",null,"cut");else if(l.options.lineWiseCopyCut){var f=ha(l);fb=f.text;"cut"==c.type&&l.operation(function(){l.setSelections(f.ranges,0,tb);l.replaceSelection("",null,"cut")})}else return;if(c.clipboardData&&!kc)c.preventDefault(),c.clipboardData.clearData(),c.clipboardData.setData("text/plain",fb.join("\n"));else{var h=jc();c=h.firstChild;l.display.lineSpace.insertBefore(h,l.display.lineSpace.firstChild);c.value=fb.join("\n");var a=document.activeElement;rc(c);setTimeout(function(){l.display.lineSpace.removeChild(h);a.focus()},50)}}var h=this,l=h.cm;c=h.div=c.lineDiv;xa(c);T(c,"paste",function(c){Ra(l,c)||J(c,l)});T(c,"compositionstart",function(c){c=c.data;h.composing={sel:l.doc.sel,data:c,startData:c};if(c){var f=l.doc.sel.primary(),a=l.getLine(f.head.line).indexOf(c,Math.max(0,f.head.ch-c.length));-1<a&&a<=f.head.ch&&(h.composing.sel=Pa(F(f.head.line,a),F(f.head.line,a+c.length)))}});T(c,"compositionupdate",function(c){h.composing.data=c.data});T(c,"compositionend",function(c){var f=h.composing;f&&(c.data==f.startData||/\u200b/.test(c.data)||(f.data=c.data),setTimeout(function(){f.handled||h.applyComposition(f);h.composing==f&&(h.composing=null)},50))});T(c,"touchstart",function(){h.forceCompositionEnd()});T(c,"input",function(){h.composing||!l.isReadOnly()&&h.pollContent()||Xa(h.cm,function(){La(l)})});T(c,"copy",f);T(c,"cut",f)},prepareSelection:function(){var c=Fb(this.cm,!1);c.focus=this.cm.state.focused;return c},showSelection:function(c){c&&this.cm.display.view.length&&(c.focus&&this.showPrimarySelection(),this.showMultipleSelections(c))},showPrimarySelection:function(){var c=window.getSelection(),f=this.cm.doc.sel.primary(),h=ra(this.cm,c.anchorNode,c.anchorOffset),l=ra(this.cm,c.focusNode,c.focusOffset);if(!h||h.bad||!l||l.bad||0!=Z(Ma(h,l),f.from())||0!=Z(Ga(h,l),f.to()))if(h=gb(this.cm,f.from()),l=gb(this.cm,f.to()),h||l){var a=this.cm.display.view,f=c.rangeCount&&c.getRangeAt(0);h?l||(l=a[a.length-1].measure,l=l.maps?l.maps[l.maps.length-1]:l.map,l={node:l[l.length-1],offset:l[l.length-2]-l[l.length-3]}):h={node:a[0].measure.map[2],offset:0};try{var d=Wb(h.node,h.offset,l.offset,l.node)}catch(e){}d&&(!Ab&&this.cm.state.focused?(c.collapse(h.node,h.offset),d.collapsed||c.addRange(d)):(c.removeAllRanges(),c.addRange(d)),f&&null==c.anchorNode?c.addRange(f):Ab&&this.startGracePeriod());this.rememberSelection()}},startGracePeriod:function(){var c=this;clearTimeout(this.gracePeriod);this.gracePeriod=setTimeout(function(){c.gracePeriod=!1;c.selectionChanged()&&c.cm.operation(function(){c.cm.curOp.selectionChanged=!0})},20)},showMultipleSelections:function(c){cb(this.cm.display.cursorDiv,c.cursors);cb(this.cm.display.selectionDiv,c.selection)},rememberSelection:function(){var c=window.getSelection();this.lastAnchorNode=c.anchorNode;this.lastAnchorOffset=c.anchorOffset;this.lastFocusNode=c.focusNode;this.lastFocusOffset=c.focusOffset},selectionInEditor:function(){var c=window.getSelection();if(!c.rangeCount)return!1;c=c.getRangeAt(0).commonAncestorContainer;return Dd(this.div,c)},focus:function(){"nocursor"!=this.cm.options.readOnly&&this.div.focus()},blur:function(){this.div.blur()},getField:function(){return this.div},supportsTouch:function(){return!0},receivedFocus:function(){function c(){f.cm.state.focused&&(f.pollSelection(),f.polling.set(f.cm.options.pollInterval,c))}var f=this;this.selectionInEditor()?this.pollSelection():Xa(this.cm,function(){f.cm.curOp.selectionChanged=!0});this.polling.set(this.cm.options.pollInterval,c)},selectionChanged:function(){var c=window.getSelection();return c.anchorNode!=this.lastAnchorNode||c.anchorOffset!=this.lastAnchorOffset||c.focusNode!=this.lastFocusNode||c.focusOffset!=this.lastFocusOffset},pollSelection:function(){if(!this.composing&&!this.gracePeriod&&this.selectionChanged()){var c=window.getSelection(),f=this.cm;this.rememberSelection();var h=ra(f,c.anchorNode,c.anchorOffset),l=ra(f,c.focusNode,c.focusOffset);h&&l&&Xa(f,function(){ma(f.doc,Pa(h,l),tb);if(h.bad||l.bad)f.curOp.selectionChanged=!0})}},pollContent:function(){var c=this.cm,f=c.display,h=c.doc.sel.primary(),l=h.from(),h=h.to();if(l.line<f.viewFrom||h.line>f.viewTo-1)return!1;var a;l.line==f.viewFrom||0==(a=Pb(c,l.line))?(l=la(f.view[0].line),a=f.view[0].node):(l=la(f.view[a].line),a=f.view[a-1].node.nextSibling);var d=Pb(c,h.line);d==f.view.length-1?(h=f.viewTo-1,f=f.lineDiv.lastChild):(h=la(f.view[d+1].line)-1,f=f.view[d+1].node.previousSibling);f=c.doc.splitLines(Dc(c,a,f,l,h));for(a=Rb(c.doc,F(l,0),F(h,Q(c.doc,h).text.length));1<f.length&&1<a.length;)if(ga(f)==ga(a))f.pop(),a.pop(),h--;else if(f[0]==a[0])f.shift(),a.shift(),l++;else break;for(var e=0,d=0,g=f[0],b=a[0],x=Math.min(g.length,b.length);e<x&&g.charCodeAt(e)==b.charCodeAt(e);)++e;g=ga(f);b=ga(a);for(x=Math.min(g.length-(1==f.length?e:0),b.length-(1==a.length?e:0));d<x&&g.charCodeAt(g.length-d-1)==b.charCodeAt(b.length-d-1);)++d;f[f.length-1]=g.slice(0,g.length-d);f[0]=f[0].slice(e);l=F(l,e);h=F(h,a.length?ga(a).length-d:0);if(1<f.length||f[0]||Z(l,h))return mc(c.doc,f,l,h,"+input"),!0},ensurePolled:function(){this.forceCompositionEnd()},reset:function(){this.forceCompositionEnd()},forceCompositionEnd:function(){this.composing&&!this.composing.handled&&(this.applyComposition(this.composing),this.composing.handled=!0,this.div.blur(),this.div.focus())},applyComposition:function(c){this.cm.isReadOnly()?wa(this.cm,La)(this.cm):c.data&&c.data!=c.startData&&wa(this.cm,X)(this.cm,c.data,0,c.sel)},setUneditable:function(c){c.contentEditable="false"},onKeyPress:function(c){c.preventDefault();this.cm.isReadOnly()||wa(this.cm,X)(this.cm,String.fromCharCode(null==c.charCode?c.keyCode:c.charCode),0)},readOnlyChanged:function(c){this.div.contentEditable=String("nocursor"!=c)},onContextMenu:Pc,resetPosition:Pc,needsContentAttribute:!0},Ya.prototype);p.inputStyles={textarea:sb,contenteditable:Ya};Na.prototype={primary:function(){return this.ranges[this.primIndex]},equals:function(c){if(c==this)return!0;if(c.primIndex!=this.primIndex||c.ranges.length!=this.ranges.length)return!1;for(var f=0;f<this.ranges.length;f++){var h=this.ranges[f],l=c.ranges[f];if(0!=Z(h.anchor,l.anchor)||0!=Z(h.head,l.head))return!1}return!0},deepCopy:function(){for(var c=[],f=0;f<this.ranges.length;f++)c[f]=new ba(Wa(this.ranges[f].anchor),Wa(this.ranges[f].head));return new Na(c,this.primIndex)},somethingSelected:function(){for(var c=0;c<this.ranges.length;c++)if(!this.ranges[c].empty())return!0;return!1},contains:function(c,f){f||(f=c);for(var h=0;h<this.ranges.length;h++){var l=this.ranges[h];if(0<=Z(f,l.from())&&0>=Z(c,l.to()))return h}return-1}};ba.prototype={from:function(){return Ma(this.anchor,this.head)},to:function(){return Ga(this.anchor,this.head)},empty:function(){return this.head.line==this.anchor.line&&this.head.ch==this.anchor.ch}};var Gd={left:0,right:0,top:0,bottom:0},Xb,lc=null,Ef=0,hd,gd,xe=0,id=0,db=null;ca?db=-.53:Ab?db=15:kg?db=-.7:ye&&(db=-1/3);var Fe=function(c){var f=c.wheelDeltaX,h=c.wheelDeltaY;null==f&&c.detail&&c.axis==c.HORIZONTAL_AXIS&&(f=c.detail);null==h&&c.detail&&c.axis==c.VERTICAL_AXIS?h=c.detail:null==h&&(h=c.wheelDelta);return{x:f,y:h}};p.wheelEventPixels=function(c){c=Fe(c);c.x*=db;c.y*=db;return c};var Qf=new Jb,Rd=null,Zb=p.changeEnd=function(c){return c.text?F(c.from.line+c.text.length-1,ga(c.text).length+(1==c.text.length?c.from.ch:0)):c.to};p.prototype={constructor:p,focus:function(){window.focus();this.display.input.focus()},setOption:function(c,f){var h=this.options,l=h[c];if(h[c]!=f||"mode"==c)h[c]=f,ec.hasOwnProperty(c)&&wa(this,ec[c])(this,f,l)},getOption:function(c){return this.options[c]},getDoc:function(){return this.doc},addKeyMap:function(c,f){this.state.keyMaps[f?"push":"unshift"](rd(c))},removeKeyMap:function(c){for(var f=this.state.keyMaps,h=0;h<f.length;++h)if(f[h]==c||f[h].name==c)return f.splice(h,1),!0},addOverlay:Da(function(c,f){var h=c.token?c:p.getMode(this.options,c);if(h.startState)throw Error("Overlays may not be stateful.");this.state.overlays.push({mode:h,modeSpec:c,opaque:f&&f.opaque});this.state.modeGen++;La(this)}),removeOverlay:Da(function(c){for(var f=this.state.overlays,h=0;h<f.length;++h){var l=f[h].modeSpec;if(l==c||"string"==typeof c&&l.name==c){f.splice(h,1);this.state.modeGen++;La(this);break}}}),indentLine:Da(function(c,f,h){"string"!=typeof f&&"number"!=typeof f&&(f=null==f?this.options.smartIndent?"smart":"prev":f?"add":"subtract");Qa(this.doc,c)&&Cc(this,c,f,h)}),indentSelection:Da(function(c){for(var f=this.doc.sel.ranges,h=-1,l=0;l<f.length;l++){var a=f[l];if(a.empty())a.head.line>h&&(Cc(this,a.head.line,c,!0),h=a.head.line,l==this.doc.sel.primIndex&&ic(this));else{for(var d=a.from(),a=a.to(),e=Math.max(h,d.line),h=Math.min(this.lastLine(),a.line-(a.ch?0:1))+1,a=e;a<h;++a)Cc(this,a,c);a=this.doc.sel.ranges;0==d.ch&&f.length==a.length&&0<a[l].from().ch&&ta(this.doc,l,new ba(d,a[l].to()),tb)}}}),getTokenAt:function(c,f){return df(this,c,f)},getLineTokens:function(c,f){return df(this,F(c),f,!0)},getTokenTypeAt:function(c){c=S(this.doc,c);var f=ff(this,Q(this.doc,c.line)),h=0,l=(f.length-1)/2;c=c.ch;if(0==c)f=f[2];else for(;;){var a=h+l>>1;if((a?f[2*a-1]:0)>=c)l=a;else if(f[2*a+1]<c)h=a+1;else{f=f[2*a+2];break}}h=f?f.indexOf("cm-overlay "):-1;return 0>h?f:0==h?null:f.slice(0,h-1)},getModeAt:function(c){var f=this.doc.mode;return f.innerMode?p.innerMode(f,this.getTokenAt(c).state).mode:f},getHelper:function(c,f){return this.getHelpers(c,f)[0]},getHelpers:function(c,f){var h=[];if(!sc.hasOwnProperty(f))return h;var l=sc[f],a=this.getModeAt(c);if("string"==typeof a[f])l[a[f]]&&h.push(l[a[f]]);else if(a[f])for(var d=0;d<a[f].length;d++){var e=l[a[f][d]];e&&h.push(e)}else a.helperType&&l[a.helperType]?h.push(l[a.helperType]):l[a.name]&&h.push(l[a.name]);for(d=0;d<l._global.length;d++)e=l._global[d],e.pred(a,this)&&-1==Ca(h,e.val)&&h.push(e.val);return h},getStateAfter:function(c,f){var h=this.doc;c=Math.max(h.first,Math.min(null==c?h.first+h.size-1:c,h.first+h.size-1));return Vb(this,c+1,f)},cursorCoords:function(c,f){var h;h=this.doc.sel.primary();h=null==c?h.head:"object"==typeof c?S(this.doc,c):c?h.from():h.to();return xb(this,h,f||"page")},charCoords:function(c,f){return Zc(this,S(this.doc,c),f||"page")},coordsChar:function(c,f){c=te(this,c,f||"page");return Ld(this,c.left,c.top)},lineAtHeight:function(c,f){c=te(this,{top:c,left:0},f||"page").top;return Ob(this.doc,c+this.display.viewOffset)},heightAtLine:function(c,f){var h=!1,l;"number"==typeof c?(l=this.doc.first+this.doc.size-1,c<this.doc.first?c=this.doc.first:c>l&&(c=l,h=!0),l=Q(this.doc,c)):l=c;return Id(this,l,{top:0,left:0},f||"page").top+(h?this.doc.height-qb(l):0)},defaultTextHeight:function(){return Kb(this.display)},defaultCharWidth:function(){return wc(this.display)},setGutterMarker:Da(function(c,f,h){return pd(this.doc,c,"gutter",function(c){var l=c.gutterMarkers||(c.gutterMarkers={});l[f]=h;!h&&pf(l)&&(c.gutterMarkers=null);return!0})}),clearGutter:Da(function(c){var f=this,h=f.doc,l=h.first;h.iter(function(h){h.gutterMarkers&&h.gutterMarkers[c]&&(h.gutterMarkers[c]=null,yb(f,l,"gutter"),pf(h.gutterMarkers)&&(h.gutterMarkers=null));++l})}),lineInfo:function(c){if("number"==typeof c){if(!Qa(this.doc,c))return null;var f=c;c=Q(this.doc,c);if(!c)return null}else if(f=la(c),null==f)return null;return{line:f,handle:c,text:c.text,gutterMarkers:c.gutterMarkers,textClass:c.textClass,bgClass:c.bgClass,wrapClass:c.wrapClass,widgets:c.widgets}},getViewport:function(){return{from:this.display.viewFrom,to:this.display.viewTo}},addWidget:function(c,f,h,l,a){var d=this.display;c=xb(this,S(this.doc,c));var e=c.bottom,g=c.left;f.style.position="absolute";f.setAttribute("cm-ignore-events","true");this.display.input.setUneditable(f);d.sizer.appendChild(f);if("over"==l)e=c.top;else if("above"==l||"near"==l){var b=Math.max(d.wrapper.clientHeight,this.doc.height),x=Math.max(d.sizer.clientWidth,d.lineSpace.clientWidth);("above"==l||c.bottom+f.offsetHeight>b)&&c.top>f.offsetHeight?e=c.top-f.offsetHeight:c.bottom+f.offsetHeight<=b&&(e=c.bottom);g+f.offsetWidth>x&&(g=x-f.offsetWidth)}f.style.top=e+"px";f.style.left=f.style.right="";"right"==a?(g=d.sizer.clientWidth-f.offsetWidth,f.style.right="0px"):("left"==a?g=0:"middle"==a&&(g=(d.sizer.clientWidth-f.offsetWidth)/2),f.style.left=g+"px");h&&(c=dd(this,g,e,g+f.offsetWidth,e+f.offsetHeight),null!=c.scrollTop&&Ac(this,c.scrollTop),null!=c.scrollLeft&&gc(this,c.scrollLeft))},triggerOnKeyDown:Da(Be),triggerOnKeyPress:Da(Ce),triggerOnKeyUp:Ae,execCommand:function(c){if(kd.hasOwnProperty(c))return kd[c].call(null,this)},triggerElectric:Da(function(c){fa(this,c)}),findPosH:function(c,f,h,l){var a=1;0>f&&(a=-1,f=-f);var d=0;for(c=S(this.doc,c);d<f&&(c=Wd(this.doc,c,a,h,l),!c.hitSide);++d);return c},moveH:Da(function(c,f){var h=this;h.extendSelectionsBy(function(l){return h.display.shift||h.doc.extend||l.empty()?Wd(h.doc,l.head,c,f,h.options.rtlMoveVisually):0>c?l.from():l.to()},Rc)}),deleteH:Da(function(c,f){var h=this.doc;this.doc.sel.somethingSelected()?h.replaceSelection("",null,"+delete"):nc(this,function(l){var a=Wd(h,l.head,c,f,!1);return 0>c?{from:a,to:l.head}:{from:l.head,to:a}})}),findPosV:function(c,f,h,l){var a=1;0>f&&(a=-1,f=-f);var d=0;for(c=S(this.doc,c);d<f&&(c=xb(this,c,"div"),null==l?l=c.left:c.left=l,c=Ve(this,c,a,h),!c.hitSide);++d);return c},moveV:Da(function(c,f){var h=this,l=this.doc,a=[],d=!h.display.shift&&!l.extend&&l.sel.somethingSelected();l.extendSelectionsBy(function(e){if(d)return 0>c?e.from():e.to();var g=xb(h,e.head,"div");null!=e.goalColumn&&(g.left=e.goalColumn);a.push(g.left);var b=Ve(h,g,c,f);"page"==f&&e==l.sel.primary()&&nd(h,null,Zc(h,b,"div").top-g.top);return b},Rc);if(a.length)for(var e=0;e<l.sel.ranges.length;e++)l.sel.ranges[e].goalColumn=a[e]}),findWordAt:function(c){var f=Q(this.doc,c.line).text,h=c.ch,l=c.ch;if(f){var a=this.getHelper(c,"wordChars");(0>c.xRel||l==f.length)&&h?--h:++l;for(var d=f.charAt(h),d=qd(d,a)?function(c){return qd(c,a)}:/\s/.test(d)?function(c){return/\s/.test(c)}:function(c){return!/\s/.test(c)&&!qd(c)};0<h&&d(f.charAt(h-1));)--h;for(;l<f.length&&d(f.charAt(l));)++l}return new ba(F(c.line,h),F(c.line,l))},toggleOverwrite:function(c){if(null==c||c!=this.state.overwrite)(this.state.overwrite=!this.state.overwrite)?Bc(this.display.cursorDiv,"CodeMirror-overwrite"):zc(this.display.cursorDiv,"CodeMirror-overwrite"),ya(this,"overwriteToggle",this,this.state.overwrite)},hasFocus:function(){return this.display.input.getField()==rb()},isReadOnly:function(){return!(!this.options.readOnly&&!this.doc.cantEdit)},scrollTo:Da(function(c,f){null==c&&null==f||od(this);null!=c&&(this.curOp.scrollLeft=c);null!=f&&(this.curOp.scrollTop=f)}),getScrollInfo:function(){var c=this.display.scroller;return{left:c.scrollLeft,top:c.scrollTop,height:c.scrollHeight-x(this)-this.display.barHeight,width:c.scrollWidth-x(this)-this.display.barWidth,clientHeight:qa(this),clientWidth:z(this)}},scrollIntoView:Da(function(c,f){null==c?(c={from:this.doc.sel.primary().head,to:null},null==f&&(f=this.options.cursorScrollMargin)):"number"==typeof c?c={from:F(c,0),to:null}:null==c.from&&(c={from:c,to:null});c.to||(c.to=c.from);c.margin=f||0;if(null!=c.from.line)od(this),this.curOp.scrollToPos=c;else{var h=dd(this,Math.min(c.from.left,c.to.left),Math.min(c.from.top,c.to.top)-c.margin,Math.max(c.from.right,c.to.right),Math.max(c.from.bottom,c.to.bottom)+c.margin);this.scrollTo(h.scrollLeft,h.scrollTop)}}),setSize:Da(function(c,f){function h(c){return"number"==typeof c||/^\d+$/.test(String(c))?c+"px":c}var l=this;null!=c&&(l.display.wrapper.style.width=h(c));null!=f&&(l.display.wrapper.style.height=h(f));l.options.lineWrapping&&se(this);var a=l.display.viewFrom;l.doc.iter(a,l.display.viewTo,function(c){if(c.widgets)for(var f=0;f<c.widgets.length;f++)if(c.widgets[f].noHScroll){yb(l,a,"widget");break}++a});l.curOp.forceUpdate=!0;ya(l,"refresh",this)}),operation:function(c){return Xa(this,c)},refresh:Da(function(){var c=this.display.cachedTextHeight;La(this);this.curOp.forceUpdate=!0;xc(this);this.scrollTo(this.doc.scrollLeft,this.doc.scrollTop);a(this);(null==c||.5<Math.abs(c-Kb(this.display)))&&r(this);ya(this,"refresh",this)}),swapDoc:Da(function(c){var f=this.doc;f.cm=null;fe(this,c);xc(this);this.display.input.reset();this.scrollTo(c.scrollLeft,c.scrollTop);this.curOp.forceScroll=!0;Ua(this,"swapDoc",this,f);return f}),getInputField:function(){return this.display.input.getField()},getWrapperElement:function(){return this.display.wrapper},getScrollerElement:function(){return this.display.scroller},getGutterElement:function(){return this.display.gutters}};qc(p);var yf=p.defaults={},ec=p.optionHandlers={},ge=p.Init={toString:function(){return"CodeMirror.Init"}};W("value","",function(c,f){c.setValue(f)},!0);W("mode",null,function(c,f){c.doc.modeOption=f;v(c)},!0);W("indentUnit",2,v,!0);W("indentWithTabs",!1);W("smartIndent",!0);W("tabSize",4,function(c){u(c);xc(c);La(c)},!0);W("lineSeparator",null,function(c,f){if(c.doc.lineSep=f){var l=[],a=c.doc.first;c.doc.iter(function(c){for(var d=0;;){var e=c.text.indexOf(f,d);if(-1==e)break;d=e+f.length;l.push(F(a,e))}a++});for(var d=l.length-1;0<=d;d--)mc(c.doc,f,l[d],F(l[d].line,l[d].ch+f.length))}});W("specialChars",/[\t\u0000-\u0019\u00ad\u200b-\u200f\u2028\u2029\ufeff]/g,function(c,f,l){c.state.specialChars=new RegExp(f.source+(f.test("\t")?"":"|\t"),"g");l!=p.Init&&c.refresh()});W("specialCharPlaceholder",function(c){var f=O("span","\u2022","cm-invalidchar");f.title="\\u"+c.charCodeAt(0).toString(16);f.setAttribute("aria-label",f.title);return f},function(c){c.refresh()},!0);W("electricChars",!0);W("inputStyle",tc?"contenteditable":"textarea",function(){throw Error("inputStyle can not (yet) be changed in a running editor");},!0);W("rtlMoveVisually",!mg);W("wholeLineUpdateBefore",!0);W("theme","default",function(c){m(c);k(c)},!0);W("keyMap","default",function(c,f,l){f=rd(f);(l=l!=p.Init&&rd(l))&&l.detach&&l.detach(c,f);f.attach&&f.attach(c,l||null)});W("extraKeys",null);W("lineWrapping",!1,function(c){c.options.lineWrapping?(Bc(c.display.wrapper,"CodeMirror-wrap"),c.display.sizer.style.minWidth="",c.display.sizerWidth=null):(zc(c.display.wrapper,"CodeMirror-wrap"),e(c));r(c);La(c);xc(c);setTimeout(function(){H(c)},100)},!0);W("gutters",[],function(c){B(c.options);k(c)},!0);W("fixedGutter",!0,function(c,f){c.display.gutters.style.left=f?R(c.display)+"px":"0";c.refresh()},!0);W("coverGutterNextToScrollbar",!1,function(c){H(c)},!0);W("scrollbarStyle","native",function(c){C(c);H(c);c.display.scrollbars.setScrollTop(c.doc.scrollTop);c.display.scrollbars.setScrollLeft(c.doc.scrollLeft)},!0);W("lineNumbers",!1,function(c){B(c.options);k(c)},!0);W("firstLineNumber",1,k,!0);W("lineNumberFormatter",function(c){return c},k,!0);W("showCursorWhenSelecting",!1,Ta,!0);W("resetSelectionOnContextMenu",!0);W("lineWiseCopyCut",!0);W("readOnly",!1,function(c,f){"nocursor"==f?(vc(c),c.display.input.blur(),c.display.disabled=!0):c.display.disabled=!1;c.display.input.readOnlyChanged(f)});W("disableInput",!1,function(c,f){f||c.display.input.reset()},!0);W("dragDrop",!0,function(c,f,l){!f!=!(l&&l!=p.Init)&&(l=c.display.dragFunctions,f=f?T:wb,f(c.display.scroller,"dragstart",l.start),f(c.display.scroller,"dragenter",l.enter),f(c.display.scroller,"dragover",l.over),f(c.display.scroller,"dragleave",l.leave),f(c.display.scroller,"drop",l.drop))});W("allowDropFileTypes",null);W("cursorBlinkRate",530);W("cursorScrollMargin",0);W("cursorHeight",1,Ta,!0);W("singleCursorHeightPerLine",!0,Ta,!0);W("workTime",100);W("workDelay",100);W("flattenSpans",!0,u,!0);W("addModeClass",!1,u,!0);W("pollInterval",100);W("undoDepth",200,function(c,f){c.doc.history.undoDepth=f});W("historyEventDelay",1250);W("viewportMargin",10,function(c){c.refresh()},!0);W("maxHighlightLength",1E4,u,!0);W("moveInputWithCursor",!0,function(c,f){f||c.display.input.resetPosition()});W("tabindex",null,function(c,f){c.display.input.getField().tabIndex=f||""});W("autofocus",null);var xf=p.modes={},Sc=p.mimeModes={};p.defineMode=function(c,f){p.defaults.mode||"null"==c||(p.defaults.mode=c);2<arguments.length&&(f.dependencies=Array.prototype.slice.call(arguments,2));xf[c]=f};p.defineMIME=function(c,f){Sc[c]=f};p.resolveMode=function(c){if("string"==typeof c&&Sc.hasOwnProperty(c))c=Sc[c];else if(c&&"string"==typeof c.name&&Sc.hasOwnProperty(c.name)){var f=Sc[c.name];"string"==typeof f&&(f={name:f});c=nf(f,c);c.name=f.name}else if("string"==typeof c&&/^[\w\-]+\/[\w\-]+\+xml$/.test(c))return p.resolveMode("application/xml");return"string"==typeof c?{name:c}:c||{name:"null"}};p.getMode=function(c,f){f=p.resolveMode(f);var l=xf[f.name];if(!l)return p.getMode(c,"text/plain");l=l(c,f);if(Tc.hasOwnProperty(f.name)){var a=Tc[f.name],d;for(d in a)a.hasOwnProperty(d)&&(l.hasOwnProperty(d)&&(l["_"+d]=l[d]),l[d]=a[d])}l.name=f.name;f.helperType&&(l.helperType=f.helperType);if(f.modeProps)for(d in f.modeProps)l[d]=f.modeProps[d];return l};p.defineMode("null",function(){return{token:function(c){c.skipToEnd()}}});p.defineMIME("text/plain","null");var Tc=p.modeExtensions={};p.extendMode=function(c,f){var l=Tc.hasOwnProperty(c)?Tc[c]:Tc[c]={};ib(f,l)};p.defineExtension=function(c,f){p.prototype[c]=f};p.defineDocExtension=function(c,f){Sa.prototype[c]=f};p.defineOption=W;var Ad=[];p.defineInitHook=function(c){Ad.push(c)};var sc=p.helpers={};p.registerHelper=function(c,f,l){sc.hasOwnProperty(c)||(sc[c]=p[c]={_global:[]});sc[c][f]=l};p.registerGlobalHelper=function(c,f,l,a){p.registerHelper(c,f,a);sc[c]._global.push({pred:l,val:a})};var Hb=p.copyState=function(c,f){if(!0===f)return f;if(c.copyState)return c.copyState(f);var l={},a;for(a in f){var d=f[a];d instanceof Array&&(d=d.concat([]));l[a]=d}return l},Cf=p.startState=function(c,f,l){return c.startState?c.startState(f,l):!0};p.innerMode=function(c,f){for(;c.innerMode;){var l=c.innerMode(f);if(!l||l.mode==c)break;f=l.state;c=l.mode}return l||{mode:c,state:f}};var kd=p.commands={selectAll:function(c){c.setSelection(F(c.firstLine(),0),F(c.lastLine()),tb)},singleSelection:function(c){c.setSelection(c.getCursor("anchor"),c.getCursor("head"),tb)},killLine:function(c){nc(c,function(f){if(f.empty()){var l=Q(c.doc,f.head.line).text.length;return f.head.ch==l&&f.head.line<c.lastLine()?{from:f.head,to:F(f.head.line+1,0)}:{from:f.head,to:F(f.head.line,l)}}return{from:f.from(),to:f.to()}})},deleteLine:function(c){nc(c,function(f){return{from:F(f.from().line,0),to:S(c.doc,F(f.to().line+1,0))}})},delLineLeft:function(c){nc(c,function(c){return{from:F(c.from().line,0),to:c.from()}})},delWrappedLineLeft:function(c){nc(c,function(f){var l=c.charCoords(f.head,"div").top+5;return{from:c.coordsChar({left:0,top:l},"div"),to:f.from()}})},delWrappedLineRight:function(c){nc(c,function(f){var l=c.charCoords(f.head,"div").top+5,l=c.coordsChar({left:c.display.lineDiv.offsetWidth+100,top:l},"div");return{from:f.from(),to:l}})},undo:function(c){c.undo()},redo:function(c){c.redo()},undoSelection:function(c){c.undoSelection()},redoSelection:function(c){c.redoSelection()},goDocStart:function(c){c.extendSelection(F(c.firstLine(),0))},goDocEnd:function(c){c.extendSelection(F(c.lastLine()))},goLineStart:function(c){c.extendSelectionsBy(function(f){return rf(c,f.head.line)},{origin:"+move",bias:1})},goLineStartSmart:function(c){c.extendSelectionsBy(function(f){return sf(c,f.head)},{origin:"+move",bias:1})},goLineEnd:function(c){c.extendSelectionsBy(function(f){f=f.head.line;for(var l,a=Q(c.doc,f);l=Nb(a,!1);)a=l.find(1,!0).line,f=null;l=(l=kb(a))?l[0].level%2?bd(a):cd(a):a.text.length;return F(null==f?la(a):f,l)},{origin:"+move",bias:-1})},goLineRight:function(c){c.extendSelectionsBy(function(f){f=c.charCoords(f.head,"div").top+5;return c.coordsChar({left:c.display.lineDiv.offsetWidth+100,top:f},"div")},Rc)},goLineLeft:function(c){c.extendSelectionsBy(function(f){f=c.charCoords(f.head,"div").top+5;return c.coordsChar({left:0,top:f},"div")},Rc)},goLineLeftSmart:function(c){c.extendSelectionsBy(function(f){var l=c.charCoords(f.head,"div").top+5,l=c.coordsChar({left:0,top:l},"div");return l.ch<c.getLine(l.line).search(/\S/)?sf(c,f.head):l},Rc)},goLineUp:function(c){c.moveV(-1,"line")},goLineDown:function(c){c.moveV(1,"line")},goPageUp:function(c){c.moveV(-1,"page")},goPageDown:function(c){c.moveV(1,"page")},goCharLeft:function(c){c.moveH(-1,"char")},goCharRight:function(c){c.moveH(1,"char")},goColumnLeft:function(c){c.moveH(-1,"column")},goColumnRight:function(c){c.moveH(1,"column")},goWordLeft:function(c){c.moveH(-1,"word")},goGroupRight:function(c){c.moveH(1,"group")},goGroupLeft:function(c){c.moveH(-1,"group")},goWordRight:function(c){c.moveH(1,"word")},delCharBefore:function(c){c.deleteH(-1,"char")},delCharAfter:function(c){c.deleteH(1,"char")},delWordBefore:function(c){c.deleteH(-1,"word")},delWordAfter:function(c){c.deleteH(1,"word")},delGroupBefore:function(c){c.deleteH(-1,"group")},delGroupAfter:function(c){c.deleteH(1,"group")},indentAuto:function(c){c.indentSelection("smart")},indentMore:function(c){c.indentSelection("add")},indentLess:function(c){c.indentSelection("subtract")},insertTab:function(c){c.replaceSelection("\t")},insertSoftTab:function(c){for(var f=[],l=c.listSelections(),a=c.options.tabSize,d=0;d<l.length;d++){var e=l[d].from(),e=mb(c.getLine(e.line),e.ch,a);f.push(Array(a-e%a+1).join(" "))}c.replaceSelections(f)},defaultTab:function(c){c.somethingSelected()?c.indentSelection("add"):c.execCommand("insertTab")},transposeChars:function(c){Xa(c,function(){for(var f=c.listSelections(),l=[],a=0;a<f.length;a++){var d=f[a].head,e=Q(c.doc,d.line).text;if(e)if(d.ch==e.length&&(d=new F(d.line,d.ch-1)),0<d.ch)d=new F(d.line,d.ch+1),c.replaceRange(e.charAt(d.ch-1)+e.charAt(d.ch-2),F(d.line,d.ch-2),d,"+transpose");else if(d.line>c.doc.first){var g=Q(c.doc,d.line-1).text;g&&c.replaceRange(e.charAt(0)+c.doc.lineSeparator()+g.charAt(g.length-1),F(d.line-1,g.length-1),F(d.line,1),"+transpose")}l.push(new ba(d,d))}c.setSelections(l)})},newlineAndIndent:function(c){Xa(c,function(){for(var f=c.listSelections().length,l=0;l<f;l++){var a=c.listSelections()[l];c.replaceRange(c.doc.lineSeparator(),a.anchor,a.head,"+input");c.indentLine(a.from().line+1,null,!0)}ic(c)})},toggleOverwrite:function(c){c.toggleOverwrite()}},Ib=p.keyMap={};Ib.basic={Left:"goCharLeft",Right:"goCharRight",Up:"goLineUp",Down:"goLineDown",End:"goLineEnd",Home:"goLineStartSmart",PageUp:"goPageUp",PageDown:"goPageDown",Delete:"delCharAfter",Backspace:"delCharBefore","Shift-Backspace":"delCharBefore",Tab:"defaultTab","Shift-Tab":"indentAuto",Enter:"newlineAndIndent",Insert:"toggleOverwrite",Esc:"singleSelection"};Ib.pcDefault={"Ctrl-A":"selectAll","Ctrl-D":"deleteLine","Ctrl-Z":"undo","Shift-Ctrl-Z":"redo","Ctrl-Y":"redo","Ctrl-Home":"goDocStart","Ctrl-End":"goDocEnd","Ctrl-Up":"goLineUp","Ctrl-Down":"goLineDown","Ctrl-Left":"goGroupLeft","Ctrl-Right":"goGroupRight","Alt-Left":"goLineStart","Alt-Right":"goLineEnd","Ctrl-Backspace":"delGroupBefore","Ctrl-Delete":"delGroupAfter","Ctrl-S":"save","Ctrl-F":"find","Ctrl-G":"findNext","Shift-Ctrl-G":"findPrev","Shift-Ctrl-F":"replace","Shift-Ctrl-R":"replaceAll","Ctrl-[":"indentLess","Ctrl-]":"indentMore","Ctrl-U":"undoSelection","Shift-Ctrl-U":"redoSelection","Alt-U":"redoSelection",fallthrough:"basic"};Ib.emacsy={"Ctrl-F":"goCharRight","Ctrl-B":"goCharLeft","Ctrl-P":"goLineUp","Ctrl-N":"goLineDown","Alt-F":"goWordRight","Alt-B":"goWordLeft","Ctrl-A":"goLineStart","Ctrl-E":"goLineEnd","Ctrl-V":"goPageDown","Shift-Ctrl-V":"goPageUp","Ctrl-D":"delCharAfter","Ctrl-H":"delCharBefore","Alt-D":"delWordAfter","Alt-Backspace":"delWordBefore","Ctrl-K":"killLine","Ctrl-T":"transposeChars"};Ib.macDefault={"Cmd-A":"selectAll","Cmd-D":"deleteLine","Cmd-Z":"undo","Shift-Cmd-Z":"redo","Cmd-Y":"redo","Cmd-Home":"goDocStart","Cmd-Up":"goDocStart","Cmd-End":"goDocEnd","Cmd-Down":"goDocEnd","Alt-Left":"goGroupLeft","Alt-Right":"goGroupRight","Cmd-Left":"goLineLeft","Cmd-Right":"goLineRight","Alt-Backspace":"delGroupBefore","Ctrl-Alt-Backspace":"delGroupAfter","Alt-Delete":"delGroupAfter","Cmd-S":"save","Cmd-F":"find","Cmd-G":"findNext","Shift-Cmd-G":"findPrev","Cmd-Alt-F":"replace","Shift-Cmd-Alt-F":"replaceAll","Cmd-[":"indentLess","Cmd-]":"indentMore","Cmd-Backspace":"delWrappedLineLeft","Cmd-Delete":"delWrappedLineRight","Cmd-U":"undoSelection","Shift-Cmd-U":"redoSelection","Ctrl-Up":"goDocStart","Ctrl-Down":"goDocEnd",fallthrough:["basic","emacsy"]};Ib["default"]=jb?Ib.macDefault:Ib.pcDefault;p.normalizeKeyMap=function(c){var f={},l;for(l in c)if(c.hasOwnProperty(l)){var a=c[l];if(!/^(name|fallthrough|(de|at)tach)$/.test(l)){if("..."!=a)for(var d=Wc(l.split(" "),Wf),e=0;e<d.length;e++){var g,b;e==d.length-1?(b=d.join(" "),g=a):(b=d.slice(0,e+1).join(" "),g="...");var x=f[b];if(!x)f[b]=g;else if(x!=g)throw Error("Inconsistent bindings for "+b);}delete c[l]}}for(var k in f)c[k]=f[k];return c};var Ic=p.lookupKey=function(c,f,l,a){f=rd(f);var d=f.call?f.call(c,a):f[c];if(!1===d)return"nothing";if("..."===d)return"multi";if(null!=d&&l(d))return"handled";if(f.fallthrough){if("[object Array]"!=Object.prototype.toString.call(f.fallthrough))return Ic(c,f.fallthrough,l,a);for(d=0;d<f.fallthrough.length;d++){var e=Ic(c,f.fallthrough[d],l,a);if(e)return e}}},Pf=p.isModifierKey=function(c){c="string"==typeof c?c:cc[c.keyCode];return"Ctrl"==c||"Alt"==c||"Shift"==c||"Mod"==c},Rf=p.keyName=function(c,f){if(nb&&34==c.keyCode&&c["char"])return!1;var l=cc[c.keyCode],a=l;if(null==a||c.altGraphKey)return!1;c.altKey&&"Alt"!=l&&(a="Alt-"+a);(wf?c.metaKey:c.ctrlKey)&&"Ctrl"!=l&&(a="Ctrl-"+a);(wf?c.ctrlKey:c.metaKey)&&"Cmd"!=l&&(a="Cmd-"+a);!f&&c.shiftKey&&"Shift"!=l&&(a="Shift-"+a);return a};p.fromTextArea=function(c,f){function l(){c.value=x.getValue()}f=f?ib(f):{};f.value=c.value;!f.tabindex&&c.tabIndex&&(f.tabindex=c.tabIndex);!f.placeholder&&c.placeholder&&(f.placeholder=c.placeholder);if(null==f.autofocus){var a=rb();f.autofocus=a==c||null!=c.getAttribute("autofocus")&&a==document.body}if(c.form&&(T(c.form,"submit",l),!f.leaveSubmitMethodAlone)){var d=c.form,e=d.submit;try{var g=d.submit=function(){l();d.submit=e;d.submit();d.submit=g}}catch(b){}}f.finishInit=function(f){f.save=l;f.getTextArea=function(){return c};f.toTextArea=function(){f.toTextArea=isNaN;l();c.parentNode.removeChild(f.getWrapperElement());c.style.display="";c.form&&(wb(c.form,"submit",l),"function"==typeof c.form.submit&&(c.form.submit=e))}};c.style.display="none";var x=p(function(f){c.parentNode.insertBefore(f,c.nextSibling)},f);return x};var vd=p.StringStream=function(c,f){this.pos=this.start=0;this.string=c;this.tabSize=f||8;this.lineStart=this.lastColumnPos=this.lastColumnValue=0};vd.prototype={eol:function(){return this.pos>=this.string.length},sol:function(){return this.pos==this.lineStart},peek:function(){return this.string.charAt(this.pos)||void 0},next:function(){if(this.pos<this.string.length)return this.string.charAt(this.pos++)},eat:function(c){var f=this.string.charAt(this.pos);if("string"==typeof c?f==c:f&&(c.test?c.test(f):c(f)))return++this.pos,f},eatWhile:function(c){for(var f=this.pos;this.eat(c););return this.pos>f},eatSpace:function(){for(var c=this.pos;/[\s\u00a0]/.test(this.string.charAt(this.pos));)++this.pos;return this.pos>c},skipToEnd:function(){this.pos=this.string.length},skipTo:function(c){c=this.string.indexOf(c,this.pos);if(-1<c)return this.pos=c,!0},backUp:function(c){this.pos-=c},column:function(){this.lastColumnPos<this.start&&(this.lastColumnValue=mb(this.string,this.start,this.tabSize,this.lastColumnPos,this.lastColumnValue),this.lastColumnPos=this.start);return this.lastColumnValue-(this.lineStart?mb(this.string,this.lineStart,this.tabSize):0)},indentation:function(){return mb(this.string,null,this.tabSize)-(this.lineStart?mb(this.string,this.lineStart,this.tabSize):0)},match:function(c,f,l){if("string"==typeof c){var a=function(c){return l?c.toLowerCase():c},d=this.string.substr(this.pos,c.length);if(a(d)==a(c))return!1!==f&&(this.pos+=c.length),!0}else{if((c=this.string.slice(this.pos).match(c))&&0<c.index)return null;c&&!1!==f&&(this.pos+=c[0].length);return c}},current:function(){return this.string.slice(this.start,this.pos)},hideFirstChars:function(c,f){this.lineStart+=c;try{return f()}finally{this.lineStart-=c}}};var Xd=0,ac=p.TextMarker=function(c,f){this.lines=[];this.type=f;this.doc=c;this.id=++Xd};qc(ac);ac.prototype.clear=function(){if(!this.explicitlyCleared){var c=this.doc.cm,f=c&&!c.curOp;f&&dc(c);if(hb(this,"clear")){var l=this.find();l&&Ua(this,"clear",l.from,l.to)}for(var a=l=null,e=0;e<this.lines.length;++e){var g=this.lines[e],b=Kc(g.markedSpans,this);c&&!this.collapsed?yb(c,la(g),"text"):c&&(null!=b.to&&(a=la(g)),null!=b.from&&(l=la(g)));for(var x=g,k=g.markedSpans,m=b,z=void 0,n=0;n<k.length;++n)k[n]!=m&&(z||(z=[])).push(k[n]);x.markedSpans=z;null==b.from&&this.collapsed&&!Lb(this.doc,g)&&c&&pb(g,Kb(c.display))}if(c&&this.collapsed&&!c.options.lineWrapping)for(e=0;e<this.lines.length;++e)g=vb(this.lines[e]),b=d(g),b>c.display.maxLineLength&&(c.display.maxLine=g,c.display.maxLineLength=b,c.display.maxLineChanged=!0);null!=l&&c&&this.collapsed&&La(c,l,a+1);this.lines.length=0;this.explicitlyCleared=!0;this.atomic&&this.doc.cantEdit&&(this.doc.cantEdit=!1,c&&Ha(c.doc));c&&Ua(c,"markerCleared",c,this);f&&fc(c);this.parent&&this.parent.clear()}};ac.prototype.find=function(c,f){null==c&&"bookmark"==this.type&&(c=1);for(var l,a,d=0;d<this.lines.length;++d){var e=this.lines[d],g=Kc(e.markedSpans,this);if(null!=g.from&&(l=F(f?e:la(e),g.from),-1==c))return l;if(null!=g.to&&(a=F(f?e:la(e),g.to),1==c))return a}return l&&{from:l,to:a}};ac.prototype.changed=function(){var c=this.find(-1,!0),f=this,l=this.doc.cm;c&&l&&Xa(l,function(){var a=c.line,d=la(c.line);if(d=Cd(l,d))re(d),l.curOp.selectionChanged=l.curOp.forceUpdate=!0;l.curOp.updateMaxLine=!0;Lb(f.doc,a)||null==f.height||(d=f.height,f.height=null,(d=Gc(f)-d)&&pb(a,a.height+d))})};ac.prototype.attachLine=function(c){if(!this.lines.length&&this.doc.cm){var f=this.doc.cm.curOp;f.maybeHiddenMarkers&&-1!=Ca(f.maybeHiddenMarkers,this)||(f.maybeUnhiddenMarkers||(f.maybeUnhiddenMarkers=[])).push(this)}this.lines.push(c)};ac.prototype.detachLine=function(c){this.lines.splice(Ca(this.lines,c),1);!this.lines.length&&this.doc.cm&&(c=this.doc.cm.curOp,(c.maybeHiddenMarkers||(c.maybeHiddenMarkers=[])).push(this))};var Xd=0,td=p.SharedTextMarker=function(c,f){this.markers=c;this.primary=f;for(var l=0;l<c.length;++l)c[l].parent=this};qc(td);td.prototype.clear=function(){if(!this.explicitlyCleared){this.explicitlyCleared=!0;for(var c=0;c<this.markers.length;++c)this.markers[c].clear();Ua(this,"clear")}};td.prototype.find=function(c,f){return this.primary.find(c,f)};var ud=p.LineWidget=function(c,f,l){if(l)for(var a in l)l.hasOwnProperty(a)&&(this[a]=l[a]);this.doc=c;this.node=f};qc(ud);ud.prototype.clear=function(){var c=this.doc.cm,f=this.line.widgets,l=this.line,a=la(l);if(null!=a&&f){for(var d=0;d<f.length;++d)f[d]==this&&f.splice(d--,1);f.length||(l.widgets=null);var e=Gc(this);pb(l,Math.max(0,l.height-e));c&&Xa(c,function(){var f=-e;qb(l)<(c.curOp&&c.curOp.scrollTop||c.doc.scrollTop)&&nd(c,null,f);yb(c,a,"widget")})}};ud.prototype.changed=function(){var c=this.height,f=this.doc.cm,l=this.line;this.height=null;var a=Gc(this)-c;a&&(pb(l,l.height+a),f&&Xa(f,function(){f.curOp.forceUpdate=!0;qb(l)<(f.curOp&&f.curOp.scrollTop||f.doc.scrollTop)&&nd(f,null,a)}))};var Lc=p.Line=function(c,f,l){this.text=c;$e(this,f);this.height=l?l(this):1};qc(Lc);Lc.prototype.lineNo=function(){return la(this)};var bg={},ag={};Mc.prototype={chunkSize:function(){return this.lines.length},removeInner:function(c,f){for(var l=c,a=c+f;l<a;++l){var d=this.lines[l];this.height-=d.height;var e=d;e.parent=null;Ze(e);Ua(d,"delete")}this.lines.splice(c,f)},collapse:function(c){c.push.apply(c,this.lines)},insertInner:function(c,f,l){this.height+=l;this.lines=this.lines.slice(0,c).concat(f).concat(this.lines.slice(c));for(c=0;c<f.length;++c)f[c].parent=this},iterN:function(c,f,l){for(f=c+f;c<f;++c)if(l(this.lines[c]))return!0}};Nc.prototype={chunkSize:function(){return this.size},removeInner:function(c,f){this.size-=f;for(var l=0;l<this.children.length;++l){var a=this.children[l],d=a.chunkSize();if(c<d){var e=Math.min(f,d-c),g=a.height;a.removeInner(c,e);this.height-=g-a.height;d==e&&(this.children.splice(l--,1),a.parent=null);if(0==(f-=e))break;c=0}else c-=d}25>this.size-f&&(1<this.children.length||!(this.children[0]instanceof Mc))&&(l=[],this.collapse(l),this.children=[new Mc(l)],this.children[0].parent=this)},collapse:function(c){for(var f=0;f<this.children.length;++f)this.children[f].collapse(c)},insertInner:function(c,f,l){this.size+=f.length;this.height+=l;for(var a=0;a<this.children.length;++a){var d=this.children[a],e=d.chunkSize();if(c<=e){d.insertInner(c,f,l);if(d.lines&&50<d.lines.length){for(;50<d.lines.length;)c=d.lines.splice(d.lines.length-25,25),c=new Mc(c),d.height-=c.height,this.children.splice(a+1,0,c),c.parent=this;this.maybeSpill()}break}c-=e}},maybeSpill:function(){if(!(10>=this.children.length)){var c=this;do{var f=c.children.splice(c.children.length-5,5),f=new Nc(f);if(c.parent){c.size-=f.size;c.height-=f.height;var l=Ca(c.parent.children,c);c.parent.children.splice(l+1,0,f)}else l=new Nc(c.children),l.parent=c,c.children=[l,f],c=l;f.parent=c.parent}while(10<c.children.length);c.parent.maybeSpill()}},iterN:function(c,f,l){for(var a=0;a<this.children.length;++a){var d=this.children[a],e=d.chunkSize();if(c<e){e=Math.min(f,e-c);if(d.iterN(c,e,l))return!0;if(0==(f-=e))break;c=0}else c-=e}}};var og=0,Sa=p.Doc=function(c,f,l,a){if(!(this instanceof Sa))return new Sa(c,f,l,a);null==l&&(l=0);Nc.call(this,[new Mc([new Lc("",null)])]);this.first=l;this.scrollTop=this.scrollLeft=0;this.cantEdit=!1;this.cleanGeneration=1;this.frontier=l;l=F(l,0);this.sel=Pa(l);this.history=new wd(null);this.id=++og;this.modeOption=f;this.lineSep=a;this.extend=!1;"string"==typeof c&&(c=this.splitLines(c));Vd(this,{from:l,to:l,text:c});ma(this,Pa(l),tb)};Sa.prototype=nf(Nc.prototype,{constructor:Sa,iter:function(c,f,l){l?this.iterN(c-this.first,f-c,l):this.iterN(this.first,this.first+this.size,c)},insert:function(c,f){for(var l=0,a=0;a<f.length;++a)l+=f[a].height;this.insertInner(c-this.first,f,l)},remove:function(c,f){this.removeInner(c-this.first,f)},getValue:function(c){var f=be(this,this.first,this.first+this.size);return!1===c?f:f.join(c||this.lineSeparator())},setValue:Ja(function(c){var f=F(this.first,0),l=this.first+this.size-1;hc(this,{from:f,to:F(l,Q(this,l).text.length),text:this.splitLines(c),origin:"setValue",full:!0},!0);ma(this,Pa(f))}),replaceRange:function(c,f,l,a){f=S(this,f);l=l?S(this,l):f;mc(this,c,f,l,a)},getRange:function(c,f,l){c=Rb(this,S(this,c),S(this,f));return!1===l?c:c.join(l||this.lineSeparator())},getLine:function(c){return(c=this.getLineHandle(c))&&c.text},getLineHandle:function(c){if(Qa(this,c))return Q(this,c)},getLineNumber:function(c){return la(c)},getLineHandleVisualStart:function(c){"number"==typeof c&&(c=Q(this,c));return vb(c)},lineCount:function(){return this.size},firstLine:function(){return this.first},lastLine:function(){return this.first+this.size-1},clipPos:function(c){return S(this,c)},getCursor:function(c){var f=this.sel.primary();return null==c||"head"==c?f.head:"anchor"==c?f.anchor:"end"==c||"to"==c||!1===c?f.to():f.from()},listSelections:function(){return this.sel.ranges},somethingSelected:function(){return this.sel.somethingSelected()},setCursor:Ja(function(c,f,l){c=S(this,"number"==typeof c?F(c,f||0):c);ma(this,Pa(c,null),l)}),setSelection:Ja(function(c,f,l){var a=S(this,c);c=S(this,f||c);ma(this,Pa(a,c),l)}),extendSelection:Ja(function(c,f,l){Db(this,S(this,c),f&&S(this,f),l)}),extendSelections:Ja(function(c,f){sa(this,Za(this,c),f)}),extendSelectionsBy:Ja(function(c,f){var l=Wc(this.sel.ranges,c);sa(this,Za(this,l),f)}),setSelections:Ja(function(c,f,l){if(c.length){for(var a=0,d=[];a<c.length;a++)d[a]=new ba(S(this,c[a].anchor),S(this,c[a].head));null==f&&(f=Math.min(c.length-1,this.sel.primIndex));ma(this,Oa(d,f),l)}}),addSelection:Ja(function(c,f,l){var a=this.sel.ranges.slice(0);a.push(new ba(S(this,c),S(this,f||c)));ma(this,Oa(a,a.length-1),l)}),getSelection:function(c){for(var f=this.sel.ranges,l,a=0;a<f.length;a++){var d=Rb(this,f[a].from(),f[a].to());l=l?l.concat(d):d}return!1===c?l:l.join(c||this.lineSeparator())},getSelections:function(c){for(var f=[],l=this.sel.ranges,a=0;a<l.length;a++){var d=Rb(this,l[a].from(),l[a].to());!1!==c&&(d=d.join(c||this.lineSeparator()));f[a]=d}return f},replaceSelection:function(c,f,l){for(var a=[],d=0;d<this.sel.ranges.length;d++)a[d]=c;this.replaceSelections(a,f,l||"+input")},replaceSelections:Ja(function(c,f,l){for(var a=[],d=this.sel,e=0;e<d.ranges.length;e++){var g=d.ranges[e];a[e]={from:g.from(),to:g.to(),text:this.splitLines(c[e]),origin:l}}if(e=f&&"end"!=f){e=[];l=c=F(this.first,0);for(d=0;d<a.length;d++){var b=a[d],g=Ke(b.from,c,l),x=Ke(Zb(b),c,l);c=b.to;l=x;"around"==f?(b=this.sel.ranges[d],b=0>Z(b.head,b.anchor),e[d]=new ba(b?x:g,b?g:x)):e[d]=new ba(g,g)}e=new Na(e,this.sel.primIndex)}f=e;for(e=a.length-1;0<=e;e--)hc(this,a[e]);f?A(this,f):this.cm&&ic(this.cm)}),undo:Ja(function(){md(this,"undo")}),redo:Ja(function(){md(this,"redo")}),undoSelection:Ja(function(){md(this,"undo",!0)}),redoSelection:Ja(function(){md(this,"redo",!0)}),setExtending:function(c){this.extend=c},getExtending:function(){return this.extend},historySize:function(){for(var c=this.history,f=0,l=0,a=0;a<c.done.length;a++)c.done[a].ranges||++f;for(a=0;a<c.undone.length;a++)c.undone[a].ranges||++l;return{undo:f,redo:l}},clearHistory:function(){this.history=new wd(this.history.maxGeneration)},markClean:function(){this.cleanGeneration=this.changeGeneration(!0)},changeGeneration:function(c){c&&(this.history.lastOp=this.history.lastSelOp=this.history.lastOrigin=null);return this.history.generation},isClean:function(c){return this.history.generation==(c||this.cleanGeneration)},getHistory:function(){return{done:pc(this.history.done),undone:pc(this.history.undone)}},setHistory:function(c){var f=this.history=new wd(this.history.maxGeneration);f.done=pc(c.done.slice(0),null,!0);f.undone=pc(c.undone.slice(0),null,!0)},addLineClass:Ja(function(c,f,l){return pd(this,c,"gutter"==f?"gutter":"class",function(c){var a="text"==f?"textClass":"background"==f?"bgClass":"gutter"==f?"gutterClass":"wrapClass";if(c[a]){if(Qc(l).test(c[a]))return!1;c[a]+=" "+l}else c[a]=l;return!0})}),removeLineClass:Ja(function(c,f,l){return pd(this,c,"gutter"==f?"gutter":"class",function(c){var a="text"==f?"textClass":"background"==f?"bgClass":"gutter"==f?"gutterClass":"wrapClass",d=c[a];if(d)if(null==l)c[a]=null;else{var e=d.match(Qc(l));if(!e)return!1;var g=e.index+e[0].length;c[a]=d.slice(0,e.index)+(e.index&&g!=d.length?" ":"")+d.slice(g)||null}else return!1;return!0})}),addLineWidget:Ja(function(c,f,l){return $f(this,c,f,l)}),removeLineWidget:function(c){c.clear()},markText:function(c,f,l){return oc(this,S(this,c),S(this,f),l,l&&l.type||"range")},setBookmark:function(c,f){var l={replacedWith:f&&(null==f.nodeType?f.widget:f),insertLeft:f&&f.insertLeft,clearWhenEmpty:!1,shared:f&&f.shared,handleMouseEvents:f&&f.handleMouseEvents};c=S(this,c);return oc(this,c,c,l,"bookmark")},findMarksAt:function(c){c=S(this,c);var f=[],l=Q(this,c.line).markedSpans;if(l)for(var a=0;a<l.length;++a){var d=l[a];(null==d.from||d.from<=c.ch)&&(null==d.to||d.to>=c.ch)&&f.push(d.marker.parent||d.marker)}return f},findMarks:function(c,f,l){c=S(this,c);f=S(this,f);var a=[],d=c.line;this.iter(c.line,f.line+1,function(e){if(e=e.markedSpans)for(var g=0;g<e.length;g++){var b=e[g];d==c.line&&c.ch>b.to||null==b.from&&d!=c.line||d==f.line&&b.from>f.ch||l&&!l(b.marker)||a.push(b.marker.parent||b.marker)}++d});return a},getAllMarks:function(){var c=[];this.iter(function(f){if(f=f.markedSpans)for(var l=0;l<f.length;++l)null!=f[l].from&&c.push(f[l].marker)});return c},posFromIndex:function(c){var f,l=this.first;this.iter(function(a){a=a.text.length+1;if(a>c)return f=c,!0;c-=a;++l});return S(this,F(l,f))},indexFromPos:function(c){c=S(this,c);var f=c.ch;if(c.line<this.first||0>c.ch)return 0;this.iter(this.first,c.line,function(c){f+=c.text.length+1});return f},copy:function(c){var f=new Sa(be(this,this.first,this.first+this.size),this.modeOption,this.first,this.lineSep);f.scrollTop=this.scrollTop;f.scrollLeft=this.scrollLeft;f.sel=this.sel;f.extend=!1;c&&(f.history.undoDepth=this.history.undoDepth,f.setHistory(this.getHistory()));return f},linkedDoc:function(c){c||(c={});var f=this.first,l=this.first+this.size;null!=c.from&&c.from>f&&(f=c.from);null!=c.to&&c.to<l&&(l=c.to);f=new Sa(be(this,f,l),c.mode||this.modeOption,f,this.lineSep);c.sharedHist&&(f.history=this.history);(this.linked||(this.linked=[])).push({doc:f,sharedHist:c.sharedHist});f.linked=[{doc:this,isParent:!0,sharedHist:c.sharedHist}];c=Xe(this);for(l=0;l<c.length;l++){var a=c[l],d=a.find(),e=f.clipPos(d.from),d=f.clipPos(d.to);Z(e,d)&&(e=oc(f,e,d,a.primary,a.primary.type),a.markers.push(e),e.parent=a)}return f},unlinkDoc:function(c){c instanceof p&&(c=c.doc);if(this.linked)for(var f=0;f<this.linked.length;++f)if(this.linked[f].doc==c){this.linked.splice(f,1);c.unlinkDoc(this);Yf(Xe(this));break}if(c.history==this.history){var l=[c.id];$b(c,function(c){l.push(c.id)},!0);c.history=new wd(null);c.history.done=pc(this.history.done,l);c.history.undone=pc(this.history.undone,l)}},iterLinkedDocs:function(c){$b(this,c)},getMode:function(){return this.mode},getEditor:function(){return this.cm},splitLines:function(c){return this.lineSep?c.split(this.lineSep):pg(c)},lineSeparator:function(){return this.lineSep||"\n"}});Sa.prototype.eachLine=Sa.prototype.iter;var qg="iter insert remove copy getEditor constructor".split(" "),Uc;for(Uc in Sa.prototype)Sa.prototype.hasOwnProperty(Uc)&&0>Ca(qg,Uc)&&(p.prototype[Uc]=function(c){return function(){return c.apply(this.doc,arguments)}}(Sa.prototype[Uc]));qc(Sa);var Ka=p.e_preventDefault=function(c){c.preventDefault?c.preventDefault():c.returnValue=!1},rg=p.e_stopPropagation=function(c){c.stopPropagation?c.stopPropagation():c.cancelBubble=!0},fd=p.e_stop=function(c){Ka(c);rg(c)},T=p.on=function(c,f,l){c.addEventListener?c.addEventListener(f,l,!1):c.attachEvent?c.attachEvent("on"+f,l):(c=c._handlers||(c._handlers={}),(c[f]||(c[f]=[])).push(l))},mf=[],wb=p.off=function(c,f,l){if(c.removeEventListener)c.removeEventListener(f,l,!1);else if(c.detachEvent)c.detachEvent("on"+f,l);else for(c=xd(c,f,!1),f=0;f<c.length;++f)if(c[f]==l){c.splice(f,1);break}},ya=p.signal=function(c,f){var l=xd(c,f,!0);if(l.length)for(var a=Array.prototype.slice.call(arguments,2),d=0;d<l.length;++d)l[d].apply(null,a)},Oc=null,he=30,Ge=p.Pass={toString:function(){return"CodeMirror.Pass"}},tb={scroll:!1},Pd={origin:"*mouse"},Rc={origin:"+move"};Jb.prototype.set=function(c,f){clearTimeout(this.id);this.id=setTimeout(f,c)};var mb=p.countColumn=function(c,f,l,a,d){null==f&&(f=c.search(/[^\s\u00a0]/),-1==f&&(f=c.length));a=a||0;for(d=d||0;;){var e=c.indexOf("\t",a);if(0>e||e>=f)return d+(f-a);d+=e-a;d+=l-d%l;a=e+1}},Ee=p.findColumn=function(c,f,l){for(var a=0,d=0;;){var e=c.indexOf("\t",a);-1==e&&(e=c.length);var g=e-a;if(e==c.length||d+g>=f)return a+Math.min(g,f-d);d+=e-a;d+=l-d%l;a=e+1;if(d>=f)return a}},yd=[""],rc=function(c){c.select()};kc?rc=function(c){c.selectionStart=0;c.selectionEnd=c.value.length}:ca&&(rc=function(c){try{c.select()}catch(f){}});var sg=/[\u00df\u0587\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/,of=p.isWordChar=function(c){return/\w/.test(c)||"\u0080"<c&&(c.toUpperCase()!=c.toLowerCase()||sg.test(c))},ig=/[\u0300-\u036f\u0483-\u0489\u0591-\u05bd\u05bf\u05c1\u05c2\u05c4\u05c5\u05c7\u0610-\u061a\u064b-\u065e\u0670\u06d6-\u06dc\u06de-\u06e4\u06e7\u06e8\u06ea-\u06ed\u0711\u0730-\u074a\u07a6-\u07b0\u07eb-\u07f3\u0816-\u0819\u081b-\u0823\u0825-\u0827\u0829-\u082d\u0900-\u0902\u093c\u0941-\u0948\u094d\u0951-\u0955\u0962\u0963\u0981\u09bc\u09be\u09c1-\u09c4\u09cd\u09d7\u09e2\u09e3\u0a01\u0a02\u0a3c\u0a41\u0a42\u0a47\u0a48\u0a4b-\u0a4d\u0a51\u0a70\u0a71\u0a75\u0a81\u0a82\u0abc\u0ac1-\u0ac5\u0ac7\u0ac8\u0acd\u0ae2\u0ae3\u0b01\u0b3c\u0b3e\u0b3f\u0b41-\u0b44\u0b4d\u0b56\u0b57\u0b62\u0b63\u0b82\u0bbe\u0bc0\u0bcd\u0bd7\u0c3e-\u0c40\u0c46-\u0c48\u0c4a-\u0c4d\u0c55\u0c56\u0c62\u0c63\u0cbc\u0cbf\u0cc2\u0cc6\u0ccc\u0ccd\u0cd5\u0cd6\u0ce2\u0ce3\u0d3e\u0d41-\u0d44\u0d4d\u0d57\u0d62\u0d63\u0dca\u0dcf\u0dd2-\u0dd4\u0dd6\u0ddf\u0e31\u0e34-\u0e3a\u0e47-\u0e4e\u0eb1\u0eb4-\u0eb9\u0ebb\u0ebc\u0ec8-\u0ecd\u0f18\u0f19\u0f35\u0f37\u0f39\u0f71-\u0f7e\u0f80-\u0f84\u0f86\u0f87\u0f90-\u0f97\u0f99-\u0fbc\u0fc6\u102d-\u1030\u1032-\u1037\u1039\u103a\u103d\u103e\u1058\u1059\u105e-\u1060\u1071-\u1074\u1082\u1085\u1086\u108d\u109d\u135f\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17b7-\u17bd\u17c6\u17c9-\u17d3\u17dd\u180b-\u180d\u18a9\u1920-\u1922\u1927\u1928\u1932\u1939-\u193b\u1a17\u1a18\u1a56\u1a58-\u1a5e\u1a60\u1a62\u1a65-\u1a6c\u1a73-\u1a7c\u1a7f\u1b00-\u1b03\u1b34\u1b36-\u1b3a\u1b3c\u1b42\u1b6b-\u1b73\u1b80\u1b81\u1ba2-\u1ba5\u1ba8\u1ba9\u1c2c-\u1c33\u1c36\u1c37\u1cd0-\u1cd2\u1cd4-\u1ce0\u1ce2-\u1ce8\u1ced\u1dc0-\u1de6\u1dfd-\u1dff\u200c\u200d\u20d0-\u20f0\u2cef-\u2cf1\u2de0-\u2dff\u302a-\u302f\u3099\u309a\ua66f-\ua672\ua67c\ua67d\ua6f0\ua6f1\ua802\ua806\ua80b\ua825\ua826\ua8c4\ua8e0-\ua8f1\ua926-\ua92d\ua947-\ua951\ua980-\ua982\ua9b3\ua9b6-\ua9b9\ua9bc\uaa29-\uaa2e\uaa31\uaa32\uaa35\uaa36\uaa43\uaa4c\uaab0\uaab2-\uaab4\uaab7\uaab8\uaabe\uaabf\uaac1\uabe5\uabe8\uabed\udc00-\udfff\ufb1e\ufe00-\ufe0f\ufe20-\ufe26\uff9e\uff9f]/,Wb;Wb=document.createRange?function(c,f,l,a){var d=document.createRange();d.setEnd(a||c,l);d.setStart(c,f);return d}:function(c,f,l){var a=document.body.createTextRange();try{a.moveToElementText(c.parentNode)}catch(d){return a}a.collapse(!0);a.moveEnd("character",l);a.moveStart("character",f);return a};var Dd=p.contains=function(c,f){3==f.nodeType&&(f=f.parentNode);if(c.contains)return c.contains(f);do if(11==f.nodeType&&(f=f.host),f==c)return!0;while(f=f.parentNode)};ca&&11>na&&(rb=function(){try{return document.activeElement}catch(c){return document.body}});var zc=p.rmClass=function(c,f){var l=c.className,a=Qc(f).exec(l);if(a){var d=l.slice(a.index+a[0].length);c.className=l.slice(0,a.index)+(d?a[1]+d:"")}},Bc=p.addClass=function(c,f){var l=c.className;Qc(f).test(l)||(c.className+=(l?" ":"")+f)},ee=!1,Lf=function(){if(ca&&9>na)return!1;var c=O("div");return"draggable"in c||"dragDrop"in c}(),ce,$d,pg=p.splitLines=3!="\n\nb".split(/\n/).length?function(c){for(var f=0,l=[],a=c.length;f<=a;){var d=c.indexOf("\n",f);-1==d&&(d=c.length);var e=c.slice(f,"\r"==c.charAt(d-1)?d-1:d),g=e.indexOf("\r");-1!=g?(l.push(e.slice(0,g)),f+=g+1):(l.push(e),f=d+1)}return l}:function(c){return c.split(/\r\n?|\n/)},ng=window.getSelection?function(c){try{return c.selectionStart!=c.selectionEnd}catch(f){return!1}}:function(c){try{var f=c.ownerDocument.selection.createRange()}catch(l){}return f&&f.parentElement()==c?0!=f.compareEndPoints("StartToEnd",f):!1},Ie=function(){var c=O("div");if("oncopy"in c)return!0;c.setAttribute("oncopy","return;");return"function"==typeof c.oncopy}(),Hd=null,cc=p.keyNames={3:"Enter",8:"Backspace",9:"Tab",13:"Enter",16:"Shift",17:"Ctrl",18:"Alt",19:"Pause",20:"CapsLock",27:"Esc",32:"Space",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",44:"PrintScrn",45:"Insert",46:"Delete",59:";",61:"\x3d",91:"Mod",92:"Mod",93:"Mod",106:"*",107:"\x3d",109:"-",110:".",111:"/",127:"Delete",173:"-",186:";",187:"\x3d",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",63232:"Up",63233:"Down",63234:"Left",63235:"Right",63272:"Delete",63273:"Home",63275:"End",63276:"PageUp",63277:"PageDown",63302:"Insert"};(function(){for(var c=0;10>c;c++)cc[c+48]=cc[c+96]=String(c);for(c=65;90>=c;c++)cc[c]=String.fromCharCode(c);for(c=1;12>=c;c++)cc[c+111]=cc[c+63235]="F"+c})();var Hc,gg=function(){function c(c){return 247>=c?"bbbbbbbbbtstwsbbbbbbbbbbbbbbssstwNN%%%NNNNNN,N,N1111111111NNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNbbbbbbsbbbbbbbbbbbbbbbbbbbbbbbbbb,N%%%%NNNNLNNNNN%%11NLNNN1LNNNNNLLLLLLLLLLLLLLLLLLLLLLLNLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLN".charAt(c):1424<=c&&1524>=c?"R":1536<=c&&1773>=c?"rrrrrrrrrrrr,rNNmmmmmmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmmmmmmmmrrrrrrrnnnnnnnnnn%nnrrrmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmmmmmmmmmmmmmNmmmm".charAt(c-1536):1774<=c&&2220>=c?"r":8192<=c&&8203>=c?"w":8204==c?"b":"L"}function f(c,f,l){this.level=c;this.from=f;this.to=l}var l=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/,a=/[stwN]/,d=/[LRr]/,e=/[Lb1n]/,g=/[1n]/;return function(b){if(!l.test(b))return!1;for(var x=b.length,k=[],m=0,z;m<x;++m)k.push(c(b.charCodeAt(m)));for(var m=0,n="L";m<x;++m)z=k[m],"m"==z?k[m]=n:n=z;m=0;for(n="L";m<x;++m)z=k[m],"1"==z&&"r"==n?k[m]="n":d.test(z)&&(n=z,"r"==z&&(k[m]="R"));m=1;for(n=k[0];m<x-1;++m)z=k[m],"+"==z&&"1"==n&&"1"==k[m+1]?k[m]="1":","!=z||n!=k[m+1]||"1"!=n&&"n"!=n||(k[m]=n),n=z;for(m=0;m<x;++m)if(z=k[m],","==z)k[m]="N";else if("%"==z){for(n=m+1;n<x&&"%"==k[n];++n);var p=m&&"!"==k[m-1]||n<x&&"1"==k[n]?"1":"N";for(z=m;z<n;++z)k[z]=p;m=n-1}m=0;for(n="L";m<x;++m)z=k[m],"L"==n&&"1"==z?k[m]="L":d.test(z)&&(n=z);for(m=0;m<x;++m)if(a.test(k[m])){for(n=m+1;n<x&&a.test(k[n]);++n);z="L"==(n<x?k[n]:"L");p="L"==(m?k[m-1]:"L")||z?"L":"R";for(z=m;z<n;++z)k[z]=p;m=n-1}for(var n=[],w,m=0;m<x;)if(e.test(k[m])){z=m;for(++m;m<x&&e.test(k[m]);++m);n.push(new f(0,z,m))}else{var r=m,p=n.length;for(++m;m<x&&"L"!=k[m];++m);for(z=r;z<m;)if(g.test(k[z])){r<z&&n.splice(p,0,new f(1,r,z));r=z;for(++z;z<m&&g.test(k[z]);++z);n.splice(p,0,new f(2,r,z));r=z}else++z;r<m&&n.splice(p,0,new f(1,r,m))}1==n[0].level&&(w=b.match(/^\s+/))&&(n[0].from=w[0].length,n.unshift(new f(0,0,w[0].length)));1==ga(n).level&&(w=b.match(/\s+$/))&&(ga(n).to-=w[0].length,n.push(new f(0,x-w[0].length,x)));2==n[0].level&&n.unshift(new f(1,n[0].to,n[0].to));n[0].level!=ga(n).level&&n.push(new f(n[0].level,x,x));return n}}();p.version="5.10.0";return p});(function(){CodeMirror.extendMode("css",{commentStart:"/*",commentEnd:"*/",newlineAfterToken:function(p,b){return/^[;{}]$/.test(b)}});CodeMirror.extendMode("javascript",{commentStart:"/*",commentEnd:"*/",newlineAfterToken:function(p,b,v,u){return this.jsonMode?/^[\[,{]$/.test(b)||/^}/.test(v):";"==b&&u.lexical&&")"==u.lexical.type?!1:/^[;{}]$/.test(b)&&!/^;/.test(v)}});CodeMirror.extendMode("xml",{commentStart:"\x3c!--",commentEnd:"--\x3e",newlineAfterToken:function(p,b,v){return"tag"==p&&/>$/.test(b)||/^</.test(v)}});CodeMirror.defineExtension("commentRange",function(p,b,v){var u=this,n=CodeMirror.innerMode(u.getMode(),u.getTokenAt(b).state).mode;u.operation(function(){if(p)u.replaceRange(n.commentEnd,v),u.replaceRange(n.commentStart,b),b.line==v.line&&b.ch==v.ch&&u.setCursor(b.line,b.ch+n.commentStart.length);else{var r=u.getRange(b,v),m=r.indexOf(n.commentStart),k=r.lastIndexOf(n.commentEnd);-1<m&&-1<k&&k>m&&(r=r.substr(0,m)+r.substring(m+n.commentStart.length,k)+r.substr(k+n.commentEnd.length));u.replaceRange(r,b,v)}})});CodeMirror.defineExtension("autoIndentRange",function(p,b){var v=this;this.operation(function(){for(var u=p.line;u<=b.line;u++)v.indentLine(u,"smart")})});CodeMirror.defineExtension("autoFormatRange",function(p,b){for(var v=this,u=v.getMode(),n=v.getRange(p,b).split("\n"),r=CodeMirror.copyState(u,v.getTokenAt(p).state),m=v.getOption("tabSize"),k="",g=0,a=0==p.ch,d=0;d<n.length;++d){for(var e=new CodeMirror.StringStream(n[d],m);!e.eol();){var B=CodeMirror.innerMode(u,r),E=u.token(e,r),G=e.current();e.start=e.pos;if(!a||/\S/.test(G))k+=G,a=!1;!a&&B.mode.newlineAfterToken&&B.mode.newlineAfterToken(E,G,e.string.slice(e.pos)||n[d+1]||"",B.state)&&(k+="\n",a=!0,++g)}!e.pos&&u.blankLine&&u.blankLine(r);a||(k+="\n",a=!0,++g)}v.operation(function(){v.replaceRange(k,p,b);for(var a=p.line+1,d=p.line+g;a<=d;++a)v.indentLine(a,"smart");v.setSelection(p,v.getCursor(!1))})})})();(function(p){"object"==typeof exports&&"object"==typeof module?p(require("../../lib/codemirror")):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],p):p(CodeMirror)})(function(p){function b(a,d){this.cm=a;this.options=d;this.widget=null;this.tick=this.debounce=0;this.startPos=this.cm.getCursor("start");this.startLen=this.cm.getLine(this.startPos.line).length-this.cm.getSelection().length;var e=this;a.on("cursorActivity",this.activityFunc=function(){e.cursorActivity()})}function v(a,d){function e(a,e){var b;b="string"!=typeof e?function(a){return e(a,d)}:g.hasOwnProperty(e)?g[e]:e;m[a]=b}var g={Up:function(){d.moveFocus(-1)},Down:function(){d.moveFocus(1)},PageUp:function(){d.moveFocus(-d.menuSize()+1,!0)},PageDown:function(){d.moveFocus(d.menuSize()-1,!0)},Home:function(){d.setFocus(0)},End:function(){d.setFocus(d.length-1)},Enter:d.pick,Tab:d.pick,Esc:d.close},b=a.options.customKeys,m=b?{}:g;if(b)for(var k in b)b.hasOwnProperty(k)&&e(k,b[k]);if(b=a.options.extraKeys)for(k in b)b.hasOwnProperty(k)&&e(k,b[k]);return m}function u(a,d){for(;d&&d!=a;){if("LI"===d.nodeName.toUpperCase()&&d.parentNode==a)return d;d=d.parentNode}}function n(a,d){this.completion=a;this.data=d;this.picked=!1;var e=this,g=a.cm,b=this.hints=document.createElement("ul");b.className="CodeMirror-hints";this.selectedHint=d.selectedHint||0;for(var m=d.list,k=0;k<m.length;++k){var n=b.appendChild(document.createElement("li")),r=m[k],y="CodeMirror-hint"+(k!=this.selectedHint?"":" CodeMirror-hint-active");null!=r.className&&(y=r.className+" "+y);n.className=y;r.render?r.render(n,d,r):n.appendChild(document.createTextNode(r.displayText||("string"==typeof r?r:r.text)));n.hintId=k}var k=g.cursorCoords(a.options.alignWithWord?d.from:null),I=k.left,D=k.bottom,P=!0;b.style.left=I+"px";b.style.top=D+"px";n=window.innerWidth||Math.max(document.body.offsetWidth,document.documentElement.offsetWidth);y=window.innerHeight||Math.max(document.body.offsetHeight,document.documentElement.offsetHeight);(a.options.container||document.body).appendChild(b);r=b.getBoundingClientRect();if(0<r.bottom-y){var K=r.bottom-r.top;0<k.top-(k.bottom-r.top)-K?(b.style.top=(D=k.top-K)+"px",P=!1):K>y&&(b.style.height=y-5+"px",b.style.top=(D=k.bottom-r.top)+"px",y=g.getCursor(),d.from.ch!=y.ch&&(k=g.cursorCoords(y),b.style.left=(I=k.left)+"px",r=b.getBoundingClientRect()))}y=r.right-n;0<y&&(r.right-r.left>n&&(b.style.width=n-5+"px",y-=r.right-r.left-n),b.style.left=(I=k.left-y)+"px");g.addKeyMap(this.keyMap=v(a,{moveFocus:function(a,d){e.changeActive(e.selectedHint+a,d)},setFocus:function(a){e.changeActive(a)},menuSize:function(){return e.screenAmount()},length:m.length,close:function(){a.close()},pick:function(){e.pick()},data:d}));if(a.options.closeOnUnfocus){var R;g.on("blur",this.onBlur=function(){R=setTimeout(function(){a.close()},100)});g.on("focus",this.onFocus=function(){clearTimeout(R)})}var L=g.getScrollInfo();g.on("scroll",this.onScroll=function(){var d=g.getScrollInfo(),e=g.getWrapperElement().getBoundingClientRect(),k=D+L.top-d.top,m=k-(window.pageYOffset||(document.documentElement||document.body).scrollTop);P||(m+=b.offsetHeight);if(m<=e.top||m>=e.bottom)return a.close();b.style.top=k+"px";b.style.left=I+L.left-d.left+"px"});p.on(b,"dblclick",function(a){(a=u(b,a.target||a.srcElement))&&null!=a.hintId&&(e.changeActive(a.hintId),e.pick())});p.on(b,"click",function(d){(d=u(b,d.target||d.srcElement))&&null!=d.hintId&&(e.changeActive(d.hintId),a.options.completeOnSingleClick&&e.pick())});p.on(b,"mousedown",function(){setTimeout(function(){g.focus()},20)});p.signal(d,"select",m[0],b.firstChild);return!0}function r(a,d){if(!a.somethingSelected())return d;for(var e=[],g=0;g<d.length;g++)d[g].supportsSelection&&e.push(d[g]);return e}p.showHint=function(a,d,e){if(!d)return a.showHint(e);e&&e.async&&(d.async=!0);d={hint:d};if(e)for(var g in e)d[g]=e[g];return a.showHint(d)};p.defineExtension("showHint",function(a){var d=this.getCursor("start"),e=this.options.hintOptions,k={},m;for(m in g)k[m]=g[m];if(e)for(m in e)void 0!==e[m]&&(k[m]=e[m]);if(a)for(m in a)void 0!==a[m]&&(k[m]=a[m]);k.hint.resolve&&(k.hint=k.hint.resolve(this,d));a=k;d=this.listSelections();if(!(1<d.length)){if(this.somethingSelected()){if(!a.hint.supportsSelection)return;for(m=0;m<d.length;m++)if(d[m].head.line!=d[m].anchor.line)return}this.state.completionActive&&this.state.completionActive.close();d=this.state.completionActive=new b(this,a);d.options.hint&&(p.signal(this,"startCompletion",this),d.update(!0))}});var m=window.requestAnimationFrame||function(a){return setTimeout(a,1E3/60)},k=window.cancelAnimationFrame||clearTimeout;b.prototype={close:function(){this.active()&&(this.tick=this.cm.state.completionActive=null,this.cm.off("cursorActivity",this.activityFunc),this.widget&&this.data&&p.signal(this.data,"close"),this.widget&&this.widget.close(),p.signal(this.cm,"endCompletion",this.cm))},active:function(){return this.cm.state.completionActive==this},pick:function(a,d){var e=a.list[d];e.hint?e.hint(this.cm,a,e):this.cm.replaceRange("string"==typeof e?e:e.text,e.from||a.from,e.to||a.to,"complete");p.signal(a,"pick",e);this.close()},cursorActivity:function(){this.debounce&&(k(this.debounce),this.debounce=0);var a=this.cm.getCursor(),d=this.cm.getLine(a.line);if(a.line!=this.startPos.line||d.length-a.ch!=this.startLen-this.startPos.ch||a.ch<this.startPos.ch||this.cm.somethingSelected()||a.ch&&this.options.closeCharacters.test(d.charAt(a.ch-1)))this.close();else{var e=this;this.debounce=m(function(){e.update()});this.widget&&this.widget.disable()}},update:function(a){if(null!=this.tick)if(this.options.hint.async){var d=++this.tick,e=this;this.options.hint(this.cm,function(g){e.tick==d&&e.finishUpdate(g,a)},this.options)}else this.finishUpdate(this.options.hint(this.cm,this.options),a)},finishUpdate:function(a,d){this.data&&p.signal(this.data,"update");a&&this.data&&p.cmpPos(a.from,this.data.from)&&(a=null);this.data=a;var e=this.widget&&this.widget.picked||d&&this.options.completeSingle;this.widget&&this.widget.close();a&&a.list.length&&(e&&1==a.list.length?this.pick(a,0):(this.widget=new n(this,a),p.signal(a,"shown")))}};n.prototype={close:function(){if(this.completion.widget==this){this.completion.widget=null;this.hints.parentNode.removeChild(this.hints);this.completion.cm.removeKeyMap(this.keyMap);var a=this.completion.cm;this.completion.options.closeOnUnfocus&&(a.off("blur",this.onBlur),a.off("focus",this.onFocus));a.off("scroll",this.onScroll)}},disable:function(){this.completion.cm.removeKeyMap(this.keyMap);var a=this;this.keyMap={Enter:function(){a.picked=!0}};this.completion.cm.addKeyMap(this.keyMap)},pick:function(){this.completion.pick(this.data,this.selectedHint)},changeActive:function(a,d){a>=this.data.list.length?a=d?this.data.list.length-1:0:0>a&&(a=d?0:this.data.list.length-1);if(this.selectedHint!=a){var e=this.hints.childNodes[this.selectedHint];e.className=e.className.replace(" CodeMirror-hint-active","");e=this.hints.childNodes[this.selectedHint=a];e.className+=" CodeMirror-hint-active";e.offsetTop<this.hints.scrollTop?this.hints.scrollTop=e.offsetTop-3:e.offsetTop+e.offsetHeight>this.hints.scrollTop+this.hints.clientHeight&&(this.hints.scrollTop=e.offsetTop+e.offsetHeight-this.hints.clientHeight+3);p.signal(this.data,"select",this.data.list[this.selectedHint],e)}},screenAmount:function(){return Math.floor(this.hints.clientHeight/this.hints.firstChild.offsetHeight)||1}};p.registerHelper("hint","auto",{resolve:function(a,d){var e=a.getHelpers(d,"hint"),g;if(e.length){for(var b=!1,m=0;m<e.length;m++)e[m].async&&(b=!0);b?(b=function(a,d,g){function b(e,k){if(e==m.length)return d(null);var n=m[e];n.async?n(a,function(a){a?d(a):b(e+1)},g):(k=n(a,g))?d(k):b(e+1)}var m=r(a,e);b(0)},b.async=!0):b=function(a,d){for(var g=r(a,e),b=0;b<g.length;b++){var m=g[b](a,d);if(m&&m.list.length)return m}};b.supportsSelection=!0;return b}return(g=a.getHelper(a.getCursor(),"hintWords"))?function(a){return p.hint.fromList(a,{words:g})}:p.hint.anyword?function(a,d){return p.hint.anyword(a,d)}:function(){}}});p.registerHelper("hint","fromList",function(a,d){var e=a.getCursor(),g=a.getTokenAt(e),b=p.Pos(e.line,g.end);if(g.string&&/\w/.test(g.string[g.string.length-1]))var m=g.string,e=p.Pos(e.line,g.start);else m="",e=b;for(var g=[],k=0;k<d.words.length;k++){var n=d.words[k];n.slice(0,m.length)==m&&g.push(n)}if(g.length)return{list:g,from:e,to:b}});p.commands.autocomplete=p.showHint;var g={hint:p.hint.auto,completeSingle:!0,alignWithWord:!0,closeCharacters:/[\s()\[\]{};:>,]/,closeOnUnfocus:!0,completeOnSingleClick:!0,container:null,customKeys:null,extraKeys:null};p.defineOption("hintOptions",null)});(function(p){"object"==typeof exports&&"object"==typeof module?p(require("../../lib/codemirror")):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],p):p(CodeMirror)})(function(p){var b=p.Pos;p.registerHelper("hint","xml",function(v,u){var n=u&&u.schemaInfo,r=u&&u.quoteChar||'"';if(n){var m=v.getCursor(),k=v.getTokenAt(m);k.end>m.ch&&(k.end=m.ch,k.string=k.string.slice(0,m.ch-k.start));var g=p.innerMode(v.getMode(),k.state);if("xml"==g.mode.name){var a=[],d=!1,e,B=/\btag\b/.test(k.type)&&!/>$/.test(k.string),E=B&&/^\w/.test(k.string),G;if(E){var w=v.getLine(m.line).slice(Math.max(0,k.start-2),k.start);(w=/<\/$/.test(w)?"close":/<$/.test(w)?"open":null)&&(G=k.start-("close"==w?2:1))}else B&&"\x3c"==k.string?w="open":B&&"\x3c/"==k.string&&(w="close");if(!B&&!g.state.tagName||w){E&&(e=k.string);var d=w,g=(r=g.state.context)&&n[r.tagName],C=r?g&&g.children:n["!top"];if(C&&"close"!=w)for(n=0;n<C.length;++n)e&&0!=C[n].lastIndexOf(e,0)||a.push("\x3c"+C[n]);else if("close"!=w)for(var H in n)!n.hasOwnProperty(H)||"!top"==H||"!attrs"==H||e&&0!=H.lastIndexOf(e,0)||a.push("\x3c"+H);r&&(!e||"close"==w&&0==r.tagName.lastIndexOf(e,0))&&a.push("\x3c/"+r.tagName+"\x3e")}else{H=(g=n[g.state.tagName])&&g.attrs;n=n["!attrs"];if(!H&&!n)return;if(!H)H=n;else if(n){var w={},y;for(y in n)n.hasOwnProperty(y)&&(w[y]=n[y]);for(y in H)H.hasOwnProperty(y)&&(w[y]=H[y]);H=w}if("string"==k.type||"\x3d"==k.string){w=v.getRange(b(m.line,Math.max(0,m.ch-60)),b(m.line,"string"==k.type?k.start:k.end));n=w.match(/([^\s\u00a0=<>\"\']+)=$/);if(!n||!H.hasOwnProperty(n[1])||!(C=H[n[1]]))return;"function"==typeof C&&(C=C.call(this,v));"string"==k.type&&(e=k.string,d=0,/['"]/.test(k.string.charAt(0))&&(r=k.string.charAt(0),e=k.string.slice(1),d++),n=k.string.length,/['"]/.test(k.string.charAt(n-1))&&(r=k.string.charAt(n-1),e=k.string.substr(d,n-2)),d=!0);for(n=0;n<C.length;++n)e&&0!=C[n].lastIndexOf(e,0)||a.push(r+C[n]+r)}else{"attribute"==k.type&&(e=k.string,d=!0);for(var I in H)!H.hasOwnProperty(I)||e&&0!=I.lastIndexOf(e,0)||a.push(I)}}return{list:a,from:d?b(m.line,null==G?k.start:G):m,to:d?b(m.line,k.end):m}}}})});(function(p){"object"==typeof exports&&"object"==typeof module?p(require("../../lib/codemirror"),require("./xml-hint")):"function"==typeof define&&define.amd?define(["../../lib/codemirror","./xml-hint"],p):p(CodeMirror)})(function(p){function b(a){for(var e in d)d.hasOwnProperty(e)&&(a.attrs[e]=d[e])}var v="ab aa af ak sq am ar an hy as av ae ay az bm ba eu be bn bh bi bs br bg my ca ch ce ny zh cv kw co cr hr cs da dv nl dz en eo et ee fo fj fi fr ff gl ka de el gn gu ht ha he hz hi ho hu ia id ie ga ig ik io is it iu ja jv kl kn kr ks kk km ki rw ky kv kg ko ku kj la lb lg li ln lo lt lu lv gv mk mg ms ml mt mi mr mh mn na nv nb nd ne ng nn no ii nr oc oj cu om or os pa pi fa pl ps pt qu rm rn ro ru sa sc sd se sm sg sr gd sn si sk sl so st es su sw ss sv ta te tg th ti bo tk tl tn to tr ts tt tw ty ug uk ur uz ve vi vo wa cy wo fy xh yi yo za zu".split(" "),u=["_blank","_self","_top","_parent"],n=["ascii","utf-8","utf-16","latin1","latin1"],r=["get","post","put","delete"],m=["application/x-www-form-urlencoded","multipart/form-data","text/plain"],k="all;screen;print;embossed;braille;handheld;print;projection;screen;tty;tv;speech;3d-glasses;resolution [\x3e][\x3c][\x3d] [X];device-aspect-ratio: X/Y;orientation:portrait;orientation:landscape;device-height: [X];device-width: [X]".split(";"),g={attrs:{}},a={a:{attrs:{href:null,ping:null,type:null,media:k,target:u,hreflang:v}},abbr:g,acronym:g,address:g,applet:g,area:{attrs:{alt:null,coords:null,href:null,target:null,ping:null,media:k,hreflang:v,type:null,shape:["default","rect","circle","poly"]}},article:g,aside:g,audio:{attrs:{src:null,mediagroup:null,crossorigin:["anonymous","use-credentials"],preload:["none","metadata","auto"],autoplay:["","autoplay"],loop:["","loop"],controls:["","controls"]}},b:g,base:{attrs:{href:null,target:u}},basefont:g,bdi:g,bdo:g,big:g,blockquote:{attrs:{cite:null}},body:g,br:g,button:{attrs:{form:null,formaction:null,name:null,value:null,autofocus:["","autofocus"],disabled:["","autofocus"],formenctype:m,formmethod:r,formnovalidate:["","novalidate"],formtarget:u,type:["submit","reset","button"]}},canvas:{attrs:{width:null,height:null}},caption:g,center:g,cite:g,code:g,col:{attrs:{span:null}},colgroup:{attrs:{span:null}},command:{attrs:{type:["command","checkbox","radio"],label:null,icon:null,radiogroup:null,command:null,title:null,disabled:["","disabled"],checked:["","checked"]}},data:{attrs:{value:null}},datagrid:{attrs:{disabled:["","disabled"],multiple:["","multiple"]}},datalist:{attrs:{data:null}},dd:g,del:{attrs:{cite:null,datetime:null}},details:{attrs:{open:["","open"]}},dfn:g,dir:g,div:g,dl:g,dt:g,em:g,embed:{attrs:{src:null,type:null,width:null,height:null}},eventsource:{attrs:{src:null}},fieldset:{attrs:{disabled:["","disabled"],form:null,name:null}},figcaption:g,figure:g,font:g,footer:g,form:{attrs:{action:null,name:null,"accept-charset":n,autocomplete:["on","off"],enctype:m,method:r,novalidate:["","novalidate"],target:u}},frame:g,frameset:g,h1:g,h2:g,h3:g,h4:g,h5:g,h6:g,head:{attrs:{},children:"title base link style meta script noscript command".split(" ")},header:g,hgroup:g,hr:g,html:{attrs:{manifest:null},children:["head","body"]},i:g,iframe:{attrs:{src:null,srcdoc:null,name:null,width:null,height:null,sandbox:["allow-top-navigation","allow-same-origin","allow-forms","allow-scripts"],seamless:["","seamless"]}},img:{attrs:{alt:null,src:null,ismap:null,usemap:null,width:null,height:null,crossorigin:["anonymous","use-credentials"]}},input:{attrs:{alt:null,dirname:null,form:null,formaction:null,height:null,list:null,max:null,maxlength:null,min:null,name:null,pattern:null,placeholder:null,size:null,src:null,step:null,value:null,width:null,accept:["audio/*","video/*","image/*"],autocomplete:["on","off"],autofocus:["","autofocus"],checked:["","checked"],disabled:["","disabled"],formenctype:m,formmethod:r,formnovalidate:["","novalidate"],formtarget:u,multiple:["","multiple"],readonly:["","readonly"],required:["","required"],type:"hidden text search tel url email password datetime date month week time datetime-local number range color checkbox radio file submit image reset button".split(" ")}},ins:{attrs:{cite:null,datetime:null}},kbd:g,keygen:{attrs:{challenge:null,form:null,name:null,autofocus:["","autofocus"],disabled:["","disabled"],keytype:["RSA"]}},label:{attrs:{"for":null,form:null}},legend:g,li:{attrs:{value:null}},link:{attrs:{href:null,type:null,hreflang:v,media:k,sizes:["all","16x16","16x16 32x32","16x16 32x32 64x64"]}},map:{attrs:{name:null}},mark:g,menu:{attrs:{label:null,type:["list","context","toolbar"]}},meta:{attrs:{content:null,charset:n,name:"viewport application-name author description generator keywords".split(" "),"http-equiv":["content-language","content-type","default-style","refresh"]}},meter:{attrs:{value:null,min:null,low:null,high:null,max:null,optimum:null}},nav:g,noframes:g,noscript:g,object:{attrs:{data:null,type:null,name:null,usemap:null,form:null,width:null,height:null,typemustmatch:["","typemustmatch"]}},ol:{attrs:{reversed:["","reversed"],start:null,type:["1","a","A","i","I"]}},optgroup:{attrs:{disabled:["","disabled"],label:null}},option:{attrs:{disabled:["","disabled"],label:null,selected:["","selected"],value:null}},output:{attrs:{"for":null,form:null,name:null}},p:g,param:{attrs:{name:null,value:null}},pre:g,progress:{attrs:{value:null,max:null}},q:{attrs:{cite:null}},rp:g,rt:g,ruby:g,s:g,samp:g,script:{attrs:{type:["text/javascript"],src:null,async:["","async"],defer:["","defer"],charset:n}},section:g,select:{attrs:{form:null,name:null,size:null,autofocus:["","autofocus"],disabled:["","disabled"],multiple:["","multiple"]}},small:g,source:{attrs:{src:null,type:null,media:null}},span:g,strike:g,strong:g,style:{attrs:{type:["text/css"],media:k,scoped:null}},sub:g,summary:g,sup:g,table:g,tbody:g,td:{attrs:{colspan:null,rowspan:null,headers:null}},textarea:{attrs:{dirname:null,form:null,maxlength:null,name:null,placeholder:null,rows:null,cols:null,autofocus:["","autofocus"],disabled:["","disabled"],readonly:["","readonly"],required:["","required"],wrap:["soft","hard"]}},tfoot:g,th:{attrs:{colspan:null,rowspan:null,headers:null,scope:["row","col","rowgroup","colgroup"]}},thead:g,time:{attrs:{datetime:null}},title:g,tr:g,track:{attrs:{src:null,label:null,"default":null,kind:["subtitles","captions","descriptions","chapters","metadata"],srclang:v}},tt:g,u:g,ul:g,"var":g,video:{attrs:{src:null,poster:null,width:null,height:null,crossorigin:["anonymous","use-credentials"],preload:["auto","metadata","none"],autoplay:["","autoplay"],mediagroup:["movie"],muted:["","muted"],controls:["","controls"]}},wbr:g},d={accesskey:"abcdefghijklmnopqrstuvwxyz0123456789".split(""),"class":null,contenteditable:["true","false"],contextmenu:null,dir:["ltr","rtl","auto"],draggable:["true","false","auto"],dropzone:["copy","move","link","string:","file:"],hidden:["hidden"],id:null,inert:["inert"],itemid:null,itemprop:null,itemref:null,itemscope:["itemscope"],itemtype:null,lang:["en","es"],spellcheck:["true","false"],style:null,tabindex:"123456789".split(""),title:null,translate:["yes","no"],onclick:null,rel:"stylesheet alternate author bookmark help license next nofollow noreferrer prefetch prev search tag".split(" ")};b(g);for(var e in a)a.hasOwnProperty(e)&&a[e]!=g&&b(a[e]);p.htmlSchema=a;p.registerHelper("hint","html",function(d,e){var g={schemaInfo:a};if(e)for(var b in e)g[b]=e[b];return p.hint.xml(d,g)})});(function(p){"object"==typeof exports&&"object"==typeof module?p(require("../../lib/codemirror"),require("../../mode/css/css")):"function"==typeof define&&define.amd?define(["../../lib/codemirror","../../mode/css/css"],p):p(CodeMirror)})(function(p){var b={link:1,visited:1,active:1,hover:1,focus:1,"first-letter":1,"first-line":1,"first-child":1,before:1,after:1,lang:1};p.registerHelper("hint","css",function(v){function u(a){for(var b in a)g&&0!=b.lastIndexOf(g,0)||d.push(b)}var n=v.getCursor(),r=v.getTokenAt(n),m=p.innerMode(v.getMode(),r.state);if("css"==m.mode.name){if("keyword"==r.type&&0=="!important".indexOf(r.string))return{list:["!important"],from:p.Pos(n.line,r.start),to:p.Pos(n.line,r.end)};v=r.start;var k=n.ch,g=r.string.slice(0,k-v);/[^\w$_-]/.test(g)&&(g="",v=k=n.ch);var a=p.resolveMode("text/css"),d=[],m=m.state.state;if("pseudo"==m||"variable-3"==r.type)u(b);else if("block"==m||"maybeprop"==m)u(a.propertyKeywords);else if("prop"==m||"parens"==m||"at"==m||"params"==m)u(a.valueKeywords),u(a.colorKeywords);else if("media"==m||"media_parens"==m)u(a.mediaTypes),u(a.mediaFeatures);if(d.length)return{list:d,from:p.Pos(n.line,v),to:p.Pos(n.line,k)}}})});(function(p){"object"==typeof exports&&"object"==typeof module?p(require("../../lib/codemirror")):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],p):p(CodeMirror)})(function(p){function b(a,d){for(var g=0,b=a.length;g<b;++g)d(a[g])}function v(a,d,g,b){var m=a.getCursor(),k=g(a,m);if(!/\b(?:string|comment)\b/.test(k.type)){k.state=p.innerMode(a.getMode(),k.state).state;/^[\w$_]*$/.test(k.string)?k.end>m.ch&&(k.end=m.ch,k.string=k.string.slice(0,m.ch-k.start)):k={start:m.ch,end:m.ch,string:"",state:k.state,type:"."==k.string?"property":null};for(var u=k;"property"==u.type;){u=g(a,r(m.line,u.start));if("."!=u.string)return;u=g(a,r(m.line,u.start));if(!v)var v=[];v.push(u)}return{list:n(k,v,d,b),from:r(m.line,k.start),to:r(m.line,k.end)}}}function u(a,d){var g=a.getTokenAt(d);d.ch==g.start+1&&"."==g.string.charAt(0)?(g.end=g.start,g.string=".",g.type="property"):/^\.[\w$_]*$/.test(g.string)&&(g.type="property",g.start++,g.string=g.string.replace(/\./,""));return g}function n(a,d,n,p){function r(a){var d;if(d=0==a.lastIndexOf(y,0)){a:if(Array.prototype.indexOf)d=-1!=v.indexOf(a);else{for(d=v.length;d--;)if(v[d]===a){d=!0;break a}d=!1}d=!d}d&&v.push(a)}function u(a){"string"==typeof a?b(m,r):a instanceof Array?b(k,r):a instanceof Function&&b(g,r);for(var d in a)r(d)}var v=[],y=a.string,I=p&&p.globalScope||window;if(d&&d.length){a=d.pop();var D;a.type&&0===a.type.indexOf("variable")?(p&&p.additionalContext&&(D=p.additionalContext[a.string]),p&&!1===p.useGlobalScope||(D=D||I[a.string])):"string"==a.type?D="":"atom"==a.type?D=1:"function"==a.type&&(null==I.jQuery||"$"!=a.string&&"jQuery"!=a.string||"function"!=typeof I.jQuery?null!=I._&&"_"==a.string&&"function"==typeof I._&&(D=I._()):D=I.jQuery());for(;null!=D&&d.length;)D=D[d.pop().string];null!=D&&u(D)}else{for(d=a.state.localVars;d;d=d.next)r(d.name);for(d=a.state.globalVars;d;d=d.next)r(d.name);p&&!1===p.useGlobalScope||u(I);b(n,r)}return v}var r=p.Pos;p.registerHelper("hint","javascript",function(d,g){return v(d,a,function(a,d){return a.getTokenAt(d)},g)});p.registerHelper("hint","coffeescript",function(a,g){return v(a,d,u,g)});var m="charAt charCodeAt indexOf lastIndexOf substring substr slice trim trimLeft trimRight toUpperCase toLowerCase split concat match replace search".split(" "),k="length concat join splice push pop shift unshift slice reverse sort indexOf lastIndexOf every some filter forEach map reduce reduceRight ".split(" "),g=["prototype","apply","call","bind"],a="break case catch continue debugger default delete do else false finally for function if in instanceof new null return switch throw true try typeof var void while with".split(" "),d="and break catch class continue delete do else extends false finally for if in instanceof isnt new no not null of off on or return switch then throw true try typeof until void while with yes".split(" ")});(function(p){"object"==typeof exports&&"object"==typeof module?p(require("../../lib/codemirror")):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],p):p(CodeMirror)})(function(p){function b(a,d,e){var g=a.docs[d];g?e(ua(a,g)):a.options.getFile?a.options.getFile(d,e):e(null)}function v(a,d,e){for(var g in a.docs){var b=a.docs[g];if(b.doc==d)return b}if(!e)for(e=0;;++e)if(g="[doc"+(e||"")+"]",!a.docs[g]){e=g;break}return a.addDoc(e,d)}function u(a,d){if("string"==typeof d)return a.docs[d];d instanceof p&&(d=d.getDoc());if(d instanceof p.Doc)return v(a,d)}function n(a,d,e){var g=v(a,d),b=a.cachedArgHints;b&&b.doc==d&&0>=da(b.start,e.to)&&(a.cachedArgHints=null);b=g.changed;null==b&&(g.changed=b={from:e.from.line,to:e.from.line});var m=e.from.line+(e.text.length-1);e.from.line<b.to&&(b.to-=e.to.line-m);m>=b.to&&(b.to=m+1);b.from>e.from.line&&(b.from=e.from.line);d.lineCount()>Fa&&100<e.to-b.from&&setTimeout(function(){g.changed&&100<g.changed.to-g.changed.from&&r(a,g)},200)}function r(a,d){a.server.request({files:[{type:"full",name:d.name,text:ua(a,d)}]},function(a){a?window.console.error(a):d.changed=null})}function m(a,d,e){a.request(d,{type:"completions",types:!0,docs:!0,urls:!0},function(g,b){if(g)return aa(a,d,g);var m=[],n="",r=b.start,w=b.end;'["'==d.getRange(oa(r.line,r.ch-2),r)&&'"]'!=d.getRange(w,oa(w.line,w.ch+2))&&(n='"]');for(var u=0;u<b.completions.length;++u){var X=b.completions[u],B=k(X.type);b.guess&&(B+=" "+ia+"guess");m.push({text:X.name+n,displayText:X.displayName||X.name,className:B,data:X})}var m={from:r,to:w,list:m},V=null;p.on(m,"close",function(){L(V)});p.on(m,"update",function(){L(V)});p.on(m,"select",function(d,e){L(V);var g=a.options.completionTip?a.options.completionTip(d.data):d.data.doc;g&&(V=R(e.parentNode.getBoundingClientRect().right+window.pageXOffset,e.getBoundingClientRect().top+window.pageYOffset,g),V.className+=" "+ia+"hint-doc")});e(m)})}function k(a){a="?"==a?"unknown":"number"==a||"string"==a||"bool"==a?a:/^fn\(/.test(a)?"fn":/^\[/.test(a)?"array":"object";return ia+"completion "+ia+"completion-"+a}function g(a,d,e,g,b){a.request(d,g,function(e,g){if(e)return aa(a,d,e);if(a.options.typeTip)var m=a.options.typeTip(g);else if(m=D("span",null,D("strong",null,g.type||"not found")),g.doc&&m.appendChild(document.createTextNode(" \u2014 "+g.doc)),g.url){m.appendChild(document.createTextNode(" "));var k=m.appendChild(D("a",null,"[docs]"));k.href=g.url;k.target="_blank"}K(d,m,a);b&&b()},e)}function a(a,g){V(a);if(!g.somethingSelected()){var b=g.getTokenAt(g.getCursor()).state,b=p.innerMode(g.getMode(),b);if("javascript"==b.mode.name&&(b=b.state.lexical,"call"==b.info)){for(var m,k=b.pos||0,n=g.getOption("tabSize"),r=g.getCursor().line,w=Math.max(0,r-9),u=!1;r>=w;--r){for(var L=g.getLine(r),X=m=0;;){var B=L.indexOf("\t",X);if(-1==B)break;m+=n-(B+m)%n-1;X=B+1}m=b.column-m;if("("==L.charAt(m)){u=!0;break}}if(u){b=oa(r,m);if((m=a.cachedArgHints)&&m.doc==g.getDoc()&&0==da(b,m.start))return d(a,g,k);a.request(g,{type:"type",preferFunction:!0,end:b},function(b,m){!b&&m.type&&/^fn\(/.test(m.type)&&(a.cachedArgHints={start:X,type:e(m.type),name:m.exprName||m.name||"fn",guess:m.guess,doc:g.getDoc()},d(a,g,k))})}}}}function d(a,d,e){V(a);for(var g=a.cachedArgHints,b=g.type,g=D("span",g.guess?ia+"fhint-guess":null,D("span",ia+"fname",g.name),"("),m=0;m<b.args.length;++m){m&&g.appendChild(document.createTextNode(", "));var k=b.args[m];g.appendChild(D("span",ia+"farg"+(m==e?" "+ia+"farg-current":""),k.name||"?"));"?"!=k.type&&(g.appendChild(document.createTextNode(":\u00a0")),g.appendChild(D("span",ia+"type",k.type)))}g.appendChild(document.createTextNode(b.rettype?") -\x3e\u00a0":")"));b.rettype&&g.appendChild(D("span",ia+"type",b.rettype));d=d.cursorCoords(null,"page");a.activeArgHints=R(d.right+1,d.bottom,g)}function e(a){function d(e){for(var b=0,m=g;;){var k=a.charAt(g);if(e.test(k)&&!b)return a.slice(m,g);/[{\[\(]/.test(k)?++b:/[}\]\)]/.test(k)&&--b;++g}}var e=[],g=3;if(")"!=a.charAt(g))for(;;){var b=a.slice(g).match(/^([^, \(\[\{]+): /);b&&(g+=b[0].length,b=b[1]);e.push({name:b,type:d(/[\),]/)});if(")"==a.charAt(g))break;g+=2}b=a.slice(g).match(/^\) -> (.*)$/);return{args:e,rettype:b&&b[1]}}function B(a,d){function e(g){g={type:"definition",variable:g||null};var b=v(a,d.getDoc());a.server.request(y(a,b,g),function(e,g){if(e)return aa(a,d,e);if(!g.file&&g.url)window.open(g.url);else{if(g.file){var m=a.docs[g.file],k,n;if(n=m){var p;var r=m.doc;k=g.context.slice(0,g.contextOffset).split("\n");var w=g.start.line-(k.length-1);n=oa(w,(1==k.length?g.start.ch:r.getLine(w).length)-k[0].length);for(var u=r.getLine(w).slice(n.ch),w=w+1;w<r.lineCount()&&u.length<g.context.length;++w)u+="\n"+r.getLine(w);if(u.slice(0,g.context.length)==g.context)p=g;else{r=r.getSearchCursor(g.context,0,!1);for(u=Infinity;r.findNext();){var w=r.from(),L=1E4*Math.abs(w.line-n.line);L||(L=Math.abs(w.ch-n.ch));L<u&&(p=w,u=L)}p?(1==k.length?p.ch+=k[0].length:p=oa(p.line+(k.length-1),k[k.length-1].length),k=g.start.line==g.end.line?oa(p.line,p.ch+(g.end.ch-g.start.ch)):oa(p.line+(g.end.line-g.start.line),g.end.ch),p={start:p,end:k}):p=null}n=k=p}if(n){a.jumpStack.push({file:b.name,start:d.getCursor("from"),end:d.getCursor("to")});E(a,b,m,k.start,k.end);return}}aa(a,d,"Could not find a definition.")}})}G(d)?e():P(d,"Jump to variable",function(a){a&&e(a)})}function E(a,d,e,g,b){e.doc.setSelection(g,b);d!=e&&a.options.switchToDoc&&(V(a),a.options.switchToDoc(e.name,e.doc))}function G(a){var d=a.getCursor("end"),e=a.getTokenAt(d);return e.start<d.ch&&"comment"==e.type?!1:/[\w)\]]/.test(a.getLine(d.line).slice(Math.max(d.ch-1,0),d.ch+1))}function w(a,d){var e=d.getTokenAt(d.getCursor());if(!/\w/.test(e.string))return aa(a,d,"Not at a variable");P(d,"New name for "+e.string,function(e){a.request(d,{type:"rename",newName:e,fullDocs:!0},function(e,g){if(e)return aa(a,d,e);H(a,g.changes)})})}function C(a,d){var e=v(a,d.doc).name;a.request(d,{type:"refs"},function(g,b){if(g)return aa(a,d,g);for(var m=[],k=0,n=d.getCursor(),p=0;p<b.refs.length;p++){var r=b.refs[p];r.file==e&&(m.push({anchor:r.start,head:r.end}),0<=da(n,r.start)&&0>=da(n,r.end)&&(k=m.length-1))}d.setSelections(m,k)})}function H(a,d){for(var e=Object.create(null),g=0;g<d.length;++g){var b=d[g];(e[b.file]||(e[b.file]=[])).push(b)}for(var m in e){var k=a.docs[m],n=e[m];if(k){n.sort(function(a,d){return da(d.start,a.start)});for(var p="*rename"+ ++Va,g=0;g<n.length;++g)b=n[g],k.doc.replaceRange(b.text,b.start,b.end,p)}}}function y(a,d,e,g){var b=[],m=0;(m=!e.fullDocs)||delete e.fullDocs;"string"==typeof e&&(e={type:e});e.lineCharPositions=!0;null==e.end&&(e.end=g||d.doc.getCursor("end"),d.doc.somethingSelected()&&(e.start=d.doc.getCursor("start")));g=e.start||e.end;d.changed?d.doc.lineCount()>Fa&&!1!==m&&100>d.changed.to-d.changed.from&&d.changed.from<=g.line&&d.changed.to>e.end.line?(b.push(I(d,g,e.end)),e.file="#0",m=b[0].offsetLines,null!=e.start&&(e.start=oa(e.start.line- -m,e.start.ch)),e.end=oa(e.end.line-m,e.end.ch)):(b.push({type:"full",name:d.name,text:ua(a,d)}),e.file=d.name,d.changed=null):e.file=d.name;for(var k in a.docs)g=a.docs[k],g.changed&&g!=d&&(b.push({type:"full",name:g.name,text:ua(a,g)}),g.changed=null);return{query:e,files:b}}function I(a,d,e){for(var g=a.doc,b=null,m=null,k=d.line-1,n=Math.max(0,k-50);k>=n;--k){var r=g.getLine(k);0>r.search(/\bfunction\b/)||(r=p.countColumn(r,null,4),null!=b&&b<=r||(b=r,m=k))}null==m&&(m=n);k=Math.min(g.lastLine(),e.line+20);if(null==b||b==p.countColumn(g.getLine(d.line),null,4))d=k;else for(d=e.line+1;d<k&&!(r=p.countColumn(g.getLine(d),null,4),r<=b);++d);b=oa(m,0);return{type:"part",name:a.name,offsetLines:b.line,text:g.getRange(b,oa(d,0))}}function D(a,d){var e=document.createElement(a);d&&(e.className=d);for(var g=2;g<arguments.length;++g){var b=arguments[g];"string"==typeof b&&(b=document.createTextNode(b));e.appendChild(b)}return e}function P(a,d,e){a.openDialog?a.openDialog(d+": \x3cinput type\x3dtext\x3e",e):e(prompt(d,""))}function K(a,d,e){function g(){a.state.ternTooltip=null;m.parentNode&&(a.off("cursorActivity",g),a.off("blur",g),a.off("scroll",g),U(m))}a.state.ternTooltip&&L(a.state.ternTooltip);var b=a.cursorCoords(),m=a.state.ternTooltip=R(b.right+1,b.bottom,d),k=!1,n=!1;p.on(m,"mousemove",function(){k=!0});p.on(m,"mouseout",function(a){p.contains(m,a.relatedTarget||a.toElement)||(n?g():k=!1)});setTimeout(function(){n=!0;k||g()},e.options.hintDelay?e.options.hintDelay:1700);a.on("cursorActivity",g);a.on("blur",g);a.on("scroll",g)}function R(a,d,e){e=D("div",ia+"tooltip",e);e.style.left=a+"px";e.style.top=d+"px";document.body.appendChild(e);return e}function L(a){var d=a&&a.parentNode;d&&d.removeChild(a)}function U(a){a.style.opacity="0";setTimeout(function(){L(a)},1100)}function aa(a,d,e){a.options.showError?a.options.showError(d,e):K(d,String(e),a)}function V(a){a.activeArgHints&&(L(a.activeArgHints),a.activeArgHints=null)}function ua(a,d){var e=d.doc.getValue();a.options.fileFilter&&(e=a.options.fileFilter(e,d.name,d.doc));return e}function Ea(a){function d(a,b){b&&(a.id=++g,m[g]=b);e.postMessage(a)}var e=a.worker=new Worker(a.options.workerScript);e.postMessage({type:"init",defs:a.options.defs,plugins:a.options.plugins,scripts:a.options.workerDeps});var g=0,m={};e.onmessage=function(e){var g=e.data;"getFile"==g.type?b(a,g.name,function(a,e){d({type:"getFile",err:String(a),text:e,id:g.id})}):"debug"==g.type?window.console.log(g.message):g.id&&m[g.id]&&(m[g.id](g.err,g.body),delete m[g.id])};e.onerror=function(a){for(var d in m)m[d](a);m={}};this.addFile=function(a,e){d({type:"add",name:a,text:e})};this.delFile=function(a){d({type:"del",name:a})};this.request=function(a,e){d({type:"req",body:a},e)}}p.TernServer=function(a){var d=this;this.options=a||{};a=this.options.plugins||(this.options.plugins={});a.doc_comment||(a.doc_comment=!0);this.docs=Object.create(null);this.server=this.options.useWorker?new Ea(this):new tern.Server({getFile:function(a,e){return b(d,a,e)},async:!0,defs:this.options.defs||[],plugins:a});this.trackChange=function(a,e){n(d,a,e)};this.activeArgHints=this.cachedArgHints=null;this.jumpStack=[];this.getHint=function(a,e){return m(d,a,e)};this.getHint.async=!0};p.TernServer.prototype={addDoc:function(a,d){var e={doc:d,name:a,changed:null};this.server.addFile(a,ua(this,e));p.on(d,"change",this.trackChange);return this.docs[a]=e},delDoc:function(a){if(a=u(this,a))p.off(a.doc,"change",this.trackChange),delete this.docs[a.name],this.server.delFile(a.name)},hideDoc:function(a){V(this);(a=u(this,a))&&a.changed&&r(this,a)},complete:function(a){a.showHint({hint:this.getHint})},showType:function(a,d,e){g(this,a,d,"type",e)},showDocs:function(a,d,e){g(this,a,d,"documentation",e)},updateArgHints:function(d){a(this,d)},jumpToDef:function(a){B(this,a)},jumpBack:function(a){var d=this.jumpStack.pop(),e=d&&this.docs[d.file];e&&E(this,v(this,a.getDoc()),e,d.start,d.end)},rename:function(a){w(this,a)},selectName:function(a){C(this,a)},request:function(a,d,e,g){var b=this,m=v(this,a.getDoc()),k=y(this,m,d,g);if(a=k.query&&this.options.queryOptions&&this.options.queryOptions[k.query.type])for(var n in a)k.query[n]=a[n];this.server.request(k,function(a,g){!a&&b.options.responseFilter&&(g=b.options.responseFilter(m,d,k,a,g));e(a,g)})},destroy:function(){V(this);this.worker&&(this.worker.terminate(),this.worker=null)}};var oa=p.Pos,ia="CodeMirror-Tern-",Fa=250,Va=0,da=p.cmpPos});(function(p){"object"==typeof exports&&"object"==typeof module?p(require("../../lib/codemirror")):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],p):p(CodeMirror)})(function(p){function b(b){for(var m=0;m<b.state.activeLines.length;m++)b.removeLineClass(b.state.activeLines[m],"wrap","CodeMirror-activeline"),b.removeLineClass(b.state.activeLines[m],"background","CodeMirror-activeline-background")}function v(b,m){if(b.length!=m.length)return!1;for(var k=0;k<b.length;k++)if(b[k]!=m[k])return!1;return!0}function u(n,m){for(var k=[],g=0;g<m.length;g++){var a=m[g];a.empty()&&(a=n.getLineHandleVisualStart(a.head.line),k[k.length-1]!=a&&k.push(a))}v(n.state.activeLines,k)||n.operation(function(){b(n);for(var a=0;a<k.length;a++)n.addLineClass(k[a],"wrap","CodeMirror-activeline"),n.addLineClass(k[a],"background","CodeMirror-activeline-background");n.state.activeLines=k})}function n(b,m){u(b,m.ranges)}p.defineOption("styleActiveLine",!1,function(r,m,k){k=k&&k!=p.Init;m&&!k?(r.state.activeLines=[],u(r,r.listSelections()),r.on("beforeSelectionChange",n)):!m&&k&&(r.off("beforeSelectionChange",n),b(r),delete r.state.activeLines)})});(function(p){"object"==typeof exports&&"object"==typeof module?p(require("../../lib/codemirror")):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],p):p(CodeMirror)})(function(p){p.defineMode("xml",function(b,v){function u(a,d){function e(g){d.tokenize=g;return g(a,d)}var g=a.next();if("\x3c"==g){if(a.eat("!"))return a.eat("[")?a.match("CDATA[")?e(m("atom","]]\x3e")):null:a.match("--")?e(m("comment","--\x3e")):a.match("DOCTYPE",!0,!0)?(a.eatWhile(/[\w\._\-]/),e(k(1))):null;if(a.eat("?"))return a.eatWhile(/[\w\._\-]/),d.tokenize=m("meta","?\x3e"),"meta";U=a.eat("/")?"closeTag":"openTag";d.tokenize=n;return"tag bracket"}if("\x26"==g)return(a.eat("#")?a.eat("x")?a.eatWhile(/[a-fA-F\d]/)&&a.eat(";"):a.eatWhile(/[\d]/)&&a.eat(";"):a.eatWhile(/[\w\.\-:]/)&&a.eat(";"))?"atom":"error";a.eatWhile(/[^&<]/);return null}function n(a,d){var g=a.next();if("\x3e"==g||"/"==g&&a.eat("\x3e"))return d.tokenize=u,U="\x3e"==g?"endTag":"selfcloseTag","tag bracket";if("\x3d"==g)return U="equals",null;if("\x3c"==g)return d.tokenize=u,d.state=e,d.tagName=d.tagStart=null,(g=d.tokenize(a,d))?g+" tag error":"tag error";if(/[\'\"]/.test(g))return d.tokenize=r(g),d.stringStartCol=a.column(),d.tokenize(a,d);a.match(/^[^\s\u00a0=<>\"\']*[^\s\u00a0=<>\"\'\/]/);return"word"}function r(a){var d=function(d,e){for(;!d.eol();)if(d.next()==a){e.tokenize=n;break}return"string"};d.isInAttribute=!0;return d}function m(a,d){return function(e,g){for(;!e.eol();){if(e.match(d)){g.tokenize=u;break}e.next()}return a}}function k(a){return function(d,e){for(var g;null!=(g=d.next());){if("\x3c"==g)return e.tokenize=k(a+1),e.tokenize(d,e);if("\x3e"==g)if(1==a){e.tokenize=u;break}else return e.tokenize=k(a-1),e.tokenize(d,e)}return"meta"}}function g(a,d,e){this.prev=a.context;this.tagName=d;this.indent=a.indented;this.startOfLine=e;if(R.doNotIndent.hasOwnProperty(d)||a.context&&a.context.noIndent)this.noIndent=!0}function a(a){a.context&&(a.context=a.context.prev)}function d(d,e){for(var g;d.context;){g=d.context.tagName;if(!R.contextGrabbers.hasOwnProperty(g)||!R.contextGrabbers[g].hasOwnProperty(e))break;a(d)}}function e(a,d,g){return"openTag"==a?(g.tagStart=d.column(),B):"closeTag"==a?E:e}function B(a,d,e){if("word"==a)return e.tagName=d.current(),aa="tag",C;aa="error";return B}function E(d,e,g){if("word"==d){d=e.current();g.context&&g.context.tagName!=d&&R.implicitlyClosed.hasOwnProperty(g.context.tagName)&&a(g);if(g.context&&g.context.tagName==d)return aa="tag",G;aa="tag error";return w}aa="error";return w}function G(d,g,b){if("endTag"!=d)return aa="error",G;a(b);return e}function w(a,d,e){aa="error";return G(a,d,e)}function C(a,b,m){if("word"==a)return aa="attribute",H;if("endTag"==a||"selfcloseTag"==a){b=m.tagName;var k=m.tagStart;m.tagName=m.tagStart=null;"selfcloseTag"==a||R.autoSelfClosers.hasOwnProperty(b)?d(m,b):(d(m,b),m.context=new g(m,b,k==m.indented));return e}aa="error";return C}function H(a,d,e){if("equals"==a)return y;R.allowMissing||(aa="error");return C(a,d,e)}function y(a,d,e){if("string"==a)return I;if("word"==a&&R.allowUnquoted)return aa="string",C;aa="error";return C(a,d,e)}function I(a,d,e){return"string"==a?I:C(a,d,e)}var D=b.indentUnit,P=v.multilineTagIndentFactor||1,K=v.multilineTagIndentPastTag;null==K&&(K=!0);var R=v.htmlMode?{autoSelfClosers:{area:!0,base:!0,br:!0,col:!0,command:!0,embed:!0,frame:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0,menuitem:!0},implicitlyClosed:{dd:!0,li:!0,optgroup:!0,option:!0,p:!0,rp:!0,rt:!0,tbody:!0,td:!0,tfoot:!0,th:!0,tr:!0},contextGrabbers:{dd:{dd:!0,dt:!0},dt:{dd:!0,dt:!0},li:{li:!0},option:{option:!0,optgroup:!0},optgroup:{optgroup:!0},p:{address:!0,article:!0,aside:!0,blockquote:!0,dir:!0,div:!0,dl:!0,fieldset:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,menu:!0,nav:!0,ol:!0,p:!0,pre:!0,section:!0,table:!0,ul:!0},rp:{rp:!0,rt:!0},rt:{rp:!0,rt:!0},tbody:{tbody:!0,tfoot:!0},td:{td:!0,th:!0},tfoot:{tbody:!0},th:{td:!0,th:!0},thead:{tbody:!0,tfoot:!0},tr:{tr:!0}},doNotIndent:{pre:!0},allowUnquoted:!0,allowMissing:!0,caseFold:!0}:{autoSelfClosers:{},implicitlyClosed:{},contextGrabbers:{},doNotIndent:{},allowUnquoted:!1,allowMissing:!1,caseFold:!1},L=v.alignCDATA,U,aa;u.isInText=!0;return{startState:function(){return{tokenize:u,state:e,indented:0,tagName:null,tagStart:null,context:null}},token:function(a,d){!d.tagName&&a.sol()&&(d.indented=a.indentation());if(a.eatSpace())return null;U=null;var e=d.tokenize(a,d);(e||U)&&"comment"!=e&&(aa=null,d.state=d.state(U||e,a,d),aa&&(e="error"==aa?e+" error":aa));return e},indent:function(a,d,e){var g=a.context;if(a.tokenize.isInAttribute)return a.tagStart==a.indented?a.stringStartCol+1:a.indented+D;if(g&&g.noIndent)return p.Pass;if(a.tokenize!=n&&a.tokenize!=u)return e?e.match(/^(\s*)/)[0].length:0;if(a.tagName)return K?a.tagStart+a.tagName.length+2:a.tagStart+D*P;if(L&&/<!\[CDATA\[/.test(d))return 0;if((a=d&&/^<(\/)?([\w_:\.-]*)/.exec(d))&&a[1])for(;g;)if(g.tagName==a[2]){g=g.prev;break}else if(R.implicitlyClosed.hasOwnProperty(g.tagName))g=g.prev;else break;else if(a)for(;g;)if((d=R.contextGrabbers[g.tagName])&&d.hasOwnProperty(a[2]))g=g.prev;else break;for(;g&&!g.startOfLine;)g=g.prev;return g?g.indent+D:0},electricInput:/<\/[\s\w:]+>$/,blockCommentStart:"\x3c!--",blockCommentEnd:"--\x3e",configuration:v.htmlMode?"html":"xml",helperType:v.htmlMode?"html":"xml"}});p.defineMIME("text/xml","xml");p.defineMIME("application/xml","xml");p.mimeModes.hasOwnProperty("text/html")||p.defineMIME("text/html",{name:"xml",htmlMode:!0})});(function(p){"object"==typeof exports&&"object"==typeof module?p(require("../../lib/codemirror")):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],p):p(CodeMirror)})(function(p){p.defineMode("javascript",function(b,v){function u(a,d,e){ub=a;Ta=e;return d}function n(a,d){var e=a.next();if('"'==e||"'"==e)return d.tokenize=r(e),d.tokenize(a,d);if("."==e&&a.match(/^\d+(?:[eE][+\-]?\d+)?/))return u("number","number");if("."==e&&a.match(".."))return u("spread","meta");if(/[\[\]{}\(\),;\:\.]/.test(e))return u(e);if("\x3d"==e&&a.eat("\x3e"))return u("\x3d\x3e","operator");if("0"==e&&a.eat(/x/i))return a.eatWhile(/[\da-f]/i),u("number","number");if("0"==e&&a.eat(/o/i))return a.eatWhile(/[0-7]/i),u("number","number");if("0"==e&&a.eat(/b/i))return a.eatWhile(/[01]/i),u("number","number");if(/\d/.test(e))return a.match(/^\d*(?:\.\d*)?(?:[eE][+\-]?\d+)?/),u("number","number");if("/"==e){if(a.eat("*"))return d.tokenize=m,m(a,d);if(a.eat("/"))return a.skipToEnd(),u("comment","comment");if(/^(?:operator|sof|keyword c|case|new|[\[{}\(,;:])$/.test(d.lastType)||"quasi"==d.lastType&&/\{\s*$/.test(a.string.slice(0,a.pos-1))){a:for(var e=!1,g,b=!1;null!=(g=a.next());){if(!e){if("/"==g&&!b)break a;"["==g?b=!0:b&&"]"==g&&(b=!1)}e=!e&&"\\"==g}a.match(/^\b(([gimyu])(?![gimyu]*\2))+\b/);return u("regexp","string-2")}a.eatWhile(Ia);return u("operator","operator",a.current())}if("`"==e)return d.tokenize=k,k(a,d);if("#"==e)return a.skipToEnd(),u("error","error");if(Ia.test(e))return a.eatWhile(Ia),u("operator","operator",a.current());if(Ha.test(e))return a.eatWhile(Ha),e=a.current(),(g=Eb.propertyIsEnumerable(e)&&Eb[e])&&"."!=d.lastType?u(g.type,g.style,e):u("variable","variable",e)}function r(a){return function(d,e){var g=!1,b;if(ma&&"@"==d.peek()&&d.match(bb))return e.tokenize=n,u("jsonld-keyword","meta");for(;null!=(b=d.next())&&(b!=a||g);)g=!g&&"\\"==b;g||(e.tokenize=n);return u("string","string")}}function m(a,d){for(var e=!1,g;g=a.next();){if("/"==g&&e){d.tokenize=n;break}e="*"==g}return u("comment","comment")}function k(a,d){for(var e=!1,g;null!=(g=a.next());){if(!e&&("`"==g||"$"==g&&a.eat("{"))){d.tokenize=n;break}e=!e&&"\\"==g}return u("quasi","string-2",a.current())}function g(a,d){d.fatArrowAt&&(d.fatArrowAt=null);var e=a.string.indexOf("\x3d\x3e",a.start);if(!(0>e)){for(var g=0,b=!1,e=e-1;0<=e;--e){var m=a.string.charAt(e),l="([{}])".indexOf(m);if(0<=l&&3>l){if(!g){++e;break}if(0==--g)break}else if(3<=l&&6>l)++g;else if(Ha.test(m))b=!0;else{if(/["'\/]/.test(m))return;if(b&&!g){++e;break}}}b&&!g&&(d.fatArrowAt=e)}}function a(a,d,e,g,b,m){this.indented=a;this.column=d;this.type=e;this.prev=b;this.info=m;null!=g&&(this.align=g)}function d(){for(var a=arguments.length-1;0<=a;a--)M.cc.push(arguments[a])}function e(){d.apply(null,arguments);return!0}function B(a){function d(e){for(;e;e=e.next)if(e.name==a)return!0;return!1}var e=M.state;M.marked="def";e.context?d(e.localVars)||(e.localVars={name:a,next:e.localVars}):!d(e.globalVars)&&v.globalVars&&(e.globalVars={name:a,next:e.globalVars})}function E(){M.state.context={prev:M.state.context,vars:M.state.localVars};M.state.localVars=Tb}function G(){M.state.localVars=M.state.context.vars;M.state.context=M.state.context.prev}function w(d,e){var g=function(){var g=M.state,b=g.indented;if("stat"==g.lexical.type)b=g.lexical.indented;else for(var m=g.lexical;m&&")"==m.type&&m.align;m=m.prev)b=m.indented;g.lexical=new a(b,M.stream.column(),d,null,g.lexical,e)};g.lex=!0;return g}function C(){var a=M.state;a.lexical.prev&&(")"==a.lexical.type&&(a.indented=a.lexical.indented),a.lexical=a.lexical.prev)}function H(a){function g(b){return b==a?e():";"==a?d():e(g)}return g}function y(a,g){return"var"==a?e(w("vardef",g.length),ka,H(";"),C):"keyword a"==a?e(w("form"),I,y,C):"keyword b"==a?e(w("form"),y,C):"{"==a?e(w("}"),Ba,C):";"==a?e():"if"==a?("else"==M.state.lexical.info&&M.state.cc[M.state.cc.length-1]==C&&M.state.cc.pop()(),e(w("form"),I,y,C,xa)):"function"==a?e(ra):"for"==a?e(w("form"),sb,y,C):"variable"==a?e(w("stat"),Va):"switch"==a?e(w("form"),I,w("}","switch"),H("{"),Ba,C,C):"case"==a?e(I,H(":")):"default"==a?e(H(":")):"catch"==a?e(w("form"),E,H("("),Qb,H(")"),y,C,G):"class"==a?e(w("form"),Dc,C):"export"==a?e(w("stat"),Pa,C):"import"==a?e(w("stat"),S,C):"module"==a?e(w("form"),X,w("}"),H("{"),Ba,C,C):d(w("stat"),I,H(";"),C)}function I(a){return P(a,!1)}function D(a){return P(a,!0)}function P(a,g){if(M.state.fatArrowAt==M.stream.start){var b=g?Ea:ua;if("("==a)return e(E,w(")"),N(X,")"),C,H("\x3d\x3e"),b,G);if("variable"==a)return d(E,X,H("\x3d\x3e"),b,G)}b=g?U:L;return Fb.hasOwnProperty(a)?e(b):"function"==a?e(ra,b):"keyword c"==a?e(g?R:K):"("==a?e(w(")"),K,ta,H(")"),C,b):"operator"==a||"spread"==a?e(g?D:I):"["==a?e(w("]"),Db,C,b):"{"==a?ja(ea,"}",null,b):"quasi"==a?d(aa,b):"new"==a?e(oa(g)):e()}function K(a){return a.match(/[;\}\)\],]/)?d():d(I)}function R(a){return a.match(/[;\}\)\],]/)?d():d(D)}function L(a,d){return","==a?e(I):U(a,d,!1)}function U(a,g,b){var m=0==b?L:U,k=0==b?I:D;if("\x3d\x3e"==a)return e(E,b?Ea:ua,G);if("operator"==a)return/\+\+|--/.test(g)?e(m):"?"==g?e(I,H(":"),k):e(k);if("quasi"==a)return d(aa,m);if(";"!=a){if("("==a)return ja(D,")","call",m);if("."==a)return e(da,m);if("["==a)return e(w("]"),K,H("]"),C,m)}}function aa(a,g){return"quasi"!=a?d():"${"!=g.slice(g.length-2)?e(aa):e(I,V)}function V(a){if("}"==a)return M.marked="string-2",M.state.tokenize=k,e(aa)}function ua(a){g(M.stream,M.state);return d("{"==a?y:I)}function Ea(a){g(M.stream,M.state);return d("{"==a?y:D)}function oa(a){return function(g){return"."==g?e(a?Fa:ia):d(a?D:I)}}function ia(a,d){if("target"==d)return M.marked="keyword",e(L)}function Fa(a,d){if("target"==d)return M.marked="keyword",e(U)}function Va(a){return":"==a?e(C,y):d(L,H(";"),C)}function da(a){if("variable"==a)return M.marked="property",e()}function ea(a,d){if("variable"==a||"keyword"==M.style)return M.marked="property","get"==d||"set"==d?e(pa):e(va);if("number"==a||"string"==a)return M.marked=ma?"property":M.style+" property",e(va);if("jsonld-keyword"==a)return e(va);if("modifier"==a)return e(ea);if("["==a)return e(I,H("]"),va);if("spread"==a)return e(I)}function pa(a){if("variable"!=a)return d(va);M.marked="property";return e(ra)}function va(a){if(":"==a)return e(D);if("("==a)return d(ra)}function N(a,g){function b(d){return","==d?(d=M.state.lexical,"call"==d.info&&(d.pos=(d.pos||0)+1),e(a,b)):d==g?e():e(H(g))}return function(m){return m==g?e():d(a,b)}}function ja(a,d,g){for(var b=3;b<arguments.length;b++)M.cc.push(arguments[b]);return e(w(d,g),N(a,d),C)}function Ba(a){return"}"==a?e():d(y,Ba)}function Wa(a){if(Sb&&":"==a)return e(Ma)}function Ga(a,d){if("\x3d"==d)return e(D)}function Ma(a){if("variable"==a)return M.marked="variable-3",e()}function ka(){return d(X,Wa,fa,ha)}function X(a,d){if("modifier"==a)return e(X);if("variable"==a)return B(d),e();if("spread"==a)return e(X);if("["==a)return ja(X,"]");if("{"==a)return ja(J,"}")}function J(a,d){if("variable"==a&&!M.stream.match(/^\s*:/,!1))return B(d),e(fa);"variable"==a&&(M.marked="property");return"spread"==a?e(X):e(H(":"),X,fa)}function fa(a,d){if("\x3d"==d)return e(D)}function ha(a){if(","==a)return e(ka)}function xa(a,d){if("keyword b"==a&&"else"==d)return e(w("form","else"),y,C)}function sb(a){if("("==a)return e(w(")"),jc,H(")"),C)}function jc(a){return"var"==a?e(ka,H(";"),gb):";"==a?e(gb):"variable"==a?e(Ya):d(I,H(";"),gb)}function Ya(a,d){return"in"==d||"of"==d?(M.marked="keyword",e(I)):e(L,gb)}function gb(a,g){return";"==a?e(lb):"in"==g||"of"==g?(M.marked="keyword",e(I)):d(I,H(";"),lb)}function lb(a){")"!=a&&e(I)}function ra(a,d){if("*"==d)return M.marked="keyword",e(ra);if("variable"==a)return B(d),e(ra);if("("==a)return e(E,w(")"),N(Qb,")"),C,y,G)}function Qb(a){return"spread"==a?e(Qb):d(X,Wa,Ga)}function Dc(a,d){if("variable"==a)return B(d),e(Na)}function Na(a,d){if("extends"==d)return e(I,Na);if("{"==a)return e(w("}"),ba,C)}function ba(a,d){if("variable"==a||"keyword"==M.style){if("static"==d)return M.marked="keyword",e(ba);M.marked="property";return"get"==d||"set"==d?e(Oa,ra,ba):e(ra,ba)}if("*"==d)return M.marked="keyword",e(ba);if(";"==a)return e(ba);if("}"==a)return e()}function Oa(a){if("variable"!=a)return d();M.marked="property";return e()}function Pa(a,g){return"*"==g?(M.marked="keyword",e(Y,H(";"))):"default"==g?(M.marked="keyword",e(I,H(";"))):d(y)}function S(a){return"string"==a?e():d(Qa,Y)}function Qa(a,d){if("{"==a)return ja(Qa,"}");"variable"==a&&B(d);"*"==d&&(M.marked="keyword");return e(Za)}function Za(a,d){if("as"==d)return M.marked="keyword",e(Qa)}function Y(a,d){if("from"==d)return M.marked="keyword",e(I)}function Db(a){return"]"==a?e():d(D,sa)}function sa(a){return"for"==a?d(ta,H("]")):","==a?e(N(R,"]")):d(N(D,"]"))}function ta(a){if("for"==a)return e(sb,ta);if("if"==a)return e(I,ta)}var $a=b.indentUnit,A=v.statementIndent,ma=v.jsonld,ab=v.json||ma,Sb=v.typescript,Ha=v.wordCharacters||/[\w$\xa1-\uffff]/,Eb=function(){function a(l){return{type:l,style:"keyword"}}var d=a("keyword a"),e=a("keyword b"),g=a("keyword c"),b=a("operator"),m={type:"atom",style:"atom"},d={"if":a("if"),"while":d,"with":d,"else":e,"do":e,"try":e,"finally":e,"return":g,"break":g,"continue":g,"new":a("new"),"delete":g,"throw":g,"debugger":g,"var":a("var"),"const":a("var"),let:a("var"),"function":a("function"),"catch":a("catch"),"for":a("for"),"switch":a("switch"),"case":a("case"),"default":a("default"),"in":b,"typeof":b,"instanceof":b,"true":m,"false":m,"null":m,undefined:m,NaN:m,Infinity:m,"this":a("this"),"class":a("class"),"super":a("atom"),yield:g,"export":a("export"),"import":a("import"),"extends":g};if(Sb){var e={type:"variable",style:"variable-3"},g={"interface":a("class"),"implements":g,namespace:g,module:a("module"),"enum":a("module"),"public":a("modifier"),"private":a("modifier"),"protected":a("modifier"),"abstract":a("modifier"),as:b,string:e,number:e,"boolean":e,any:e},l;for(l in g)d[l]=g[l]}return d}(),Ia=/[+\-*&%=<>!?|~^]/,bb=/^@(context|id|value|language|type|container|list|set|reverse|index|base|vocab|graph)"/,ub,Ta,Fb={atom:!0,number:!0,variable:!0,string:!0,regexp:!0,"this":!0,"jsonld-keyword":!0},M={state:null,column:null,marked:null,cc:null},Tb={name:"this",next:{name:"arguments"}};C.lex=!0;return{startState:function(d){d={tokenize:n,lastType:"sof",cc:[],lexical:new a((d||0)-$a,0,"block",!1),localVars:v.localVars,context:v.localVars&&{vars:v.localVars},indented:0};v.globalVars&&"object"==typeof v.globalVars&&(d.globalVars=v.globalVars);return d},token:function(a,d){a.sol()&&(d.lexical.hasOwnProperty("align")||(d.lexical.align=!1),d.indented=a.indentation(),g(a,d));if(d.tokenize!=m&&a.eatSpace())return null;var e=d.tokenize(a,d);if("comment"==ub)return e;d.lastType="operator"!=ub||"++"!=Ta&&"--"!=Ta?ub:"incdec";a:{var b=ub,k=Ta,n=d.cc;M.state=d;M.stream=a;M.marked=null;M.cc=n;M.style=e;d.lexical.hasOwnProperty("align")||(d.lexical.align=!0);for(;;)if((n.length?n.pop():ab?I:y)(b,k)){for(;n.length&&n[n.length-1].lex;)n.pop()();if(M.marked){e=M.marked;break a}if(b="variable"==b)b:{for(b=d.localVars;b;b=b.next)if(b.name==k){b=!0;break b}for(n=d.context;n;n=n.prev)for(b=n.vars;b;b=b.next)if(b.name==k){b=!0;break b}b=void 0}if(b){e="variable-2";break a}break a}}return e},indent:function(a,d){if(a.tokenize==m)return p.Pass;if(a.tokenize!=n)return 0;var e=d&&d.charAt(0),g=a.lexical;if(!/^\s*else\b/.test(d))for(var b=a.cc.length-1;0<=b;--b){var k=a.cc[b];if(k==C)g=g.prev;else if(k!=xa)break}"stat"==g.type&&"}"==e&&(g=g.prev);A&&")"==g.type&&"stat"==g.prev.type&&(g=g.prev);b=g.type;k=e==b;return"vardef"==b?g.indented+("operator"==a.lastType||","==a.lastType?g.info+1:0):"form"==b&&"{"==e?g.indented:"form"==b?g.indented+$a:"stat"==b?(e=g.indented,g="operator"==a.lastType||","==a.lastType||Ia.test(d.charAt(0))||/[,.]/.test(d.charAt(0)),e+(g?A||$a:0)):"switch"!=g.info||k||0==v.doubleIndentSwitch?g.align?g.column+(k?0:1):g.indented+(k?0:$a):g.indented+(/^(?:case|default)\b/.test(d)?$a:2*$a)},electricInput:/^\s*(?:case .*?:|default:|\{|\})$/,blockCommentStart:ab?null:"/*",blockCommentEnd:ab?null:"*/",lineComment:ab?null:"//",fold:"brace",closeBrackets:"()[]{}''\"\"``",helperType:ab?"json":"javascript",jsonldMode:ma,jsonMode:ab}});p.registerHelper("wordChars","javascript",/[\w$]/);p.defineMIME("text/javascript","javascript");p.defineMIME("text/ecmascript","javascript");p.defineMIME("application/javascript","javascript");p.defineMIME("application/x-javascript","javascript");p.defineMIME("application/ecmascript","javascript");p.defineMIME("application/json",{name:"javascript",json:!0});p.defineMIME("application/x-json",{name:"javascript",json:!0});p.defineMIME("application/ld+json",{name:"javascript",jsonld:!0});p.defineMIME("text/typescript",{name:"javascript",typescript:!0});p.defineMIME("application/typescript",{name:"javascript",typescript:!0})});(function(p){"object"==typeof exports&&"object"==typeof module?p(require("../../lib/codemirror")):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],p):p(CodeMirror)})(function(p){function b(a){for(var d={},e=0;e<a.length;++e)d[a[e]]=!0;return d}function v(a,d){for(var e=!1,g;null!=(g=a.next());){if(e&&"/"==g){d.tokenize=null;break}e="*"==g}return["comment","comment"]}p.defineMode("css",function(a,d){function e(a,d){fa=d;return a}function g(a,d){var k=a.next();if(C[k]){var n=C[k](a,d);if(!1!==n)return n}if("@"==k)return a.eatWhile(/[\w\\\-]/),e("def",a.current());if("\x3d"==k||("~"==k||"|"==k)&&a.eat("\x3d"))return e(null,"compare");if('"'==k||"'"==k)return d.tokenize=b(k),d.tokenize(a,d);if("#"==k)return a.eatWhile(/[\w\\\-]/),e("atom","hash");if("!"==k)return a.match(/^\s*\w*/),e("keyword","important");if(/\d/.test(k)||"."==k&&a.eat(/\d/))return a.eatWhile(/[\w.%]/),e("number","unit");if("-"===k){if(/[\d.]/.test(a.peek()))return a.eatWhile(/[\w.%]/),e("number","unit");if(a.match(/^-[\w\\\-]+/))return a.eatWhile(/[\w\\\-]/),a.match(/^\s*:/,!1)?e("variable-2","variable-definition"):e("variable-2","variable");if(a.match(/^\w+-/))return e("meta","meta")}else return/[,+>*\/]/.test(k)?e(null,"select-op"):"."==k&&a.match(/^-?[_a-z][_a-z0-9-]*/i)?e("qualifier","qualifier"):/[:;{}\[\]\(\)]/.test(k)?e(null,k):"u"==k&&a.match(/rl(-prefix)?\(/)||"d"==k&&a.match("omain(")||"r"==k&&a.match("egexp(")?(a.backUp(1),d.tokenize=m,e("property","word")):/[\w\\\-]/.test(k)?(a.eatWhile(/[\w\\\-]/),e("property","word")):e(null,null)}function b(a){return function(d,g){for(var b=!1,m;null!=(m=d.next());){if(m==a&&!b){")"==a&&d.backUp(1);break}b=!b&&"\\"==m}if(m==a||!b&&")"!=a)g.tokenize=null;return e("string","string")}}function m(a,d){a.next();a.match(/\s*[\"\')]/,!1)?d.tokenize=null:d.tokenize=b(")");return e(null,"(")}function k(a,d,e){this.type=a;this.indent=d;this.prev=e}function n(a,d,e,g){a.context=new k(e,d.indentation()+(!1===g?0:G),a.context);return e}function r(a){a.context.prev&&(a.context=a.context.prev);return a.context.type}function w(a,d,e,g){for(g=g||1;0<g;g--)e.context=e.context.prev;return xa[e.context.type](a,d,e)}function u(a){a=a.current().toLowerCase();ha=ka.hasOwnProperty(a)?"atom":Ma.hasOwnProperty(a)?"keyword":"variable"}var B=d.inline;d.propertyKeywords||(d=p.resolveMode("text/css"));var G=a.indentUnit,C=d.tokenHooks,v=d.documentTypes||{},E=d.mediaTypes||{},y=d.mediaFeatures||{},H=d.mediaValueKeywords||{},D=d.propertyKeywords||{},I=d.nonStandardPropertyKeywords||{},Wa=d.fontProperties||{},Ga=d.counterDescriptors||{},Ma=d.colorKeywords||{},ka=d.valueKeywords||{},X=d.allowNested,J=!0===d.supportsAtComponent,fa,ha,xa={top:function(a,d,e){if("{"==a)return n(e,d,"block");if("}"==a&&e.context.prev)return r(e);if(J&&/@component/.test(a))return n(e,d,"atComponentBlock");if(/^@(-moz-)?document$/.test(a))return n(e,d,"documentTypes");if(/^@(media|supports|(-moz-)?document|import)$/.test(a))return n(e,d,"atBlock");if(/^@(font-face|counter-style)/.test(a))return e.stateArg=a,"restricted_atBlock_before";if(/^@(-(moz|ms|o|webkit)-)?keyframes$/.test(a))return"keyframes";if(a&&"@"==a.charAt(0))return n(e,d,"at");if("hash"==a)ha="builtin";else if("word"==a)ha="tag";else{if("variable-definition"==a)return"maybeprop";if("interpolation"==a)return n(e,d,"interpolation");if(":"==a)return"pseudo";if(X&&"("==a)return n(e,d,"parens")}return e.context.type},block:function(a,d,e){if("word"==a){a=d.current().toLowerCase();if(D.hasOwnProperty(a))return ha="property","maybeprop";if(I.hasOwnProperty(a))return ha="string-2","maybeprop";if(X)return ha=d.match(/^\s*:(?:\s|$)/,!1)?"property":"tag","block";ha+=" error";return"maybeprop"}if("meta"==a)return"block";if(X||"hash"!=a&&"qualifier"!=a)return xa.top(a,d,e);ha="error";return"block"},maybeprop:function(a,d,e){return":"==a?n(e,d,"prop"):xa[e.context.type](a,d,e)},prop:function(a,d,e){if(";"==a)return r(e);if("{"==a&&X)return n(e,d,"propBlock");if("}"==a||"{"==a)return w(a,d,e);if("("==a)return n(e,d,"parens");if("hash"==a&&!/^#([0-9a-fA-f]{3,4}|[0-9a-fA-f]{6}|[0-9a-fA-f]{8})$/.test(d.current()))ha+=" error";else if("word"==a)u(d);else if("interpolation"==a)return n(e,d,"interpolation");return"prop"},propBlock:function(a,d,e){return"}"==a?r(e):"word"==a?(ha="property","maybeprop"):e.context.type},parens:function(a,d,e){if("{"==a||"}"==a)return w(a,d,e);if(")"==a)return r(e);if("("==a)return n(e,d,"parens");if("interpolation"==a)return n(e,d,"interpolation");"word"==a&&u(d);return"parens"},pseudo:function(a,d,e){return"word"==a?(ha="variable-3",e.context.type):xa[e.context.type](a,d,e)},documentTypes:function(a,d,e){return"word"==a&&v.hasOwnProperty(d.current())?(ha="tag",e.context.type):xa.atBlock(a,d,e)},atBlock:function(a,d,e){if("("==a)return n(e,d,"atBlock_parens");if("}"==a||";"==a)return w(a,d,e);if("{"==a)return r(e)&&n(e,d,X?"block":"top");if("interpolation"==a)return n(e,d,"interpolation");"word"==a&&(a=d.current().toLowerCase(),ha="only"==a||"not"==a||"and"==a||"or"==a?"keyword":E.hasOwnProperty(a)?"attribute":y.hasOwnProperty(a)?"property":H.hasOwnProperty(a)?"keyword":D.hasOwnProperty(a)?"property":I.hasOwnProperty(a)?"string-2":ka.hasOwnProperty(a)?"atom":Ma.hasOwnProperty(a)?"keyword":"error");return e.context.type},atComponentBlock:function(a,d,e){if("}"==a)return w(a,d,e);if("{"==a)return r(e)&&n(e,d,X?"block":"top",!1);"word"==a&&(ha="error");return e.context.type},atBlock_parens:function(a,d,e){return")"==a?r(e):"{"==a||"}"==a?w(a,d,e,2):xa.atBlock(a,d,e)},restricted_atBlock_before:function(a,d,e){return"{"==a?n(e,d,"restricted_atBlock"):"word"==a&&"@counter-style"==e.stateArg?(ha="variable","restricted_atBlock_before"):xa[e.context.type](a,d,e)},restricted_atBlock:function(a,d,e){return"}"==a?(e.stateArg=null,r(e)):"word"==a?(ha="@font-face"==e.stateArg&&!Wa.hasOwnProperty(d.current().toLowerCase())||"@counter-style"==e.stateArg&&!Ga.hasOwnProperty(d.current().toLowerCase())?"error":"property","maybeprop"):"restricted_atBlock"},keyframes:function(a,d,e){return"word"==a?(ha="variable","keyframes"):"{"==a?n(e,d,"top"):xa[e.context.type](a,d,e)},at:function(a,d,e){if(";"==a)return r(e);if("{"==a||"}"==a)return w(a,d,e);"word"==a?ha="tag":"hash"==a&&(ha="builtin");return"at"},interpolation:function(a,d,e){if("}"==a)return r(e);if("{"==a||";"==a)return w(a,d,e);"word"==a?ha="variable":"variable"!=a&&"("!=a&&")"!=a&&(ha="error");return"interpolation"}};return{startState:function(a){return{tokenize:null,state:B?"block":"top",stateArg:null,context:new k(B?"block":"top",a||0,null)}},token:function(a,d){if(!d.tokenize&&a.eatSpace())return null;var e=(d.tokenize||g)(a,d);e&&"object"==typeof e&&(fa=e[1],e=e[0]);ha=e;d.state=xa[d.state](fa,a,d);return ha},indent:function(a,d){var e=a.context,g=d&&d.charAt(0),b=e.indent;"prop"!=e.type||"}"!=g&&")"!=g||(e=e.prev);if(e.prev)if("}"==g&&("block"==e.type||"top"==e.type||"interpolation"==e.type||"restricted_atBlock"==e.type))e=e.prev,b=e.indent;else if(")"==g&&("parens"==e.type||"atBlock_parens"==e.type)||"{"==g&&("at"==e.type||"atBlock"==e.type))b=Math.max(0,e.indent-G);return b},electricChars:"}",blockCommentStart:"/*",blockCommentEnd:"*/",fold:"brace"}});var u=["domain","regexp","url","url-prefix"],n=b(u),r="all aural braille handheld print projection screen tty tv embossed".split(" "),m=b(r),k="width min-width max-width height min-height max-height device-width min-device-width max-device-width device-height min-device-height max-device-height aspect-ratio min-aspect-ratio max-aspect-ratio device-aspect-ratio min-device-aspect-ratio max-device-aspect-ratio color min-color max-color color-index min-color-index max-color-index monochrome min-monochrome max-monochrome resolution min-resolution max-resolution scan grid orientation device-pixel-ratio min-device-pixel-ratio max-device-pixel-ratio pointer any-pointer hover any-hover".split(" "),g=b(k),a="landscape portrait none coarse fine on-demand hover interlace progressive".split(" "),d=b(a),e="align-content align-items align-self alignment-adjust alignment-baseline anchor-point animation animation-delay animation-direction animation-duration animation-fill-mode animation-iteration-count animation-name animation-play-state animation-timing-function appearance azimuth backface-visibility background background-attachment background-clip background-color background-image background-origin background-position background-repeat background-size baseline-shift binding bleed bookmark-label bookmark-level bookmark-state bookmark-target border border-bottom border-bottom-color border-bottom-left-radius border-bottom-right-radius border-bottom-style border-bottom-width border-collapse border-color border-image border-image-outset border-image-repeat border-image-slice border-image-source border-image-width border-left border-left-color border-left-style border-left-width border-radius border-right border-right-color border-right-style border-right-width border-spacing border-style border-top border-top-color border-top-left-radius border-top-right-radius border-top-style border-top-width border-width bottom box-decoration-break box-shadow box-sizing break-after break-before break-inside caption-side clear clip color color-profile column-count column-fill column-gap column-rule column-rule-color column-rule-style column-rule-width column-span column-width columns content counter-increment counter-reset crop cue cue-after cue-before cursor direction display dominant-baseline drop-initial-after-adjust drop-initial-after-align drop-initial-before-adjust drop-initial-before-align drop-initial-size drop-initial-value elevation empty-cells fit fit-position flex flex-basis flex-direction flex-flow flex-grow flex-shrink flex-wrap float float-offset flow-from flow-into font font-feature-settings font-family font-kerning font-language-override font-size font-size-adjust font-stretch font-style font-synthesis font-variant font-variant-alternates font-variant-caps font-variant-east-asian font-variant-ligatures font-variant-numeric font-variant-position font-weight grid grid-area grid-auto-columns grid-auto-flow grid-auto-position grid-auto-rows grid-column grid-column-end grid-column-start grid-row grid-row-end grid-row-start grid-template grid-template-areas grid-template-columns grid-template-rows hanging-punctuation height hyphens icon image-orientation image-rendering image-resolution inline-box-align justify-content left letter-spacing line-break line-height line-stacking line-stacking-ruby line-stacking-shift line-stacking-strategy list-style list-style-image list-style-position list-style-type margin margin-bottom margin-left margin-right margin-top marker-offset marks marquee-direction marquee-loop marquee-play-count marquee-speed marquee-style max-height max-width min-height min-width move-to nav-down nav-index nav-left nav-right nav-up object-fit object-position opacity order orphans outline outline-color outline-offset outline-style outline-width overflow overflow-style overflow-wrap overflow-x overflow-y padding padding-bottom padding-left padding-right padding-top page page-break-after page-break-before page-break-inside page-policy pause pause-after pause-before perspective perspective-origin pitch pitch-range play-during position presentation-level punctuation-trim quotes region-break-after region-break-before region-break-inside region-fragment rendering-intent resize rest rest-after rest-before richness right rotation rotation-point ruby-align ruby-overhang ruby-position ruby-span shape-image-threshold shape-inside shape-margin shape-outside size speak speak-as speak-header speak-numeral speak-punctuation speech-rate stress string-set tab-size table-layout target target-name target-new target-position text-align text-align-last text-decoration text-decoration-color text-decoration-line text-decoration-skip text-decoration-style text-emphasis text-emphasis-color text-emphasis-position text-emphasis-style text-height text-indent text-justify text-outline text-overflow text-shadow text-size-adjust text-space-collapse text-transform text-underline-position text-wrap top transform transform-origin transform-style transition transition-delay transition-duration transition-property transition-timing-function unicode-bidi vertical-align visibility voice-balance voice-duration voice-family voice-pitch voice-range voice-rate voice-stress voice-volume volume white-space widows width word-break word-spacing word-wrap z-index clip-path clip-rule mask enable-background filter flood-color flood-opacity lighting-color stop-color stop-opacity pointer-events color-interpolation color-interpolation-filters color-rendering fill fill-opacity fill-rule image-rendering marker marker-end marker-mid marker-start shape-rendering stroke stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-rendering baseline-shift dominant-baseline glyph-orientation-horizontal glyph-orientation-vertical text-anchor writing-mode".split(" "),B=b(e),E="scrollbar-arrow-color scrollbar-base-color scrollbar-dark-shadow-color scrollbar-face-color scrollbar-highlight-color scrollbar-shadow-color scrollbar-3d-light-color scrollbar-track-color shape-inside searchfield-cancel-button searchfield-decoration searchfield-results-button searchfield-results-decoration zoom".split(" "),G=b(E),w=b("font-family src unicode-range font-variant font-feature-settings font-stretch font-weight font-style".split(" ")),C=b("additive-symbols fallback negative pad prefix range speak-as suffix symbols system".split(" ")),H="aliceblue antiquewhite aqua aquamarine azure beige bisque black blanchedalmond blue blueviolet brown burlywood cadetblue chartreuse chocolate coral cornflowerblue cornsilk crimson cyan darkblue darkcyan darkgoldenrod darkgray darkgreen darkkhaki darkmagenta darkolivegreen darkorange darkorchid darkred darksalmon darkseagreen darkslateblue darkslategray darkturquoise darkviolet deeppink deepskyblue dimgray dodgerblue firebrick floralwhite forestgreen fuchsia gainsboro ghostwhite gold goldenrod gray grey green greenyellow honeydew hotpink indianred indigo ivory khaki lavender lavenderblush lawngreen lemonchiffon lightblue lightcoral lightcyan lightgoldenrodyellow lightgray lightgreen lightpink lightsalmon lightseagreen lightskyblue lightslategray lightsteelblue lightyellow lime limegreen linen magenta maroon mediumaquamarine mediumblue mediumorchid mediumpurple mediumseagreen mediumslateblue mediumspringgreen mediumturquoise mediumvioletred midnightblue mintcream mistyrose moccasin navajowhite navy oldlace olive olivedrab orange orangered orchid palegoldenrod palegreen paleturquoise palevioletred papayawhip peachpuff peru pink plum powderblue purple rebeccapurple red rosybrown royalblue saddlebrown salmon sandybrown seagreen seashell sienna silver skyblue slateblue slategray snow springgreen steelblue tan teal thistle tomato turquoise violet wheat white whitesmoke yellow yellowgreen".split(" "),y=b(H),I="above absolute activeborder additive activecaption afar after-white-space ahead alias all all-scroll alphabetic alternate always amharic amharic-abegede antialiased appworkspace arabic-indic armenian asterisks attr auto avoid avoid-column avoid-page avoid-region background backwards baseline below bidi-override binary bengali blink block block-axis bold bolder border border-box both bottom break break-all break-word bullets button button-bevel buttonface buttonhighlight buttonshadow buttontext calc cambodian capitalize caps-lock-indicator caption captiontext caret cell center checkbox circle cjk-decimal cjk-earthly-branch cjk-heavenly-stem cjk-ideographic clear clip close-quote col-resize collapse column column-reverse compact condensed contain content content-box context-menu continuous copy counter counters cover crop cross crosshair currentcolor cursive cyclic dashed decimal decimal-leading-zero default default-button destination-atop destination-in destination-out destination-over devanagari disc discard disclosure-closed disclosure-open document dot-dash dot-dot-dash dotted double down e-resize ease ease-in ease-in-out ease-out element ellipse ellipsis embed end ethiopic ethiopic-abegede ethiopic-abegede-am-et ethiopic-abegede-gez ethiopic-abegede-ti-er ethiopic-abegede-ti-et ethiopic-halehame-aa-er ethiopic-halehame-aa-et ethiopic-halehame-am-et ethiopic-halehame-gez ethiopic-halehame-om-et ethiopic-halehame-sid-et ethiopic-halehame-so-et ethiopic-halehame-ti-er ethiopic-halehame-ti-et ethiopic-halehame-tig ethiopic-numeric ew-resize expanded extends extra-condensed extra-expanded fantasy fast fill fixed flat flex flex-end flex-start footnotes forwards from geometricPrecision georgian graytext groove gujarati gurmukhi hand hangul hangul-consonant hebrew help hidden hide higher highlight highlighttext hiragana hiragana-iroha horizontal hsl hsla icon ignore inactiveborder inactivecaption inactivecaptiontext infinite infobackground infotext inherit initial inline inline-axis inline-block inline-flex inline-table inset inside intrinsic invert italic japanese-formal japanese-informal justify kannada katakana katakana-iroha keep-all khmer korean-hangul-formal korean-hanja-formal korean-hanja-informal landscape lao large larger left level lighter line-through linear linear-gradient lines list-item listbox listitem local logical loud lower lower-alpha lower-armenian lower-greek lower-hexadecimal lower-latin lower-norwegian lower-roman lowercase ltr malayalam match matrix matrix3d media-controls-background media-current-time-display media-fullscreen-button media-mute-button media-play-button media-return-to-realtime-button media-rewind-button media-seek-back-button media-seek-forward-button media-slider media-sliderthumb media-time-remaining-display media-volume-slider media-volume-slider-container media-volume-sliderthumb medium menu menulist menulist-button menulist-text menulist-textfield menutext message-box middle min-intrinsic mix mongolian monospace move multiple myanmar n-resize narrower ne-resize nesw-resize no-close-quote no-drop no-open-quote no-repeat none normal not-allowed nowrap ns-resize numbers numeric nw-resize nwse-resize oblique octal open-quote optimizeLegibility optimizeSpeed oriya oromo outset outside outside-shape overlay overline padding padding-box painted page paused persian perspective plus-darker plus-lighter pointer polygon portrait pre pre-line pre-wrap preserve-3d progress push-button radial-gradient radio read-only read-write read-write-plaintext-only rectangle region relative repeat repeating-linear-gradient repeating-radial-gradient repeat-x repeat-y reset reverse rgb rgba ridge right rotate rotate3d rotateX rotateY rotateZ round row row-resize row-reverse rtl run-in running s-resize sans-serif scale scale3d scaleX scaleY scaleZ scroll scrollbar se-resize searchfield searchfield-cancel-button searchfield-decoration searchfield-results-button searchfield-results-decoration semi-condensed semi-expanded separate serif show sidama simp-chinese-formal simp-chinese-informal single skew skewX skewY skip-white-space slide slider-horizontal slider-vertical sliderthumb-horizontal sliderthumb-vertical slow small small-caps small-caption smaller solid somali source-atop source-in source-out source-over space space-around space-between spell-out square square-button start static status-bar stretch stroke sub subpixel-antialiased super sw-resize symbolic symbols table table-caption table-cell table-column table-column-group table-footer-group table-header-group table-row table-row-group tamil telugu text text-bottom text-top textarea textfield thai thick thin threeddarkshadow threedface threedhighlight threedlightshadow threedshadow tibetan tigre tigrinya-er tigrinya-er-abegede tigrinya-et tigrinya-et-abegede to top trad-chinese-formal trad-chinese-informal translate translate3d translateX translateY translateZ transparent ultra-condensed ultra-expanded underline up upper-alpha upper-armenian upper-greek upper-hexadecimal upper-latin upper-norwegian upper-roman uppercase urdu url var vertical vertical-text visible visibleFill visiblePainted visibleStroke visual w-resize wait wave wider window windowframe windowtext words wrap wrap-reverse x-large x-small xor xx-large xx-small".split(" "),D=b(I),u=u.concat(r).concat(k).concat(a).concat(e).concat(E).concat(H).concat(I);p.registerHelper("hintWords","css",u);p.defineMIME("text/css",{documentTypes:n,mediaTypes:m,mediaFeatures:g,mediaValueKeywords:d,propertyKeywords:B,nonStandardPropertyKeywords:G,fontProperties:w,counterDescriptors:C,colorKeywords:y,valueKeywords:D,tokenHooks:{"/":function(a,d){if(!a.eat("*"))return!1;d.tokenize=v;return v(a,d)}},name:"css"});p.defineMIME("text/x-scss",{mediaTypes:m,mediaFeatures:g,mediaValueKeywords:d,propertyKeywords:B,nonStandardPropertyKeywords:G,colorKeywords:y,valueKeywords:D,fontProperties:w,allowNested:!0,tokenHooks:{"/":function(a,d){return a.eat("/")?(a.skipToEnd(),["comment","comment"]):a.eat("*")?(d.tokenize=v,v(a,d)):["operator","operator"]},":":function(a){return a.match(/\s*\{/)?[null,"{"]:!1},$:function(a){a.match(/^[\w-]+/);return a.match(/^\s*:/,!1)?["variable-2","variable-definition"]:["variable-2","variable"]},"#":function(a){return a.eat("{")?[null,"interpolation"]:!1}},name:"css",helperType:"scss"});p.defineMIME("text/x-less",{mediaTypes:m,mediaFeatures:g,mediaValueKeywords:d,propertyKeywords:B,nonStandardPropertyKeywords:G,colorKeywords:y,valueKeywords:D,fontProperties:w,allowNested:!0,tokenHooks:{"/":function(a,d){return a.eat("/")?(a.skipToEnd(),["comment","comment"]):a.eat("*")?(d.tokenize=v,v(a,d)):["operator","operator"]},"@":function(a){if(a.eat("{"))return[null,"interpolation"];if(a.match(/^(charset|document|font-face|import|(-(moz|ms|o|webkit)-)?keyframes|media|namespace|page|supports)\b/,!1))return!1;a.eatWhile(/[\w\\\-]/);return a.match(/^\s*:/,!1)?["variable-2","variable-definition"]:["variable-2","variable"]},"\x26":function(){return["atom","atom"]}},name:"css",helperType:"less"});p.defineMIME("text/x-gss",{documentTypes:n,mediaTypes:m,mediaFeatures:g,propertyKeywords:B,nonStandardPropertyKeywords:G,fontProperties:w,counterDescriptors:C,colorKeywords:y,valueKeywords:D,supportsAtComponent:!0,tokenHooks:{"/":function(a,d){if(!a.eat("*"))return!1;d.tokenize=v;return v(a,d)}},name:"css",helperType:"gss"})});(function(p){"object"==typeof exports&&"object"==typeof module?p(require("../../lib/codemirror")):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],p):p(CodeMirror)})(function(p){p.defineMode("vbscript",function(b,p){function u(a){return new RegExp("^(("+a.join(")|(")+"))\\b","i")}function n(b,n){if(b.eatSpace())return"space";if("'"===b.peek()||b.match(ua))return b.skipToEnd(),"comment";if(b.match(/^((&H)|(&O))?[0-9\.]/i,!1)&&!b.match(/^((&H)|(&O))?[0-9\.]+[a-z_]/i,!1)){var p=!1;b.match(/^\d*\.\d+/i)?p=!0:b.match(/^\d+\.\d*/)?p=!0:b.match(/^\.\d+/)&&(p=!0);if(p)return b.eat(/J/i),"number";p=!1;b.match(/^&H[0-9a-f]+/i)?p=!0:b.match(/^&O[0-7]+/i)?p=!0:b.match(/^[1-9]\d*F?/)?(b.eat(/J/i),p=!0):b.match(/^0(?![\dx])/i)&&(p=!0);if(p)return b.eat(/L/i),"number"}if(b.match('"'))return n.tokenize=r(b.current()),n.tokenize(b,n);if(b.match(k)||b.match(m)||b.match(e))return"operator";if(b.match(g))return null;if(b.match(a))return"bracket";if(b.match(V))return n.doInCurrentLine=!0,"keyword";if(b.match(aa))return n.currentIndent++,n.doInCurrentLine=!0,"keyword";if(b.match(K))return n.doInCurrentLine?n.doInCurrentLine=!1:n.currentIndent++,"keyword";if(b.match(R))return"keyword";if(b.match(U))return n.currentIndent--,n.currentIndent--,"keyword";if(b.match(L))return n.doInCurrentLine?n.doInCurrentLine=!1:n.currentIndent--,"keyword";if(b.match(H))return"keyword";if(b.match(y))return"atom";if(b.match(P))return"variable-2";if(b.match(I))return"builtin";if(b.match(D))return"variable-2";if(b.match(d))return"variable";b.next();return"error"}function r(a){var d=1==a.length;return function(e,g){for(;!e.eol();){e.eatWhile(/[^'"]/);if(e.match(a))return g.tokenize=n,"string";e.eat(/['"]/)}if(d){if(p.singleLineStringErrors)return"error";g.tokenize=n}return"string"}}var m=/^[\+\-\*/&\\\^<>=]/,k=/^((<>)|(<=)|(>=))/,g=/^[\.,]/,a=/^[\(\)]/,d=/^[A-Za-z][_A-Za-z0-9]*/,e=u("and or not xor is mod eqv imp".split(" ")),B=["WScript","err","debug","RegExp"],E=["server","response","request","session","application"],G="buffer cachecontrol charset contenttype expires expiresabsolute isclientconnected pics status clientcertificate cookies form querystring servervariables totalbytes contents staticobjects codepage lcid sessionid timeout scripttimeout".split(" "),w="addheader appendtolog binarywrite end flush redirect binaryread remove removeall lock unlock abandon getlasterror htmlencode mappath transfer urlencode".split(" "),C="clear execute raise replace test write writeline close open state eof update addnew end createobject quit".split(" ").concat("description firstindex global helpcontext helpfile ignorecase length number pattern source value count".split(" ")),B=B.concat("vbBlack vbRed vbGreen vbYellow vbBlue vbMagenta vbCyan vbWhite vbBinaryCompare vbTextCompare vbSunday vbMonday vbTuesday vbWednesday vbThursday vbFriday vbSaturday vbUseSystemDayOfWeek vbFirstJan1 vbFirstFourDays vbFirstFullWeek vbGeneralDate vbLongDate vbShortDate vbLongTime vbShortTime vbObjectError vbOKOnly vbOKCancel vbAbortRetryIgnore vbYesNoCancel vbYesNo vbRetryCancel vbCritical vbQuestion vbExclamation vbInformation vbDefaultButton1 vbDefaultButton2 vbDefaultButton3 vbDefaultButton4 vbApplicationModal vbSystemModal vbOK vbCancel vbAbort vbRetry vbIgnore vbYes vbNo vbCr VbCrLf vbFormFeed vbLf vbNewLine vbNullChar vbNullString vbTab vbVerticalTab vbUseDefault vbTrue vbFalse vbEmpty vbNull vbInteger vbLong vbSingle vbDouble vbCurrency vbDate vbString vbObject vbError vbBoolean vbVariant vbDataObject vbDecimal vbByte vbArray".split(" "));b.isASP&&(B=B.concat(E),C=C.concat(w,G));var H=u("dim;redim;then;until;randomize;byval;byref;new;property;exit;in;const;private;public;get;set;let;stop;on error resume next;on error goto 0;option explicit;call;me".split(";")),y=u(["true","false","nothing","empty","null"]),I=u("abs array asc atn cbool cbyte ccur cdate cdbl chr cint clng cos csng cstr date dateadd datediff datepart dateserial datevalue day escape eval execute exp filter formatcurrency formatdatetime formatnumber formatpercent getlocale getobject getref hex hour inputbox instr instrrev int fix isarray isdate isempty isnull isnumeric isobject join lbound lcase left len loadpicture log ltrim rtrim trim maths mid minute month monthname msgbox now oct replace rgb right rnd round scriptengine scriptenginebuildversion scriptenginemajorversion scriptengineminorversion second setlocale sgn sin space split sqr strcomp string strreverse tan time timer timeserial timevalue typename ubound ucase unescape vartype weekday weekdayname year".split(" ")),D=u(B),P=u(C),K=u("class sub select while if function property with for".split(" ")),R=u(["else","elseif","case"]),L=u(["next","loop","wend"]),U=u(["end"]),aa=u(["do"]),V=u(["on error resume next","exit"]),ua=u(["rem"]);return{electricChars:"dDpPtTfFeE ",startState:function(){return{tokenize:n,lastToken:null,currentIndent:0,nextLineIndent:0,doInCurrentLine:!1,ignoreKeyword:!1}},token:function(a,d){a.sol()&&(d.currentIndent+=d.nextLineIndent,d.nextLineIndent=0,d.doInCurrentLine=0);var e;e=d.tokenize(a,d);var g=a.current();if("."===g)if(e=d.tokenize(a,d),g=a.current(),!e||"variable"!==e.substr(0,8)&&"builtin"!==e&&"keyword"!==e)e="error";else{if("builtin"===e||"keyword"===e)e="variable";-1<C.indexOf(g.substr(1))&&(e="variable-2")}d.lastToken={style:e,content:a.current()};"space"===e&&(e=null);return e},indent:function(a,d){var e=d.replace(/^\s+|\s+$/g,"");return e.match(L)||e.match(U)||e.match(R)?b.indentUnit*(a.currentIndent-1):0>a.currentIndent?0:a.currentIndent*b.indentUnit}}});p.defineMIME("text/vbscript","vbscript")});(function(p){"object"==typeof exports&&"object"==typeof module?p(require("../../lib/codemirror"),require("../xml/xml"),require("../javascript/javascript"),require("../css/css")):"function"==typeof define&&define.amd?define(["../../lib/codemirror","../xml/xml","../javascript/javascript","../css/css"],p):p(CodeMirror)})(function(p){function b(b){var g=m[b];return g?g:m[b]=new RegExp("\\s+"+b+"\\s*\x3d\\s*('|\")?([^'\"]+)('|\")?\\s*")}function v(m,g){for(var a=m.pos,d;0<=a&&"\x3c"!==m.string.charAt(a);)a--;return 0>a?a:(d=m.string.slice(a,m.pos).match(b(g)))?d[2]:""}function u(b,g){for(var a in b)for(var d=g[a]||(g[a]=[]),e=b[a],m=e.length-1;0<=m;m--)d.unshift(e[m])}function n(b,g){for(var a=0;a<b.length;a++){var d=b[a];if(!d[0]||d[1].test(v(g,d[0])))return d[2]}}var r={script:[["lang",/(javascript|babel)/i,"javascript"],["type",/^(?:text|application)\/(?:x-)?(?:java|ecma)script$|^$/i,"javascript"],["type",/./,"text/plain"],[null,null,"javascript"]],style:[["lang",/^css$/i,"css"],["type",/^(text\/)?(x-)?(stylesheet|css)$/i,"css"],["type",/./,"text/plain"],[null,null,"css"]]},m={};p.defineMode("htmlmixed",function(b,g){function a(g,m){var r=m.htmlState.tagName&&m.htmlState.tagName.toLowerCase(),u=r&&e.hasOwnProperty(r)&&e[r],B=d.token(g,m.htmlState),v;if(u&&/\btag\b/.test(B)&&"\x3e"===g.current()&&(v=n(u,g))){var u=p.getMode(b,v),E=new RegExp("^\x3c/s*"+r+"s*\x3e","i"),P=new RegExp("\x3c/s*"+r+"s*\x3e","i");m.token=function(d,e){if(d.match(E,!1))return e.token=a,e.localState=e.localMode=null;var g=e.localMode.token(d,e.localState),b=d.current(),m=b.search(P);-1<m?d.backUp(b.length-m):b.match(/<\/?$/)&&(d.backUp(b.length),d.match(P,!1)||d.match(b));return g};m.localMode=u;m.localState=p.startState(u,d.indent(m.htmlState,""))}return B}var d=p.getMode(b,{name:"xml",htmlMode:!0,multilineTagIndentFactor:g.multilineTagIndentFactor,multilineTagIndentPastTag:g.multilineTagIndentPastTag}),e={},m=g&&g.tags,v=g&&g.scriptTypes;u(r,e);m&&u(m,e);if(v)for(m=v.length-1;0<=m;m--)e.script.unshift(["type",v[m].matches,v[m].mode]);return{startState:function(){var e=d.startState();return{token:a,localMode:null,localState:null,htmlState:e}},copyState:function(a){var e;a.localState&&(e=p.copyState(a.localMode,a.localState));return{token:a.token,localMode:a.localMode,localState:e,htmlState:p.copyState(d,a.htmlState)}},token:function(a,d){return d.token(a,d)},indent:function(a,e){return!a.localMode||/^\s*<\//.test(e)?d.indent(a.htmlState,e):a.localMode.indent?a.localMode.indent(a.localState,e):p.Pass},innerMode:function(a){return{state:a.localState||a.htmlState,mode:a.localMode||d}}}},"xml","javascript","css");p.defineMIME("text/html","htmlmixed")});(function(p){"object"==typeof exports&&"object"==typeof module?p(require("../../lib/codemirror")):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],p):p(CodeMirror)})(function(p){function b(b,n,r){function m(g){var a=p.wheelEventPixels(g)["horizontal"==k.orientation?"x":"y"],d=k.pos;k.moveTo(k.pos+a);k.pos!=d&&p.e_preventDefault(g)}this.orientation=n;this.scroll=r;this.screen=this.total=this.size=1;this.pos=0;this.node=document.createElement("div");this.node.className=b+"-"+n;this.inner=this.node.appendChild(document.createElement("div"));var k=this;p.on(this.inner,"mousedown",function(g){function a(){p.off(document,"mousemove",d);p.off(document,"mouseup",a)}function d(d){if(1!=d.which)return a();k.moveTo(m+k.total/k.size*(d[e]-b))}if(1==g.which){p.e_preventDefault(g);var e="horizontal"==k.orientation?"pageX":"pageY",b=g[e],m=k.pos;p.on(document,"mousemove",d);p.on(document,"mouseup",a)}});p.on(this.node,"click",function(g){p.e_preventDefault(g);var a=k.inner.getBoundingClientRect();k.moveTo(k.pos+("horizontal"==k.orientation?g.clientX<a.left?-1:g.clientX>a.right?1:0:g.clientY<a.top?-1:g.clientY>a.bottom?1:0)*k.screen)});p.on(this.node,"mousewheel",m);p.on(this.node,"DOMMouseScroll",m)}function v(p,n,r){this.addClass=p;this.horiz=new b(p,"horizontal",r);n(this.horiz.node);this.vert=new b(p,"vertical",r);n(this.vert.node);this.width=null}b.prototype.moveTo=function(b,n){0>b&&(b=0);b>this.total-this.screen&&(b=this.total-this.screen);b!=this.pos&&(this.pos=b,this.inner.style["horizontal"==this.orientation?"left":"top"]=this.size/this.total*b+"px",!1!==n&&this.scroll(b,this.orientation))};b.prototype.update=function(b,n,p){this.screen=n;this.total=b;this.size=p;b=this.size/this.total*this.screen;10>b&&(this.size-=10-b,b=10);this.inner.style["horizontal"==this.orientation?"width":"height"]=b+"px";this.inner.style["horizontal"==this.orientation?"left":"top"]=this.size/this.total*this.pos+"px"};v.prototype.update=function(b){if(null==this.width){var n=window.getComputedStyle?window.getComputedStyle(this.horiz.node):this.horiz.node.currentStyle;n&&(this.width=parseInt(n.height))}var n=this.width||0,p=b.scrollWidth>b.clientWidth+1,m=b.scrollHeight>b.clientHeight+1;this.vert.node.style.display=m?"block":"none";this.horiz.node.style.display=p?"block":"none";m&&(this.vert.update(b.scrollHeight,b.clientHeight,b.viewHeight-(p?n:0)),this.vert.node.style.display="block",this.vert.node.style.bottom=p?n+"px":"0");p&&(this.horiz.update(b.scrollWidth,b.clientWidth,b.viewWidth-(m?n:0)-b.barLeft),this.horiz.node.style.right=m?n+"px":"0",this.horiz.node.style.left=b.barLeft+"px");return{right:m?n:0,bottom:p?n:0}};v.prototype.setScrollTop=function(b){this.vert.moveTo(b,!1)};v.prototype.setScrollLeft=function(b){this.horiz.moveTo(b,!1)};v.prototype.clear=function(){var b=this.horiz.node.parentNode;b.removeChild(this.horiz.node);b.removeChild(this.vert.node)};p.scrollbarModel.simple=function(b,n){return new v("CodeMirror-simplescroll",b,n)};p.scrollbarModel.overlay=function(b,n){return new v("CodeMirror-overlayscroll",b,n)}});(function(p){"object"==typeof exports&&"object"==typeof module?p(require("../../lib/codemirror")):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],p):p(CodeMirror)})(function(p){function b(b){b.state.placeholder&&(b.state.placeholder.parentNode.removeChild(b.state.placeholder),b.state.placeholder=null)}function v(m){b(m);var k=m.state.placeholder=document.createElement("pre");k.style.cssText="height: 0; overflow: visible";k.className="CodeMirror-placeholder";var g=m.getOption("placeholder");"string"==typeof g&&(g=document.createTextNode(g));k.appendChild(g);m.display.lineSpace.insertBefore(k,m.display.lineSpace.firstChild)}function u(b){r(b)&&v(b)}function n(m){var k=m.getWrapperElement(),g=r(m);k.className=k.className.replace(" CodeMirror-empty","")+(g?" CodeMirror-empty":"");g?v(m):b(m)}function r(b){return 1===b.lineCount()&&""===b.getLine(0)}p.defineOption("placeholder","",function(m,k,g){g=g&&g!=p.Init;k&&!g?(m.on("blur",u),m.on("change",n),n(m)):!k&&g&&(m.off("blur",u),m.off("change",n),b(m),g=m.getWrapperElement(),g.className=g.className.replace(" CodeMirror-empty",""));k&&!m.hasFocus()&&u(m)})});(function(p){"object"==typeof exports&&"object"==typeof module?p(require("../../lib/codemirror"),require("../fold/xml-fold")):"function"==typeof define&&define.amd?define(["../../lib/codemirror","../fold/xml-fold"],p):p(CodeMirror)})(function(p){function b(b){if(b.getOption("disableInput"))return p.Pass;for(var g=b.listSelections(),a=[],d=0;d<g.length;d++){if(!g[d].empty())return p.Pass;var e=g[d].head,B=b.getTokenAt(e),v=p.innerMode(b.getMode(),B.state),G=v.state;if("xml"!=v.mode.name||!G.tagName)return p.Pass;var w=b.getOption("autoCloseTags"),C="html"==v.mode.configuration,v="object"==typeof w&&w.dontCloseTags||C&&r,C="object"==typeof w&&w.indentTags||C&&m,w=G.tagName;B.end>e.ch&&(w=w.slice(0,w.length-B.end+e.ch));var H=w.toLowerCase();if(!w||"string"==B.type&&(B.end!=e.ch||!/[\"\']/.test(B.string.charAt(B.string.length-1))||1==B.string.length)||"tag"==B.type&&"closeTag"==G.type||B.string.indexOf("/")==B.string.length-1||v&&-1<u(v,H)||n(b,w,e,G,!0))return p.Pass;B=C&&-1<u(C,H);a[d]={indent:B,text:"\x3e"+(B?"\n\n":"")+"\x3c/"+w+"\x3e",newPos:B?p.Pos(e.line+1,0):p.Pos(e.line,e.ch+1)}}for(d=g.length-1;0<=d;d--)e=a[d],b.replaceRange(e.text,g[d].head,g[d].anchor,"+insert"),B=b.listSelections().slice(0),B[d]={head:e.newPos,anchor:e.newPos},b.setSelections(B),e.indent&&(b.indentLine(e.newPos.line,null,!0),b.indentLine(e.newPos.line+1,null,!0))}function v(b,g){for(var a=b.listSelections(),d=[],e=g?"/":"\x3c/",m=0;m<a.length;m++){if(!a[m].empty())return p.Pass;var r=a[m].head,u=b.getTokenAt(r),w=p.innerMode(b.getMode(),u.state),v=w.state;if(g&&("string"==u.type||"\x3c"!=u.string.charAt(0)||u.start!=r.ch-1))return p.Pass;if("xml"!=w.mode.name)if("htmlmixed"==b.getMode().name&&"javascript"==w.mode.name)w=e+"script";else if("htmlmixed"==b.getMode().name&&"css"==w.mode.name)w=e+"style";else return p.Pass;else{if(!v.context||!v.context.tagName||n(b,v.context.tagName,r,v))return p.Pass;w=e+v.context.tagName}"\x3e"!=b.getLine(r.line).charAt(u.end)&&(w+="\x3e");d[m]=w}b.replaceSelections(d);a=b.listSelections();for(m=0;m<a.length;m++)(m==a.length-1||a[m].head.line<a[m+1].head.line)&&b.indentLine(a[m].head.line)}function u(b,g){if(b.indexOf)return b.indexOf(g);for(var a=0,d=b.length;a<d;++a)if(b[a]==g)return a;return-1}function n(b,g,a,d,e){if(!p.scanForClosingTag)return!1;var m=Math.min(b.lastLine()+1,a.line+500);a=p.scanForClosingTag(b,a,null,m);if(!a||a.tag!=g)return!1;d=d.context;for(e=e?1:0;d&&d.tagName==g;d=d.prev)++e;a=a.to;for(d=1;d<e;d++){a=p.scanForClosingTag(b,a,null,m);if(!a||a.tag!=g)return!1;a=a.to}return!0}p.defineOption("autoCloseTags",!1,function(m,g,a){a!=p.Init&&a&&m.removeKeyMap("autoCloseTags");if(g){a={name:"autoCloseTags"};if("object"!=typeof g||g.whenClosing)a["'/'"]=function(a){a=a.getOption("disableInput")?p.Pass:v(a,!0);return a};if("object"!=typeof g||g.whenOpening)a["'\x3e'"]=function(a){return b(a)};m.addKeyMap(a)}});var r="area base br col command embed hr img input keygen link meta param source track wbr".split(" "),m="applet blockquote body button div dl fieldset form frameset h1 h2 h3 h4 h5 h6 head html iframe layer legend object ol p select table ul".split(" ");p.commands.closeTag=function(b){return v(b)}});(function(p){"object"==typeof exports&&"object"==typeof module?p(require("../../lib/codemirror")):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],p):p(CodeMirror)})(function(p){p.defineOption("fullScreen",!1,function(b,v,u){u==p.Init&&(u=!1);!u!=!v&&(v?(v=b.getWrapperElement(),b.state.fullScreenRestore={scrollTop:window.pageYOffset,scrollLeft:window.pageXOffset,width:v.style.width,height:v.style.height},v.style.width="",v.style.height="auto",v.className+=" CodeMirror-fullscreen",document.documentElement.style.overflow="hidden",b.refresh(),document.getElementById("fullscreen_xiao").style.display="inline",$('.CodeMirror-fullscreen').parent().prev().find('.c_tool').attr('style','position:fixed;top:19px;left:500px;z-index:9998;padding-top:10px!important'),$("#CodeMirror_tool").attr("style","position:fixed;top:0;left:0;right:0;height:51px;z-index:9998;padding-top:10px!important")):(v=b.getWrapperElement(),v.className=v.className.replace(/\s*CodeMirror-fullscreen\b/,""),document.documentElement.style.overflow="",u=b.state.fullScreenRestore,v.style.width=u.width,v.style.height=u.height,window.scrollTo(u.scrollLeft,u.scrollTop),b.refresh(),document.getElementById("fullscreen_xiao").style.display="none",$('.c_tool').removeAttr('style'),$("#CodeMirror_tool").removeAttr("style")))})});(function e$$0(b,v,u){function n(m,g){if(!v[m]){if(!b[m]){var a="function"==typeof require&&require;if(!g&&a)return a(m,!0);if(r)return r(m,!0);throw Error("Cannot find module '"+m+"'");}a=v[m]={exports:{}};b[m][0].call(a.exports,function(a){var e=b[m][1][a];return n(e?e:a)},a,a.exports,e$$0,b,v,u)}return v[m].exports}for(var r="function"==typeof require&&require,m=0;m<u.length;m++)n(u[m]);return n})({1:[function(p,b,v){(function(){var p=function(a,d){var e=a.style[d];a.currentStyle?e=a.currentStyle[d]:window.getComputedStyle&&(e=document.defaultView.getComputedStyle(a,null).getPropertyValue(d));if("auto"==e&&"cursor"==d)for(var g=["a"],b=0;b<g.length;b++)if(a.tagName.toLowerCase()==g[b])return"pointer";return e},n=function(a){if(e.prototype._singleton){a||(a=window.event);var d;this!==window?d=this:a.target?d=a.target:a.srcElement&&(d=a.srcElement);e.prototype._singleton.setCurrent(d)}},r=function(a,d){if(a.addClass)return a.addClass(d),a;if(d&&"string"===typeof d){var e=(d||"").split(/\s+/);if(1===a.nodeType)if(a.className){for(var g=" "+a.className+" ",b=a.className,m=0,k=e.length;m<k;m++)0>g.indexOf(" "+e[m]+" ")&&(b+=" "+e[m]);a.className=b.replace(/^\s+|\s+$/g,"")}else a.className=d}return a},m=function(a,d){if(a.removeClass)return a.removeClass(d),a;if(d&&"string"===typeof d||void 0===d){var e=(d||"").split(/\s+/);if(1===a.nodeType&&a.className)if(d){for(var g=(" "+a.className+" ").replace(/[\n\t]/g," "),b=0,m=e.length;b<m;b++)g=g.replace(" "+e[b]+" "," ");a.className=g.replace(/^\s+|\s+$/g,"")}else a.className=""}return a},k=function(a){return(0<=a.indexOf("?")?"\x26":"?")+"nocache\x3d"+(new Date).getTime()},g=function(a){var d=[];a.trustedDomains&&("string"===typeof a.trustedDomains?d.push("trustedDomain\x3d"+a.trustedDomains):d.push("trustedDomain\x3d"+a.trustedDomains.join(",")));return d.join("\x26")},a=function(a,d){if(d.indexOf)return d.indexOf(a);for(var e=0,g=d.length;e<g;e++)if(d[e]===a)return e;return-1},d=function(a){if("string"===typeof a)throw new TypeError("ZeroClipboard doesn't accept query strings.");return a.length?a:[a]},e=function(a,d){a&&(e.prototype._singleton||this).glue(a);if(e.prototype._singleton)return e.prototype._singleton;e.prototype._singleton=this;this.options={};for(var b in G)this.options[b]=G[b];for(var m in d)this.options[m]=d[m];this.handlers={};if(e.detectFlashSupport()){b=e.prototype._singleton;m=document.getElementById("global-zeroclipboard-html-bridge");if(!m){var n='      \x3cobject classid\x3d"clsid:d27cdb6e-ae6d-11cf-96b8-444553540000" id\x3d"global-zeroclipboard-flash-bridge" width\x3d"100%" height\x3d"100%"\x3e         \x3cparam name\x3d"movie" value\x3d"'+b.options.moviePath+k(b.options.moviePath)+'"/\x3e         \x3cparam name\x3d"allowScriptAccess" value\x3d"'+b.options.allowScriptAccess+'"/\x3e         \x3cparam name\x3d"scale" value\x3d"exactfit"/\x3e         \x3cparam name\x3d"loop" value\x3d"false"/\x3e         \x3cparam name\x3d"menu" value\x3d"false"/\x3e         \x3cparam name\x3d"quality" value\x3d"best" /\x3e         \x3cparam name\x3d"bgcolor" value\x3d"#ffffff"/\x3e         \x3cparam name\x3d"wmode" value\x3d"transparent"/\x3e         \x3cparam name\x3d"flashvars" value\x3d"'+g(b.options)+'"/\x3e         \x3cembed src\x3d"'+b.options.moviePath+k(b.options.moviePath)+'"           loop\x3d"false" menu\x3d"false"           quality\x3d"best" bgcolor\x3d"#ffffff"           width\x3d"100%" height\x3d"100%"           name\x3d"global-zeroclipboard-flash-bridge"           allowScriptAccess\x3d"always"           allowFullScreen\x3d"false"           type\x3d"application/x-shockwave-flash"           wmode\x3d"transparent"           pluginspage\x3d"http://www.macromedia.com/go/getflashplayer"           flashvars\x3d"'+g(b.options)+'"           scale\x3d"exactfit"\x3e         \x3c/embed\x3e       \x3c/object\x3e';m=document.createElement("div");m.id="global-zeroclipboard-html-bridge";m.setAttribute("class","global-zeroclipboard-container");m.setAttribute("data-clipboard-ready",!1);m.style.position="absolute";m.style.left="-9999px";m.style.top="-9999px";m.style.width="15px";m.style.height="15px";m.style.zIndex="9999";m.innerHTML=n;document.body.appendChild(m)}b.htmlBridge=m;b.flashBridge=document["global-zeroclipboard-flash-bridge"]||m.children[0].lastElementChild}},B,v=[];e.prototype.setCurrent=function(a){B=a;this.reposition();a.getAttribute("title")&&this.setTitle(a.getAttribute("title"));this.setHandCursor("pointer"==p(a,"cursor"))};e.prototype.setText=function(a){a&&""!==a&&(this.options.text=a,this.ready()&&this.flashBridge.setText(a))};e.prototype.setTitle=function(a){a&&""!==a&&this.htmlBridge.setAttribute("title",a)};e.prototype.setSize=function(a,d){this.ready()&&this.flashBridge.setSize(a,d)};e.prototype.setHandCursor=function(a){this.ready()&&this.flashBridge.setHandCursor(a)};e.version="1.1.7";var G={moviePath:"ZeroClipboard.swf",trustedDomains:null,text:null,hoverClass:"zeroclipboard-is-hover",activeClass:"zeroclipboard-is-active",allowScriptAccess:"sameDomain"};e.setDefaults=function(a){for(var d in a)G[d]=a[d]};e.destroy=function(){e.prototype._singleton.unglue(v);var a=e.prototype._singleton.htmlBridge;a.parentNode.removeChild(a);delete e.prototype._singleton};e.detectFlashSupport=function(){var a=!1;try{new ActiveXObject("ShockwaveFlash.ShockwaveFlash")&&(a=!0)}catch(d){navigator.mimeTypes["application/x-shockwave-flash"]&&(a=!0)}return a};e.prototype.resetBridge=function(){this.htmlBridge.style.left="-9999px";this.htmlBridge.style.top="-9999px";this.htmlBridge.removeAttribute("title");this.htmlBridge.removeAttribute("data-clipboard-text");m(B,this.options.activeClass);B=null;this.options.text=null};e.prototype.ready=function(){var a=this.htmlBridge.getAttribute("data-clipboard-ready");return"true"===a||!0===a};e.prototype.reposition=function(){if(!B)return!1;var a=B,d=0,e=0,g=a.width||a.offsetWidth||0,b=a.height||a.offsetHeight||0,m=9999,k=p(a,"zIndex");for(k&&"auto"!=k&&(m=parseInt(k,10));a;)var k=parseInt(p(a,"borderLeftWidth"),10),n=parseInt(p(a,"borderTopWidth"),10),d=d+(isNaN(a.offsetLeft)?0:a.offsetLeft),d=d+(isNaN(k)?0:k),e=e+(isNaN(a.offsetTop)?0:a.offsetTop),e=e+(isNaN(n)?0:n),a=a.offsetParent;this.htmlBridge.style.top=e+"px";this.htmlBridge.style.left=d+"px";this.htmlBridge.style.width=g+"px";this.htmlBridge.style.height=b+"px";this.htmlBridge.style.zIndex=m+1;this.setSize(g,b)};e.dispatch=function(a,d){e.prototype._singleton.receiveEvent(a,d)};e.prototype.on=function(a,d){for(var g=a.toString().split(/\s/g),b=0;b<g.length;b++)a=g[b].toLowerCase().replace(/^on/,""),this.handlers[a]||(this.handlers[a]=d);this.handlers.noflash&&!e.detectFlashSupport()&&this.receiveEvent("onNoFlash",null)};e.prototype.addEventListener=e.prototype.on;e.prototype.off=function(a,d){for(var e=a.toString().split(/\s/g),g=0;g<e.length;g++){a=e[g].toLowerCase().replace(/^on/,"");for(var b in this.handlers)b===a&&this.handlers[b]===d&&delete this.handlers[b]}};e.prototype.removeEventListener=e.prototype.off;e.prototype.receiveEvent=function(a,d){a=a.toString().toLowerCase().replace(/^on/,"");var e=B;switch(a){case "load":if(d&&10>parseFloat(d.flashVersion.replace(",",".").replace(/[^0-9\.]/gi,""))){this.receiveEvent("onWrongFlash",{flashVersion:d.flashVersion});return}this.htmlBridge.setAttribute("data-clipboard-ready",!0);break;case "mouseover":r(e,this.options.hoverClass);break;case "mouseout":m(e,this.options.hoverClass);this.resetBridge();break;case "mousedown":r(e,this.options.activeClass);break;case "mouseup":m(e,this.options.activeClass);break;case "datarequested":var g=e.getAttribute("data-clipboard-target");(g=(g=g?document.getElementById(g):null)?g.value||g.textContent||g.innerText:e.getAttribute("data-clipboard-text"))&&this.setText(g);break;case "complete":this.options.text=null}this.handlers[a]&&(g=this.handlers[a],"function"==typeof g?g.call(e,this,d):"string"==typeof g&&window[g].call(e,this,d))};e.prototype.glue=function(e){e=d(e);for(var g=0;g<e.length;g++)if(-1==a(e[g],v)){v.push(e[g]);var b=e[g],m=n;b.addEventListener?b.addEventListener("mouseover",m,!1):b.attachEvent&&b.attachEvent("onmouseover",m)}};e.prototype.unglue=function(e){e=d(e);for(var g=0;g<e.length;g++){var b=e[g],m=n;b.removeEventListener?b.removeEventListener("mouseover",m,!1):b.detachEvent&&b.detachEvent("onmouseover",m);b=a(e[g],v);-1!=b&&v.splice(b,1)}};"undefined"!==typeof b?b.exports=e:"function"===typeof define&&define.amd?define(function(){return e}):window.ZeroClipboard=e})()},{}],2:[function(p,b,v){var u="undefined"!==typeof self?self:"undefined"!==typeof window?window:{};"use strict";var n=u.ZeroClipboard=p("ZeroClipboard"),r={path:"ZeroClipboard.swf",copy:null,beforeCopy:null,afterCopy:null,clickAfter:!0},m=function(){var a=0;return function(){return a++}}(),k={},g,a=jQuery;a.fn.zclip=function(d){var e;if(a.isPlainObject(d)){e=a.extend({},r,d);d=m();k[d]=e;this.data("zclip-client",d);g?g.glue(this):g=new n(this,{moviePath:e.path,trustedDomains:[u.location.protocol+"//"+u.location.host],hoverClass:"hover",activeClass:"active"});if(a.isFunction(e.copy))this.on("zClip_copy",a.proxy(e.copy,this));if(a.isFunction(e.beforeCopy))this.on("zClip_beforeCopy",a.proxy(e.beforeCopy,this));if(a.isFunction(e.afterCopy))this.on("zClip_afterCopy",a.proxy(e.afterCopy,this));g.on("mouseover",function(){a(this).trigger("mouseenter")});g.on("mouseout",function(){a(this).trigger("mouseleave")});g.on("mousedown",function(){a(this).trigger("mousedown")});g.on("load",function(a){a.setHandCursor(e.setHandCursor)});g.on("complete",function(d,e){var g=e.text,b=a(this),m=k[b.data("zclip-client")];a.isFunction(m.afterCopy)?b.trigger("zClip_afterCopy",g):(500<g.length&&g.substr(0,500),u.alert("Copied text to clipboard:\n\n"+e.text));m.clickAfter&&b.trigger("click")});g.on("dataRequested",function(d){var e=a(this),g=k[e.data("zclip-client")];e.trigger("zClip_beforeCopy");a.isFunction(g.copy)?d.setText(String(e.triggerHandler("zClip_copy"))):d.setText(g.copy)});a(u).on("load resize",function(){g.reposition()})}else if(g&&"string"===typeof d)switch(d){case "remove":case "hide":g.unglue(this);break;case "show":g.glue(this)}}},{ZeroClipboard:1}]},{},[2]);(function(p){"object"===typeof exports&&"undefined"!==typeof module?module.exports=p():"function"===typeof define&&define.amd?define([],p):("undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:this).acorn=p()})(function(){return function b(v,u,n){function r(g,a){if(!u[g]){if(!v[g]){var d="function"==typeof require&&require;if(!a&&d)return d(g,!0);if(m)return m(g,!0);d=Error("Cannot find module '"+g+"'");throw d.code="MODULE_NOT_FOUND",d;}d=u[g]={exports:{}};v[g][0].call(d.exports,function(a){var d=v[g][1][a];return r(d?d:a)},d,d.exports,b,v,u,n)}return u[g].exports}for(var m="function"==typeof require&&require,k=0;k<n.length;k++)r(n[k]);return r}({1:[function(b,v,u){var n=b("./tokentype");v=b("./state");var r=b("./identifier"),m=b("./util");b=v.Parser.prototype;b.checkPropClash=function(g,a){if(!(6<=this.options.ecmaVersion&&(g.computed||g.method||g.shorthand))){var d=g.key,e=void 0;switch(d.type){case "Identifier":e=d.name;break;case "Literal":e=String(d.value);break;default:return}var b=g.kind;if(6<=this.options.ecmaVersion)"__proto__"===e&&"init"===b&&(a.proto&&this.raise(d.start,"Redefinition of __proto__ property"),a.proto=!0);else{var k=void 0;m.has(a,e)?(k=a[e],e="init"!==b,(!this.strict&&!e||!k[b])&&e^k.init||this.raise(d.start,"Redefinition of property")):k=a[e]={init:!1,get:!1,set:!1};k[b]=!0}}};b.parseExpression=function(g,a){var d=this.start,e=this.startLoc,b=this.parseMaybeAssign(g,a);if(this.type===n.types.comma){d=this.startNodeAt(d,e);for(d.expressions=[b];this.eat(n.types.comma);)d.expressions.push(this.parseMaybeAssign(g,a));return this.finishNode(d,"SequenceExpression")}return b};b.parseMaybeAssign=function(g,a,d){if(this.type==n.types._yield&&this.inGenerator)return this.parseYield();var e=void 0;a?e=!1:(a={start:0},e=!0);var b=this.start,m=this.startLoc;if(this.type==n.types.parenL||this.type==n.types.name)this.potentialArrowAt=this.start;var k=this.parseMaybeConditional(g,a);d&&(k=d.call(this,k,b,m));if(this.type.isAssign)return d=this.startNodeAt(b,m),d.operator=this.value,d.left=this.type===n.types.eq?this.toAssignable(k):k,a.start=0,this.checkLVal(k),this.next(),d.right=this.parseMaybeAssign(g),this.finishNode(d,"AssignmentExpression");e&&a.start&&this.unexpected(a.start);return k};b.parseMaybeConditional=function(g,a){var d=this.start,e=this.startLoc,b=this.parseExprOps(g,a);return a&&a.start?b:this.eat(n.types.question)?(d=this.startNodeAt(d,e),d.test=b,d.consequent=this.parseMaybeAssign(),this.expect(n.types.colon),d.alternate=this.parseMaybeAssign(g),this.finishNode(d,"ConditionalExpression")):b};b.parseExprOps=function(g,a){var d=this.start,e=this.startLoc,b=this.parseMaybeUnary(a);return a&&a.start?b:this.parseExprOp(b,d,e,-1,g)};b.parseExprOp=function(g,a,d,e,b){var m=this.type.binop;if(null!=m&&(!b||this.type!==n.types._in)&&m>e){var k=this.startNodeAt(a,d);k.left=g;k.operator=this.value;g=this.type;this.next();var r=this.start,u=this.startLoc;k.right=this.parseExprOp(this.parseMaybeUnary(),r,u,m,b);this.finishNode(k,g===n.types.logicalOR||g===n.types.logicalAND?"LogicalExpression":"BinaryExpression");return this.parseExprOp(k,a,d,e,b)}return g};b.parseMaybeUnary=function(g){if(this.type.prefix){var a=this.startNode(),d=this.type===n.types.incDec;a.operator=this.value;a.prefix=!0;this.next();a.argument=this.parseMaybeUnary();g&&g.start&&this.unexpected(g.start);d?this.checkLVal(a.argument):this.strict&&"delete"===a.operator&&"Identifier"===a.argument.type&&this.raise(a.start,"Deleting local variable in strict mode");return this.finishNode(a,d?"UpdateExpression":"UnaryExpression")}var d=this.start,e=this.startLoc,b=this.parseExprSubscripts(g);if(g&&g.start)return b;for(;this.type.postfix&&!this.canInsertSemicolon();)a=this.startNodeAt(d,e),a.operator=this.value,a.prefix=!1,a.argument=b,this.checkLVal(b),this.next(),b=this.finishNode(a,"UpdateExpression");return b};b.parseExprSubscripts=function(g){var a=this.start,d=this.startLoc,e=this.parseExprAtom(g);return g&&g.start?e:this.parseSubscripts(e,a,d)};b.parseSubscripts=function(g,a,d,e){for(;;)if(this.eat(n.types.dot)){var b=this.startNodeAt(a,d);b.object=g;b.property=this.parseIdent(!0);b.computed=!1;g=this.finishNode(b,"MemberExpression")}else if(this.eat(n.types.bracketL))b=this.startNodeAt(a,d),b.object=g,b.property=this.parseExpression(),b.computed=!0,this.expect(n.types.bracketR),g=this.finishNode(b,"MemberExpression");else if(!e&&this.eat(n.types.parenL))b=this.startNodeAt(a,d),b.callee=g,b.arguments=this.parseExprList(n.types.parenR,!1),g=this.finishNode(b,"CallExpression");else if(this.type===n.types.backQuote)b=this.startNodeAt(a,d),b.tag=g,b.quasi=this.parseTemplate(),g=this.finishNode(b,"TaggedTemplateExpression");else return g};b.parseExprAtom=function(g){var a=void 0,a=this.potentialArrowAt==this.start;switch(this.type){case n.types._super:this.inFunction||this.raise(this.start,"'super' outside of function or class");case n.types._this:return g=this.type===n.types._this?"ThisExpression":"Super",a=this.startNode(),this.next(),this.finishNode(a,g);case n.types._yield:this.inGenerator&&this.unexpected();case n.types.name:g=this.start;var d=this.startLoc,e=this.parseIdent(this.type!==n.types.name);return a&&!this.canInsertSemicolon()&&this.eat(n.types.arrow)?this.parseArrowExpression(this.startNodeAt(g,d),[e]):e;case n.types.regexp:return g=this.value,a=this.parseLiteral(g.value),a.regex={pattern:g.pattern,flags:g.flags},a;case n.types.num:case n.types.string:return this.parseLiteral(this.value);case n.types._null:case n.types._true:case n.types._false:return a=this.startNode(),a.value=this.type===n.types._null?null:this.type===n.types._true,a.raw=this.type.keyword,this.next(),this.finishNode(a,"Literal");case n.types.parenL:return this.parseParenAndDistinguishExpression(a);case n.types.bracketL:a=this.startNode();this.next();if(7<=this.options.ecmaVersion&&this.type===n.types._for)return this.parseComprehension(a,!1);a.elements=this.parseExprList(n.types.bracketR,!0,!0,g);return this.finishNode(a,"ArrayExpression");case n.types.braceL:return this.parseObj(!1,g);case n.types._function:return a=this.startNode(),this.next(),this.parseFunction(a,!1);case n.types._class:return this.parseClass(this.startNode(),!1);case n.types._new:return this.parseNew();case n.types.backQuote:return this.parseTemplate();default:this.unexpected()}};b.parseLiteral=function(g){var a=this.startNode();a.value=g;a.raw=this.input.slice(this.start,this.end);this.next();return this.finishNode(a,"Literal")};b.parseParenExpression=function(){this.expect(n.types.parenL);var g=this.parseExpression();this.expect(n.types.parenR);return g};b.parseParenAndDistinguishExpression=function(g){var a=this.start,d=this.startLoc,e=void 0;if(6<=this.options.ecmaVersion){this.next();if(7<=this.options.ecmaVersion&&this.type===n.types._for)return this.parseComprehension(this.startNodeAt(a,d),!0);for(var e=this.start,b=this.startLoc,m=[],k=!0,r={start:0},u=void 0,v=void 0;this.type!==n.types.parenR;)if(k?k=!1:this.expect(n.types.comma),this.type===n.types.ellipsis){u=this.start;m.push(this.parseParenItem(this.parseRest()));break}else this.type!==n.types.parenL||v||(v=this.start),m.push(this.parseMaybeAssign(!1,r,this.parseParenItem));var k=this.start,y=this.startLoc;this.expect(n.types.parenR);if(g&&!this.canInsertSemicolon()&&this.eat(n.types.arrow))return v&&this.unexpected(v),this.parseParenArrowList(a,d,m);m.length||this.unexpected(this.lastTokStart);u&&this.unexpected(u);r.start&&this.unexpected(r.start);1<m.length?(e=this.startNodeAt(e,b),e.expressions=m,this.finishNodeAt(e,"SequenceExpression",k,y)):e=m[0]}else e=this.parseParenExpression();return this.options.preserveParens?(g=this.startNodeAt(a,d),g.expression=e,this.finishNode(g,"ParenthesizedExpression")):e};b.parseParenItem=function(g){return g};b.parseParenArrowList=function(g,a,d){return this.parseArrowExpression(this.startNodeAt(g,a),d)};var k=[];b.parseNew=function(){var g=this.startNode(),a=this.parseIdent(!0);if(6<=this.options.ecmaVersion&&this.eat(n.types.dot))return g.meta=a,g.property=this.parseIdent(!0),"target"!==g.property.name&&this.raise(g.property.start,"The only valid meta property for new is new.target"),this.finishNode(g,"MetaProperty");var a=this.start,d=this.startLoc;g.callee=this.parseSubscripts(this.parseExprAtom(),a,d,!0);this.eat(n.types.parenL)?g.arguments=this.parseExprList(n.types.parenR,!1):g.arguments=k;return this.finishNode(g,"NewExpression")};b.parseTemplateElement=function(){var g=this.startNode();g.value={raw:this.input.slice(this.start,this.end).replace(/\r\n?/g,"\n"),cooked:this.value};this.next();g.tail=this.type===n.types.backQuote;return this.finishNode(g,"TemplateElement")};b.parseTemplate=function(){var g=this.startNode();this.next();g.expressions=[];var a=this.parseTemplateElement();for(g.quasis=[a];!a.tail;)this.expect(n.types.dollarBraceL),g.expressions.push(this.parseExpression()),this.expect(n.types.braceR),g.quasis.push(a=this.parseTemplateElement());this.next();return this.finishNode(g,"TemplateLiteral")};b.parseObj=function(g,a){var d=this.startNode(),e=!0,b={};d.properties=[];for(this.next();!this.eat(n.types.braceR);){if(e)e=!1;else if(this.expect(n.types.comma),this.afterTrailingComma(n.types.braceR))break;var m=this.startNode(),k=void 0,r=void 0,u=void 0;if(6<=this.options.ecmaVersion){m.method=!1;m.shorthand=!1;if(g||a)r=this.start,u=this.startLoc;g||(k=this.eat(n.types.star))}this.parsePropertyName(m);this.parsePropertyValue(m,g,k,r,u,a);this.checkPropClash(m,b);d.properties.push(this.finishNode(m,"Property"))}return this.finishNode(d,g?"ObjectPattern":"ObjectExpression")};b.parsePropertyValue=function(g,a,d,e,b,m){this.eat(n.types.colon)?(g.value=a?this.parseMaybeDefault(this.start,this.startLoc):this.parseMaybeAssign(!1,m),g.kind="init"):6<=this.options.ecmaVersion&&this.type===n.types.parenL?(a&&this.unexpected(),g.kind="init",g.method=!0,g.value=this.parseMethod(d)):5<=this.options.ecmaVersion&&!g.computed&&"Identifier"===g.key.type&&("get"===g.key.name||"set"===g.key.name)&&this.type!=n.types.comma&&this.type!=n.types.braceR?((d||a)&&this.unexpected(),g.kind=g.key.name,this.parsePropertyName(g),g.value=this.parseMethod(!1),g.value.params.length!==("get"===g.kind?0:1)&&(a=g.value.start,"get"===g.kind?this.raise(a,"getter should have no params"):this.raise(a,"setter should have exactly one param"))):6<=this.options.ecmaVersion&&!g.computed&&"Identifier"===g.key.type?(g.kind="init",a?((this.isKeyword(g.key.name)||this.strict&&(r.reservedWords.strictBind(g.key.name)||r.reservedWords.strict(g.key.name))||!this.options.allowReserved&&this.isReservedWord(g.key.name))&&this.raise(g.key.start,"Binding "+g.key.name),g.value=this.parseMaybeDefault(e,b,g.key)):this.type===n.types.eq&&m?(m.start||(m.start=this.start),g.value=this.parseMaybeDefault(e,b,g.key)):g.value=g.key,g.shorthand=!0):this.unexpected()};b.parsePropertyName=function(g){if(6<=this.options.ecmaVersion){if(this.eat(n.types.bracketL))return g.computed=!0,g.key=this.parseMaybeAssign(),this.expect(n.types.bracketR),g.key;g.computed=!1}return g.key=this.type===n.types.num||this.type===n.types.string?this.parseExprAtom():this.parseIdent(!0)};b.initFunction=function(g){g.id=null;6<=this.options.ecmaVersion&&(g.generator=!1,g.expression=!1)};b.parseMethod=function(g){var a=this.startNode();this.initFunction(a);this.expect(n.types.parenL);a.params=this.parseBindingList(n.types.parenR,!1,!1);6<=this.options.ecmaVersion&&(a.generator=g);this.parseFunctionBody(a,!1);return this.finishNode(a,"FunctionExpression")};b.parseArrowExpression=function(g,a){this.initFunction(g);g.params=this.toAssignableList(a,!0);this.parseFunctionBody(g,!0);return this.finishNode(g,"ArrowFunctionExpression")};b.parseFunctionBody=function(g,a){var d=a&&this.type!==n.types.braceL;if(d)g.body=this.parseMaybeAssign(),g.expression=!0;else{var e=this.inFunction,b=this.inGenerator,m=this.labels;this.inFunction=!0;this.inGenerator=g.generator;this.labels=[];g.body=this.parseBlock(!0);g.expression=!1;this.inFunction=e;this.inGenerator=b;this.labels=m}if(this.strict||!d&&g.body.body.length&&this.isUseStrict(g.body.body[0])){d={};e=this.strict;this.strict=!0;g.id&&this.checkLVal(g.id,!0);for(b=0;b<g.params.length;b++)this.checkLVal(g.params[b],!0,d);this.strict=e}};b.parseExprList=function(g,a,d,e){for(var b=[],m=!0;!this.eat(g);){if(m)m=!1;else if(this.expect(n.types.comma),a&&this.afterTrailingComma(g))break;var k=void 0,k=d&&this.type===n.types.comma?null:this.type===n.types.ellipsis?this.parseSpread(e):this.parseMaybeAssign(!1,e);b.push(k)}return b};b.parseIdent=function(g){var a=this.startNode();g&&"never"==this.options.allowReserved&&(g=!1);this.type===n.types.name?(!g&&(!this.options.allowReserved&&this.isReservedWord(this.value)||this.strict&&r.reservedWords.strict(this.value)&&(6<=this.options.ecmaVersion||-1==this.input.slice(this.start,this.end).indexOf("\\")))&&this.raise(this.start,"The keyword '"+this.value+"' is reserved"),a.name=this.value):g&&this.type.keyword?a.name=this.type.keyword:this.unexpected();this.next();return this.finishNode(a,"Identifier")};b.parseYield=function(){var g=this.startNode();this.next();this.type==n.types.semi||this.canInsertSemicolon()||this.type!=n.types.star&&!this.type.startsExpr?(g.delegate=!1,g.argument=null):(g.delegate=this.eat(n.types.star),g.argument=this.parseMaybeAssign());return this.finishNode(g,"YieldExpression")};b.parseComprehension=function(g,a){for(g.blocks=[];this.type===n.types._for;){var d=this.startNode();this.next();this.expect(n.types.parenL);d.left=this.parseBindingAtom();this.checkLVal(d.left,!0);this.expectContextual("of");d.right=this.parseExpression();this.expect(n.types.parenR);g.blocks.push(this.finishNode(d,"ComprehensionBlock"))}g.filter=this.eat(n.types._if)?this.parseParenExpression():null;g.body=this.parseExpression();this.expect(a?n.types.parenR:n.types.bracketR);g.generator=a;return this.finishNode(g,"ComprehensionExpression")}},{"./identifier":2,"./state":10,"./tokentype":14,"./util":15}],2:[function(b,v,u){function n(a){function e(a){if(1==a.length)return g+="return str \x3d\x3d\x3d "+JSON.stringify(a[0])+";";g+="switch(str){";for(var d=0;d<a.length;++d)g+="case "+JSON.stringify(a[d])+":";g+="return true}return false;"}a=a.split(" ");var g="",b=[],m=0;a:for(;m<a.length;++m){for(var k=0;k<b.length;++k)if(b[k][0].length==a[m].length){b[k].push(a[m]);continue a}b.push([a[m]])}if(3<b.length){b.sort(function(a,d){return d.length-a.length});g+="switch(str.length){";for(m=0;m<b.length;++m)a=b[m],g+="case "+a[0].length+":",e(a);g+="}"}else e(a);return new Function("str",g)}function r(a,e){for(var g=65536,b=0;b<e.length;b+=2){g+=e[b];if(g>a)return!1;g+=e[b+1];if(g>=a)return!0}}u.__esModule=!0;u.isIdentifierStart=function(a,e){return 65>a?36===a:91>a?!0:97>a?95===a:123>a?!0:65535>=a?170<=a&&m.test(String.fromCharCode(a)):!1===e?!1:r(a,g)};u.isIdentifierChar=function(d,e){return 48>d?36===d:58>d?!0:65>d?!1:91>d?!0:97>d?95===d:123>d?!0:65535>=d?170<=d&&k.test(String.fromCharCode(d)):!1===e?!1:r(d,g)||r(d,a)};b={3:n("abstract boolean byte char class double enum export extends final float goto implements import int interface long native package private protected public short static super synchronized throws transient volatile"),5:n("class enum extends super const export import"),6:n("enum await"),strict:n("implements interface let package private protected public static yield"),strictBind:n("eval arguments")};u.reservedWords=b;b={5:n("break case catch continue debugger default do else finally for function if return switch throw try var while with null true false instanceof typeof void delete new in this"),6:n("break case catch continue debugger default do else finally for function if return switch throw try var while with null true false instanceof typeof void delete new in this let const class extends export import yield super")};u.keywords=b;u="\u00aa\u00b5\u00ba\u00c0-\u00d6\u00d8-\u00f6\u00f8-\u02c1\u02c6-\u02d1\u02e0-\u02e4\u02ec\u02ee\u0370-\u0374\u0376\u0377\u037a-\u037d\u037f\u0386\u0388-\u038a\u038c\u038e-\u03a1\u03a3-\u03f5\u03f7-\u0481\u048a-\u052f\u0531-\u0556\u0559\u0561-\u0587\u05d0-\u05ea\u05f0-\u05f2\u0620-\u064a\u066e\u066f\u0671-\u06d3\u06d5\u06e5\u06e6\u06ee\u06ef\u06fa-\u06fc\u06ff\u0710\u0712-\u072f\u074d-\u07a5\u07b1\u07ca-\u07ea\u07f4\u07f5\u07fa\u0800-\u0815\u081a\u0824\u0828\u0840-\u0858\u08a0-\u08b2\u0904-\u0939\u093d\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098c\u098f\u0990\u0993-\u09a8\u09aa-\u09b0\u09b2\u09b6-\u09b9\u09bd\u09ce\u09dc\u09dd\u09df-\u09e1\u09f0\u09f1\u0a05-\u0a0a\u0a0f\u0a10\u0a13-\u0a28\u0a2a-\u0a30\u0a32\u0a33\u0a35\u0a36\u0a38\u0a39\u0a59-\u0a5c\u0a5e\u0a72-\u0a74\u0a85-\u0a8d\u0a8f-\u0a91\u0a93-\u0aa8\u0aaa-\u0ab0\u0ab2\u0ab3\u0ab5-\u0ab9\u0abd\u0ad0\u0ae0\u0ae1\u0b05-\u0b0c\u0b0f\u0b10\u0b13-\u0b28\u0b2a-\u0b30\u0b32\u0b33\u0b35-\u0b39\u0b3d\u0b5c\u0b5d\u0b5f-\u0b61\u0b71\u0b83\u0b85-\u0b8a\u0b8e-\u0b90\u0b92-\u0b95\u0b99\u0b9a\u0b9c\u0b9e\u0b9f\u0ba3\u0ba4\u0ba8-\u0baa\u0bae-\u0bb9\u0bd0\u0c05-\u0c0c\u0c0e-\u0c10\u0c12-\u0c28\u0c2a-\u0c39\u0c3d\u0c58\u0c59\u0c60\u0c61\u0c85-\u0c8c\u0c8e-\u0c90\u0c92-\u0ca8\u0caa-\u0cb3\u0cb5-\u0cb9\u0cbd\u0cde\u0ce0\u0ce1\u0cf1\u0cf2\u0d05-\u0d0c\u0d0e-\u0d10\u0d12-\u0d3a\u0d3d\u0d4e\u0d60\u0d61\u0d7a-\u0d7f\u0d85-\u0d96\u0d9a-\u0db1\u0db3-\u0dbb\u0dbd\u0dc0-\u0dc6\u0e01-\u0e30\u0e32\u0e33\u0e40-\u0e46\u0e81\u0e82\u0e84\u0e87\u0e88\u0e8a\u0e8d\u0e94-\u0e97\u0e99-\u0e9f\u0ea1-\u0ea3\u0ea5\u0ea7\u0eaa\u0eab\u0ead-\u0eb0\u0eb2\u0eb3\u0ebd\u0ec0-\u0ec4\u0ec6\u0edc-\u0edf\u0f00\u0f40-\u0f47\u0f49-\u0f6c\u0f88-\u0f8c\u1000-\u102a\u103f\u1050-\u1055\u105a-\u105d\u1061\u1065\u1066\u106e-\u1070\u1075-\u1081\u108e\u10a0-\u10c5\u10c7\u10cd\u10d0-\u10fa\u10fc-\u1248\u124a-\u124d\u1250-\u1256\u1258\u125a-\u125d\u1260-\u1288\u128a-\u128d\u1290-\u12b0\u12b2-\u12b5\u12b8-\u12be\u12c0\u12c2-\u12c5\u12c8-\u12d6\u12d8-\u1310\u1312-\u1315\u1318-\u135a\u1380-\u138f\u13a0-\u13f4\u1401-\u166c\u166f-\u167f\u1681-\u169a\u16a0-\u16ea\u16ee-\u16f8\u1700-\u170c\u170e-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176c\u176e-\u1770\u1780-\u17b3\u17d7\u17dc\u1820-\u1877\u1880-\u18a8\u18aa\u18b0-\u18f5\u1900-\u191e\u1950-\u196d\u1970-\u1974\u1980-\u19ab\u19c1-\u19c7\u1a00-\u1a16\u1a20-\u1a54\u1aa7\u1b05-\u1b33\u1b45-\u1b4b\u1b83-\u1ba0\u1bae\u1baf\u1bba-\u1be5\u1c00-\u1c23\u1c4d-\u1c4f\u1c5a-\u1c7d\u1ce9-\u1cec\u1cee-\u1cf1\u1cf5\u1cf6\u1d00-\u1dbf\u1e00-\u1f15\u1f18-\u1f1d\u1f20-\u1f45\u1f48-\u1f4d\u1f50-\u1f57\u1f59\u1f5b\u1f5d\u1f5f-\u1f7d\u1f80-\u1fb4\u1fb6-\u1fbc\u1fbe\u1fc2-\u1fc4\u1fc6-\u1fcc\u1fd0-\u1fd3\u1fd6-\u1fdb\u1fe0-\u1fec\u1ff2-\u1ff4\u1ff6-\u1ffc\u2071\u207f\u2090-\u209c\u2102\u2107\u210a-\u2113\u2115\u2118-\u211d\u2124\u2126\u2128\u212a-\u2139\u213c-\u213f\u2145-\u2149\u214e\u2160-\u2188\u2c00-\u2c2e\u2c30-\u2c5e\u2c60-\u2ce4\u2ceb-\u2cee\u2cf2\u2cf3\u2d00-\u2d25\u2d27\u2d2d\u2d30-\u2d67\u2d6f\u2d80-\u2d96\u2da0-\u2da6\u2da8-\u2dae\u2db0-\u2db6\u2db8-\u2dbe\u2dc0-\u2dc6\u2dc8-\u2dce\u2dd0-\u2dd6\u2dd8-\u2dde\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303c\u3041-\u3096\u309b-\u309f\u30a1-\u30fa\u30fc-\u30ff\u3105-\u312d\u3131-\u318e\u31a0-\u31ba\u31f0-\u31ff\u3400-\u4db5\u4e00-\u9fcc\ua000-\ua48c\ua4d0-\ua4fd\ua500-\ua60c\ua610-\ua61f\ua62a\ua62b\ua640-\ua66e\ua67f-\ua69d\ua6a0-\ua6ef\ua717-\ua71f\ua722-\ua788\ua78b-\ua78e\ua790-\ua7ad\ua7b0\ua7b1\ua7f7-\ua801\ua803-\ua805\ua807-\ua80a\ua80c-\ua822\ua840-\ua873\ua882-\ua8b3\ua8f2-\ua8f7\ua8fb\ua90a-\ua925\ua930-\ua946\ua960-\ua97c\ua984-\ua9b2\ua9cf\ua9e0-\ua9e4\ua9e6-\ua9ef\ua9fa-\ua9fe\uaa00-\uaa28\uaa40-\uaa42\uaa44-\uaa4b\uaa60-\uaa76\uaa7a\uaa7e-\uaaaf\uaab1\uaab5\uaab6\uaab9-\uaabd\uaac0\uaac2\uaadb-\uaadd\uaae0-\uaaea\uaaf2-\uaaf4\uab01-\uab06\uab09-\uab0e\uab11-\uab16\uab20-\uab26\uab28-\uab2e\uab30-\uab5a\uab5c-\uab5f\uab64\uab65\uabc0-\uabe2\uac00-\ud7a3\ud7b0-\ud7c6\ud7cb-\ud7fb\uf900-\ufa6d\ufa70-\ufad9\ufb00-\ufb06\ufb13-\ufb17\ufb1d\ufb1f-\ufb28\ufb2a-\ufb36\ufb38-\ufb3c\ufb3e\ufb40\ufb41\ufb43\ufb44\ufb46-\ufbb1\ufbd3-\ufd3d\ufd50-\ufd8f\ufd92-\ufdc7\ufdf0-\ufdfb\ufe70-\ufe74\ufe76-\ufefc\uff21-\uff3a\uff41-\uff5a\uff66-\uffbe\uffc2-\uffc7\uffca-\uffcf\uffd2-\uffd7\uffda-\uffdc";var m=new RegExp("["+u+"]"),k=new RegExp("["+u+"\u200c\u200d\u00b7\u0300-\u036f\u0387\u0483-\u0487\u0591-\u05bd\u05bf\u05c1\u05c2\u05c4\u05c5\u05c7\u0610-\u061a\u064b-\u0669\u0670\u06d6-\u06dc\u06df-\u06e4\u06e7\u06e8\u06ea-\u06ed\u06f0-\u06f9\u0711\u0730-\u074a\u07a6-\u07b0\u07c0-\u07c9\u07eb-\u07f3\u0816-\u0819\u081b-\u0823\u0825-\u0827\u0829-\u082d\u0859-\u085b\u08e4-\u0903\u093a-\u093c\u093e-\u094f\u0951-\u0957\u0962\u0963\u0966-\u096f\u0981-\u0983\u09bc\u09be-\u09c4\u09c7\u09c8\u09cb-\u09cd\u09d7\u09e2\u09e3\u09e6-\u09ef\u0a01-\u0a03\u0a3c\u0a3e-\u0a42\u0a47\u0a48\u0a4b-\u0a4d\u0a51\u0a66-\u0a71\u0a75\u0a81-\u0a83\u0abc\u0abe-\u0ac5\u0ac7-\u0ac9\u0acb-\u0acd\u0ae2\u0ae3\u0ae6-\u0aef\u0b01-\u0b03\u0b3c\u0b3e-\u0b44\u0b47\u0b48\u0b4b-\u0b4d\u0b56\u0b57\u0b62\u0b63\u0b66-\u0b6f\u0b82\u0bbe-\u0bc2\u0bc6-\u0bc8\u0bca-\u0bcd\u0bd7\u0be6-\u0bef\u0c00-\u0c03\u0c3e-\u0c44\u0c46-\u0c48\u0c4a-\u0c4d\u0c55\u0c56\u0c62\u0c63\u0c66-\u0c6f\u0c81-\u0c83\u0cbc\u0cbe-\u0cc4\u0cc6-\u0cc8\u0cca-\u0ccd\u0cd5\u0cd6\u0ce2\u0ce3\u0ce6-\u0cef\u0d01-\u0d03\u0d3e-\u0d44\u0d46-\u0d48\u0d4a-\u0d4d\u0d57\u0d62\u0d63\u0d66-\u0d6f\u0d82\u0d83\u0dca\u0dcf-\u0dd4\u0dd6\u0dd8-\u0ddf\u0de6-\u0def\u0df2\u0df3\u0e31\u0e34-\u0e3a\u0e47-\u0e4e\u0e50-\u0e59\u0eb1\u0eb4-\u0eb9\u0ebb\u0ebc\u0ec8-\u0ecd\u0ed0-\u0ed9\u0f18\u0f19\u0f20-\u0f29\u0f35\u0f37\u0f39\u0f3e\u0f3f\u0f71-\u0f84\u0f86\u0f87\u0f8d-\u0f97\u0f99-\u0fbc\u0fc6\u102b-\u103e\u1040-\u1049\u1056-\u1059\u105e-\u1060\u1062-\u1064\u1067-\u106d\u1071-\u1074\u1082-\u108d\u108f-\u109d\u135d-\u135f\u1369-\u1371\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17b4-\u17d3\u17dd\u17e0-\u17e9\u180b-\u180d\u1810-\u1819\u18a9\u1920-\u192b\u1930-\u193b\u1946-\u194f\u19b0-\u19c0\u19c8\u19c9\u19d0-\u19da\u1a17-\u1a1b\u1a55-\u1a5e\u1a60-\u1a7c\u1a7f-\u1a89\u1a90-\u1a99\u1ab0-\u1abd\u1b00-\u1b04\u1b34-\u1b44\u1b50-\u1b59\u1b6b-\u1b73\u1b80-\u1b82\u1ba1-\u1bad\u1bb0-\u1bb9\u1be6-\u1bf3\u1c24-\u1c37\u1c40-\u1c49\u1c50-\u1c59\u1cd0-\u1cd2\u1cd4-\u1ce8\u1ced\u1cf2-\u1cf4\u1cf8\u1cf9\u1dc0-\u1df5\u1dfc-\u1dff\u203f\u2040\u2054\u20d0-\u20dc\u20e1\u20e5-\u20f0\u2cef-\u2cf1\u2d7f\u2de0-\u2dff\u302a-\u302f\u3099\u309a\ua620-\ua629\ua66f\ua674-\ua67d\ua69f\ua6f0\ua6f1\ua802\ua806\ua80b\ua823-\ua827\ua880\ua881\ua8b4-\ua8c4\ua8d0-\ua8d9\ua8e0-\ua8f1\ua900-\ua909\ua926-\ua92d\ua947-\ua953\ua980-\ua983\ua9b3-\ua9c0\ua9d0-\ua9d9\ua9e5\ua9f0-\ua9f9\uaa29-\uaa36\uaa43\uaa4c\uaa4d\uaa50-\uaa59\uaa7b-\uaa7d\uaab0\uaab2-\uaab4\uaab7\uaab8\uaabe\uaabf\uaac1\uaaeb-\uaaef\uaaf5\uaaf6\uabe3-\uabea\uabec\uabed\uabf0-\uabf9\ufb1e\ufe00-\ufe0f\ufe20-\ufe2d\ufe33\ufe34\ufe4d-\ufe4f\uff10-\uff19\uff3f]");u=null;var g=[0,11,2,25,2,18,2,1,2,14,3,13,35,122,70,52,268,28,4,48,48,31,17,26,6,37,11,29,3,35,5,7,2,4,43,157,99,39,9,51,157,310,10,21,11,7,153,5,3,0,2,43,2,1,4,0,3,22,11,22,10,30,98,21,11,25,71,55,7,1,65,0,16,3,2,2,2,26,45,28,4,28,36,7,2,27,28,53,11,21,11,18,14,17,111,72,955,52,76,44,33,24,27,35,42,34,4,0,13,47,15,3,22,0,38,17,2,24,133,46,39,7,3,1,3,21,2,6,2,1,2,4,4,0,32,4,287,47,21,1,2,0,185,46,82,47,21,0,60,42,502,63,32,0,449,56,1288,920,104,110,2962,1070,13266,568,8,30,114,29,19,47,17,3,32,20,6,18,881,68,12,0,67,12,16481,1,3071,106,6,12,4,8,8,9,5991,84,2,70,2,1,3,0,3,1,3,3,2,11,2,0,2,6,2,64,2,3,3,7,2,6,2,27,2,3,2,4,2,0,4,6,2,339,3,24,2,24,2,30,2,24,2,30,2,24,2,30,2,24,2,30,2,24,2,7,4149,196,1340,3,2,26,2,1,2,0,3,0,2,9,2,3,2,0,2,0,7,0,5,0,2,0,2,0,2,2,2,1,2,0,3,0,2,0,2,0,2,0,2,0,2,1,2,0,3,3,2,6,2,3,2,3,2,0,2,9,2,16,6,2,2,4,2,16,4421,42710,42,4148,12,221,16355,541],a=[509,0,227,0,150,4,294,9,1368,2,2,1,6,3,41,2,5,0,166,1,1306,2,54,14,32,9,16,3,46,10,54,9,7,2,37,13,2,9,52,0,13,2,49,13,16,9,83,11,168,11,6,9,8,2,57,0,2,6,3,1,3,2,10,0,11,1,3,6,4,4,316,19,13,9,214,6,3,8,112,16,16,9,82,12,9,9,535,9,20855,9,135,4,60,6,26,9,1016,45,17,3,19723,1,5319,4,4,5,9,7,3,6,31,3,149,2,1418,49,4305,6,792618,239]},{}],3:[function(b,v,u){u.__esModule=!0;u.parse=function(b,m){return(new n.Parser(m,b)).parse()};u.parseExpressionAt=function(b,m,k){b=new n.Parser(k,b,m);b.nextToken();return b.parseExpression()};u.tokenizer=function(b,m){return new n.Parser(m,b)};var n=b("./state");v=b("./options");b("./parseutil");b("./statement");b("./lval");b("./expression");b("./location");u.Parser=n.Parser;u.plugins=n.plugins;u.defaultOptions=v.defaultOptions;v=b("./locutil");u.Position=v.Position;u.SourceLocation=v.SourceLocation;u.getLineInfo=v.getLineInfo;v=b("./node");u.Node=v.Node;v=b("./tokentype");u.TokenType=v.TokenType;u.tokTypes=v.types;v=b("./tokencontext");u.TokContext=v.TokContext;u.tokContexts=v.types;v=b("./identifier");u.isIdentifierChar=v.isIdentifierChar;u.isIdentifierStart=v.isIdentifierStart;v=b("./tokenize");u.Token=v.Token;b=b("./whitespace");u.isNewLine=b.isNewLine;u.lineBreak=b.lineBreak;u.lineBreakG=b.lineBreakG;u.version="2.4.0"},{"./expression":1,"./identifier":2,"./location":4,"./locutil":5,"./lval":6,"./node":7,"./options":8,"./parseutil":9,"./state":10,"./statement":11,"./tokencontext":12,"./tokenize":13,"./tokentype":14,"./whitespace":16}],4:[function(b,v,u){v=b("./state");var n=b("./locutil");b=v.Parser.prototype;b.raise=function(b,m){var k=n.getLineInfo(this.input,b);m+=" ("+k.line+":"+k.column+")";var g=new SyntaxError(m);g.pos=b;g.loc=k;g.raisedAt=this.pos;throw g;};b.curPosition=function(){if(this.options.locations)return new n.Position(this.curLine,this.pos-this.lineStart)}},{"./locutil":5,"./state":10}],5:[function(b,v,u){function n(b,g){if(!(b instanceof g))throw new TypeError("Cannot call a class as a function");}u.__esModule=!0;u.getLineInfo=function(b,g){for(var a=1,d=0;;){r.lineBreakG.lastIndex=d;var e=r.lineBreakG.exec(b);if(e&&e.index<g)++a,d=e.index+e[0].length;else return new m(a,g-d)}};var r=b("./whitespace"),m=function(){function b(g,a){n(this,b);this.line=g;this.column=a}b.prototype.offset=function(g){return new b(this.line,this.column+g)};return b}();u.Position=m;u.SourceLocation=function g(a,d,e){n(this,g);this.start=d;this.end=e;null!==a.sourceFile&&(this.source=a.sourceFile)}},{"./whitespace":16}],6:[function(b,v,u){var n=b("./tokentype");v=b("./state");var r=b("./identifier"),m=b("./util");b=v.Parser.prototype;b.toAssignable=function(b,g){if(6<=this.options.ecmaVersion&&b)switch(b.type){case "Identifier":case "ObjectPattern":case "ArrayPattern":case "AssignmentPattern":break;case "ObjectExpression":b.type="ObjectPattern";for(var a=0;a<b.properties.length;a++){var d=b.properties[a];"init"!==d.kind&&this.raise(d.key.start,"Object pattern can't contain getter or setter");this.toAssignable(d.value,g)}break;case "ArrayExpression":b.type="ArrayPattern";this.toAssignableList(b.elements,g);break;case "AssignmentExpression":"\x3d"===b.operator?(b.type="AssignmentPattern",delete b.operator):this.raise(b.left.end,"Only '\x3d' operator can be used for specifying default value.");break;case "ParenthesizedExpression":b.expression=this.toAssignable(b.expression,g);break;case "MemberExpression":if(!g)break;default:this.raise(b.start,"Assigning to rvalue")}return b};b.toAssignableList=function(b,g){var a=b.length;if(a){var d=b[a-1];d&&"RestElement"==d.type?--a:d&&"SpreadElement"==d.type&&(d.type="RestElement",d=d.argument,this.toAssignable(d,g),"Identifier"!==d.type&&"MemberExpression"!==d.type&&"ArrayPattern"!==d.type&&this.unexpected(d.start),--a)}for(d=0;d<a;d++){var e=b[d];e&&this.toAssignable(e,g)}return b};b.parseSpread=function(b){var g=this.startNode();this.next();g.argument=this.parseMaybeAssign(b);return this.finishNode(g,"SpreadElement")};b.parseRest=function(){var b=this.startNode();this.next();b.argument=this.type===n.types.name||this.type===n.types.bracketL?this.parseBindingAtom():this.unexpected();return this.finishNode(b,"RestElement")};b.parseBindingAtom=function(){if(6>this.options.ecmaVersion)return this.parseIdent();switch(this.type){case n.types.name:return this.parseIdent();case n.types.bracketL:var b=this.startNode();this.next();b.elements=this.parseBindingList(n.types.bracketR,!0,!0);return this.finishNode(b,"ArrayPattern");case n.types.braceL:return this.parseObj(!0);default:this.unexpected()}};b.parseBindingList=function(b,g,a){for(var d=[],e=!0;!this.eat(b);)if(e?e=!1:this.expect(n.types.comma),g&&this.type===n.types.comma)d.push(null);else if(a&&this.afterTrailingComma(b))break;else if(this.type===n.types.ellipsis){g=this.parseRest();this.parseBindingListItem(g);d.push(g);this.expect(b);break}else{var m=this.parseMaybeDefault(this.start,this.startLoc);this.parseBindingListItem(m);d.push(m)}return d};b.parseBindingListItem=function(b){return b};b.parseMaybeDefault=function(b,g,a){a=a||this.parseBindingAtom();if(6>this.options.ecmaVersion||!this.eat(n.types.eq))return a;b=this.startNodeAt(b,g);b.left=a;b.right=this.parseMaybeAssign();return this.finishNode(b,"AssignmentPattern")};b.checkLVal=function(b,g,a){switch(b.type){case "Identifier":this.strict&&(r.reservedWords.strictBind(b.name)||r.reservedWords.strict(b.name))&&this.raise(b.start,(g?"Binding ":"Assigning to ")+b.name+" in strict mode");a&&(m.has(a,b.name)&&this.raise(b.start,"Argument name clash in strict mode"),a[b.name]=!0);break;case "MemberExpression":g&&this.raise(b.start,(g?"Binding":"Assigning to")+" member expression");break;case "ObjectPattern":for(var d=0;d<b.properties.length;d++)this.checkLVal(b.properties[d].value,g,a);break;case "ArrayPattern":for(d=0;d<b.elements.length;d++){var e=b.elements[d];e&&this.checkLVal(e,g,a)}break;case "AssignmentPattern":this.checkLVal(b.left,g,a);break;case "RestElement":this.checkLVal(b.argument,g,a);break;case "ParenthesizedExpression":this.checkLVal(b.expression,g,a);break;default:this.raise(b.start,(g?"Binding":"Assigning to")+" rvalue")}}},{"./identifier":2,"./state":10,"./tokentype":14,"./util":15}],7:[function(b,v,u){function n(b,g,a,d){b.type=g;b.end=a;this.options.locations&&(b.loc.end=d);this.options.ranges&&(b.range[1]=a);return b}u.__esModule=!0;v=b("./state");var r=b("./locutil"),m=function g(a,d,e){if(!(this instanceof g))throw new TypeError("Cannot call a class as a function");this.type="";this.start=d;this.end=0;a.options.locations&&(this.loc=new r.SourceLocation(a,e));a.options.directSourceFile&&(this.sourceFile=a.options.directSourceFile);a.options.ranges&&(this.range=[d,0])};u.Node=m;b=v.Parser.prototype;b.startNode=function(){return new m(this,this.start,this.startLoc)};b.startNodeAt=function(b,a){return new m(this,b,a)};b.finishNode=function(b,a){return n.call(this,b,a,this.lastTokEnd,this.lastTokEndLoc)};b.finishNodeAt=function(b,a,d,e){return n.call(this,b,a,d,e)}},{"./locutil":5,"./state":10}],8:[function(b,v,u){function n(b,a){return function(d,e,k,n,r,u){d={type:d?"Block":"Line",value:e,start:k,end:n};b.locations&&(d.loc=new m.SourceLocation(this,r,u));b.ranges&&(d.range=[k,n]);a.push(d)}}u.__esModule=!0;u.getOptions=function(b){var a={},d;for(d in k)a[d]=b&&r.has(b,d)?b[d]:k[d];r.isArray(a.onToken)&&function(){var d=a.onToken;a.onToken=function(a){return d.push(a)}}();r.isArray(a.onComment)&&(a.onComment=n(a,a.onComment));return a};var r=b("./util"),m=b("./locutil"),k={ecmaVersion:5,sourceType:"script",onInsertedSemicolon:null,onTrailingComma:null,allowReserved:!0,allowReturnOutsideFunction:!1,allowImportExportEverywhere:!1,allowHashBang:!1,locations:!1,onToken:null,onComment:null,ranges:!1,program:null,sourceFile:null,directSourceFile:null,preserveParens:!1,plugins:{}};u.defaultOptions=k},{"./locutil":5,"./util":15}],9:[function(b,v,u){var n=b("./tokentype");v=b("./state");var r=b("./whitespace");b=v.Parser.prototype;b.isUseStrict=function(b){return 5<=this.options.ecmaVersion&&"ExpressionStatement"===b.type&&"Literal"===b.expression.type&&"use strict"===b.expression.raw.slice(1,-1)};b.eat=function(b){return this.type===b?(this.next(),!0):!1};b.isContextual=function(b){return this.type===n.types.name&&this.value===b};b.eatContextual=function(b){return this.value===b&&this.eat(n.types.name)};b.expectContextual=function(b){this.eatContextual(b)||this.unexpected()};b.canInsertSemicolon=function(){return this.type===n.types.eof||this.type===n.types.braceR||r.lineBreak.test(this.input.slice(this.lastTokEnd,this.start))};b.insertSemicolon=function(){if(this.canInsertSemicolon()){if(this.options.onInsertedSemicolon)this.options.onInsertedSemicolon(this.lastTokEnd,this.lastTokEndLoc);return!0}};b.semicolon=function(){this.eat(n.types.semi)||this.insertSemicolon()||this.unexpected()};b.afterTrailingComma=function(b){if(this.type==b){if(this.options.onTrailingComma)this.options.onTrailingComma(this.lastTokStart,this.lastTokStartLoc);this.next();return!0}};b.expect=function(b){this.eat(b)||this.unexpected()};b.unexpected=function(b){this.raise(null!=b?b:this.start,"Unexpected token")}},{"./state":10,"./tokentype":14,"./whitespace":16}],10:[function(b,v,u){u.__esModule=!0;var n=b("./identifier"),r=b("./tokentype"),m=b("./whitespace"),k=b("./options"),g={};u.plugins=g;b=function(){function a(d,e,b){if(!(this instanceof a))throw new TypeError("Cannot call a class as a function");this.options=k.getOptions(d);this.sourceFile=this.options.sourceFile;this.isKeyword=n.keywords[6<=this.options.ecmaVersion?6:5];this.isReservedWord=n.reservedWords[this.options.ecmaVersion];this.input=String(e);this.containsEsc=!1;this.loadPlugins(this.options.plugins);b?(this.pos=b,this.lineStart=Math.max(0,this.input.lastIndexOf("\n",b)),this.curLine=this.input.slice(0,this.lineStart).split(m.lineBreak).length):(this.pos=this.lineStart=0,this.curLine=1);this.type=r.types.eof;this.value=null;this.start=this.end=this.pos;this.startLoc=this.endLoc=this.curPosition();this.lastTokEndLoc=this.lastTokStartLoc=null;this.lastTokStart=this.lastTokEnd=this.pos;this.context=this.initialContext();this.exprAllowed=!0;this.strict=this.inModule="module"===this.options.sourceType;this.potentialArrowAt=-1;this.inFunction=this.inGenerator=!1;this.labels=[];0===this.pos&&this.options.allowHashBang&&"#!"===this.input.slice(0,2)&&this.skipLineComment(2)}a.prototype.extend=function(a,e){this[a]=e(this[a])};a.prototype.loadPlugins=function(a){for(var e in a){var b=g[e];if(!b)throw Error("Plugin '"+e+"' not found");b(this,a[e])}};a.prototype.parse=function(){var a=this.options.program||this.startNode();this.nextToken();return this.parseTopLevel(a)};return a}();u.Parser=b},{"./identifier":2,"./options":8,"./tokentype":14,"./whitespace":16}],11:[function(b,v,u){var n=b("./tokentype");v=b("./state");var r=b("./whitespace");b=v.Parser.prototype;b.parseTopLevel=function(a){var d=!0;a.body||(a.body=[]);for(;this.type!==n.types.eof;){var e=this.parseStatement(!0,!0);a.body.push(e);d&&(this.isUseStrict(e)&&this.setStrict(!0),d=!1)}this.next();6<=this.options.ecmaVersion&&(a.sourceType=this.options.sourceType);return this.finishNode(a,"Program")};var m={kind:"loop"},k={kind:"switch"};b.parseStatement=function(a,d){var e=this.type,b=this.startNode();switch(e){case n.types._break:case n.types._continue:return this.parseBreakContinueStatement(b,e.keyword);case n.types._debugger:return this.parseDebuggerStatement(b);case n.types._do:return this.parseDoStatement(b);case n.types._for:return this.parseForStatement(b);case n.types._function:return!a&&6<=this.options.ecmaVersion&&this.unexpected(),this.parseFunctionStatement(b);case n.types._class:return a||this.unexpected(),this.parseClass(b,!0);case n.types._if:return this.parseIfStatement(b);case n.types._return:return this.parseReturnStatement(b);case n.types._switch:return this.parseSwitchStatement(b);case n.types._throw:return this.parseThrowStatement(b);case n.types._try:return this.parseTryStatement(b);case n.types._let:case n.types._const:a||this.unexpected();case n.types._var:return this.parseVarStatement(b,e);case n.types._while:return this.parseWhileStatement(b);case n.types._with:return this.parseWithStatement(b);case n.types.braceL:return this.parseBlock();case n.types.semi:return this.parseEmptyStatement(b);case n.types._export:case n.types._import:return this.options.allowImportExportEverywhere||(d||this.raise(this.start,"'import' and 'export' may only appear at the top level"),this.inModule||this.raise(this.start,"'import' and 'export' may appear only with 'sourceType: module'")),e===n.types._import?this.parseImport(b):this.parseExport(b);default:var g=this.value,m=this.parseExpression();return e===n.types.name&&"Identifier"===m.type&&this.eat(n.types.colon)?this.parseLabeledStatement(b,g,m):this.parseExpressionStatement(b,m)}};b.parseBreakContinueStatement=function(a,d){var e="break"==d;this.next();this.eat(n.types.semi)||this.insertSemicolon()?a.label=null:this.type!==n.types.name?this.unexpected():(a.label=this.parseIdent(),this.semicolon());for(var b=0;b<this.labels.length;++b){var g=this.labels[b];if(null==a.label||g.name===a.label.name){if(null!=g.kind&&(e||"loop"===g.kind))break;if(a.label&&e)break}}b===this.labels.length&&this.raise(a.start,"Unsyntactic "+d);return this.finishNode(a,e?"BreakStatement":"ContinueStatement")};b.parseDebuggerStatement=function(a){this.next();this.semicolon();return this.finishNode(a,"DebuggerStatement")};b.parseDoStatement=function(a){this.next();this.labels.push(m);a.body=this.parseStatement(!1);this.labels.pop();this.expect(n.types._while);a.test=this.parseParenExpression();6<=this.options.ecmaVersion?this.eat(n.types.semi):this.semicolon();return this.finishNode(a,"DoWhileStatement")};b.parseForStatement=function(a){this.next();this.labels.push(m);this.expect(n.types.parenL);if(this.type===n.types.semi)return this.parseFor(a,null);if(this.type===n.types._var||this.type===n.types._let||this.type===n.types._const){var d=this.startNode(),e=this.type;this.next();this.parseVar(d,!0,e);this.finishNode(d,"VariableDeclaration");return!(this.type===n.types._in||6<=this.options.ecmaVersion&&this.isContextual("of"))||1!==d.declarations.length||e!==n.types._var&&d.declarations[0].init?this.parseFor(a,d):this.parseForIn(a,d)}d={start:0};e=this.parseExpression(!0,d);if(this.type===n.types._in||6<=this.options.ecmaVersion&&this.isContextual("of"))return this.toAssignable(e),this.checkLVal(e),this.parseForIn(a,e);d.start&&this.unexpected(d.start);return this.parseFor(a,e)};b.parseFunctionStatement=function(a){this.next();return this.parseFunction(a,!0)};b.parseIfStatement=function(a){this.next();a.test=this.parseParenExpression();a.consequent=this.parseStatement(!1);a.alternate=this.eat(n.types._else)?this.parseStatement(!1):null;return this.finishNode(a,"IfStatement")};b.parseReturnStatement=function(a){this.inFunction||this.options.allowReturnOutsideFunction||this.raise(this.start,"'return' outside of function");this.next();this.eat(n.types.semi)||this.insertSemicolon()?a.argument=null:(a.argument=this.parseExpression(),this.semicolon());return this.finishNode(a,"ReturnStatement")};b.parseSwitchStatement=function(a){this.next();a.discriminant=this.parseParenExpression();a.cases=[];this.expect(n.types.braceL);this.labels.push(k);for(var d,e=!1;this.type!=n.types.braceR;)if(this.type===n.types._case||this.type===n.types._default){var b=this.type===n.types._case;d&&this.finishNode(d,"SwitchCase");a.cases.push(d=this.startNode());d.consequent=[];this.next();b?d.test=this.parseExpression():(e&&this.raise(this.lastTokStart,"Multiple default clauses"),e=!0,d.test=null);this.expect(n.types.colon)}else d||this.unexpected(),d.consequent.push(this.parseStatement(!0));d&&this.finishNode(d,"SwitchCase");this.next();this.labels.pop();return this.finishNode(a,"SwitchStatement")};b.parseThrowStatement=function(a){this.next();r.lineBreak.test(this.input.slice(this.lastTokEnd,this.start))&&this.raise(this.lastTokEnd,"Illegal newline after throw");a.argument=this.parseExpression();this.semicolon();return this.finishNode(a,"ThrowStatement")};var g=[];b.parseTryStatement=function(a){this.next();a.block=this.parseBlock();a.handler=null;if(this.type===n.types._catch){var d=this.startNode();this.next();this.expect(n.types.parenL);d.param=this.parseBindingAtom();this.checkLVal(d.param,!0);this.expect(n.types.parenR);d.guard=null;d.body=this.parseBlock();a.handler=this.finishNode(d,"CatchClause")}a.guardedHandlers=g;a.finalizer=this.eat(n.types._finally)?this.parseBlock():null;a.handler||a.finalizer||this.raise(a.start,"Missing catch or finally clause");return this.finishNode(a,"TryStatement")};b.parseVarStatement=function(a,d){this.next();this.parseVar(a,!1,d);this.semicolon();return this.finishNode(a,"VariableDeclaration")};b.parseWhileStatement=function(a){this.next();a.test=this.parseParenExpression();this.labels.push(m);a.body=this.parseStatement(!1);this.labels.pop();return this.finishNode(a,"WhileStatement")};b.parseWithStatement=function(a){this.strict&&this.raise(this.start,"'with' in strict mode");this.next();a.object=this.parseParenExpression();a.body=this.parseStatement(!1);return this.finishNode(a,"WithStatement")};b.parseEmptyStatement=function(a){this.next();return this.finishNode(a,"EmptyStatement")};b.parseLabeledStatement=function(a,d,e){for(var b=0;b<this.labels.length;++b)this.labels[b].name===d&&this.raise(e.start,"Label '"+d+"' is already declared");for(var g=this.type.isLoop?"loop":this.type===n.types._switch?"switch":null,b=this.labels.length-1;0<=b;b--){var m=this.labels[b];if(m.statementStart==a.start)m.statementStart=this.start,m.kind=g;else break}this.labels.push({name:d,kind:g,statementStart:this.start});a.body=this.parseStatement(!0);this.labels.pop();a.label=e;return this.finishNode(a,"LabeledStatement")};b.parseExpressionStatement=function(a,d){a.expression=d;this.semicolon();return this.finishNode(a,"ExpressionStatement")};b.parseBlock=function(a){var d=this.startNode(),e=!0,b=void 0;d.body=[];for(this.expect(n.types.braceL);!this.eat(n.types.braceR);){var g=this.parseStatement(!0);d.body.push(g);e&&a&&this.isUseStrict(g)&&(b=this.strict,this.setStrict(this.strict=!0));e=!1}!1===b&&this.setStrict(!1);return this.finishNode(d,"BlockStatement")};b.parseFor=function(a,d){a.init=d;this.expect(n.types.semi);a.test=this.type===n.types.semi?null:this.parseExpression();this.expect(n.types.semi);a.update=this.type===n.types.parenR?null:this.parseExpression();this.expect(n.types.parenR);a.body=this.parseStatement(!1);this.labels.pop();return this.finishNode(a,"ForStatement")};b.parseForIn=function(a,d){var e=this.type===n.types._in?"ForInStatement":"ForOfStatement";this.next();a.left=d;a.right=this.parseExpression();this.expect(n.types.parenR);a.body=this.parseStatement(!1);this.labels.pop();return this.finishNode(a,e)};b.parseVar=function(a,d,e){a.declarations=[];for(a.kind=e.keyword;;){var b=this.startNode();this.parseVarId(b);this.eat(n.types.eq)?b.init=this.parseMaybeAssign(d):e!==n.types._const||this.type===n.types._in||6<=this.options.ecmaVersion&&this.isContextual("of")?"Identifier"==b.id.type||d&&(this.type===n.types._in||this.isContextual("of"))?b.init=null:this.raise(this.lastTokEnd,"Complex binding patterns require an initialization value"):this.unexpected();a.declarations.push(this.finishNode(b,"VariableDeclarator"));if(!this.eat(n.types.comma))break}return a};b.parseVarId=function(a){a.id=this.parseBindingAtom();this.checkLVal(a.id,!0)};b.parseFunction=function(a,d,e){this.initFunction(a);6<=this.options.ecmaVersion&&(a.generator=this.eat(n.types.star));if(d||this.type===n.types.name)a.id=this.parseIdent();this.parseFunctionParams(a);this.parseFunctionBody(a,e);return this.finishNode(a,d?"FunctionDeclaration":"FunctionExpression")};b.parseFunctionParams=function(a){this.expect(n.types.parenL);a.params=this.parseBindingList(n.types.parenR,!1,!1)};b.parseClass=function(a,d){this.next();this.parseClassId(a,d);this.parseClassSuper(a);var e=this.startNode(),b=!1;e.body=[];for(this.expect(n.types.braceL);!this.eat(n.types.braceR);)if(!this.eat(n.types.semi)){var g=this.startNode(),m=this.eat(n.types.star),k=this.type===n.types.name&&"static"===this.value;this.parsePropertyName(g);g["static"]=k&&this.type!==n.types.parenL;g["static"]&&(m&&this.unexpected(),m=this.eat(n.types.star),this.parsePropertyName(g));g.kind="method";k=!1;if(!g.computed){var r=g.key;m||"Identifier"!==r.type||this.type===n.types.parenL||"get"!==r.name&&"set"!==r.name||(k=!0,g.kind=r.name,r=this.parsePropertyName(g));!g["static"]&&("Identifier"===r.type&&"constructor"===r.name||"Literal"===r.type&&"constructor"===r.value)&&(b&&this.raise(r.start,"Duplicate constructor in the same class"),k&&this.raise(r.start,"Constructor can't have get/set modifier"),m&&this.raise(r.start,"Constructor can't be a generator"),g.kind="constructor",b=!0)}this.parseClassMethod(e,g,m);k&&g.value.params.length!==("get"===g.kind?0:1)&&(m=g.value.start,"get"===g.kind?this.raise(m,"getter should have no params"):this.raise(m,"setter should have exactly one param"))}a.body=this.finishNode(e,"ClassBody");return this.finishNode(a,d?"ClassDeclaration":"ClassExpression")};b.parseClassMethod=function(a,d,e){d.value=this.parseMethod(e);a.body.push(this.finishNode(d,"MethodDefinition"))};b.parseClassId=function(a,d){a.id=this.type===n.types.name?this.parseIdent():d?this.unexpected():null};b.parseClassSuper=function(a){a.superClass=this.eat(n.types._extends)?this.parseExprSubscripts():null};b.parseExport=function(a){this.next();if(this.eat(n.types.star))return this.expectContextual("from"),a.source=this.type===n.types.string?this.parseExprAtom():this.unexpected(),this.semicolon(),this.finishNode(a,"ExportAllDeclaration");if(this.eat(n.types._default)){var d=this.parseMaybeAssign(),e=!0;if("FunctionExpression"==d.type||"ClassExpression"==d.type)e=!1,d.id&&(d.type="FunctionExpression"==d.type?"FunctionDeclaration":"ClassDeclaration");a.declaration=d;e&&this.semicolon();return this.finishNode(a,"ExportDefaultDeclaration")}this.shouldParseExportStatement()?(a.declaration=this.parseStatement(!0),a.specifiers=[],a.source=null):(a.declaration=null,a.specifiers=this.parseExportSpecifiers(),this.eatContextual("from")?a.source=this.type===n.types.string?this.parseExprAtom():this.unexpected():a.source=null,this.semicolon());return this.finishNode(a,"ExportNamedDeclaration")};b.shouldParseExportStatement=function(){return this.type.keyword};b.parseExportSpecifiers=function(){var a=[],d=!0;for(this.expect(n.types.braceL);!this.eat(n.types.braceR);){if(d)d=!1;else if(this.expect(n.types.comma),this.afterTrailingComma(n.types.braceR))break;var e=this.startNode();e.local=this.parseIdent(this.type===n.types._default);e.exported=this.eatContextual("as")?this.parseIdent(!0):e.local;a.push(this.finishNode(e,"ExportSpecifier"))}return a};b.parseImport=function(a){this.next();this.type===n.types.string?(a.specifiers=g,a.source=this.parseExprAtom()):(a.specifiers=this.parseImportSpecifiers(),this.expectContextual("from"),a.source=this.type===n.types.string?this.parseExprAtom():this.unexpected());this.semicolon();return this.finishNode(a,"ImportDeclaration")};b.parseImportSpecifiers=function(){var a=[],d=!0;if(this.type===n.types.name){var e=this.startNode();e.local=this.parseIdent();this.checkLVal(e.local,!0);a.push(this.finishNode(e,"ImportDefaultSpecifier"));if(!this.eat(n.types.comma))return a}if(this.type===n.types.star)return e=this.startNode(),this.next(),this.expectContextual("as"),e.local=this.parseIdent(),this.checkLVal(e.local,!0),a.push(this.finishNode(e,"ImportNamespaceSpecifier")),a;for(this.expect(n.types.braceL);!this.eat(n.types.braceR);){if(d)d=!1;else if(this.expect(n.types.comma),this.afterTrailingComma(n.types.braceR))break;e=this.startNode();e.imported=this.parseIdent(!0);e.local=this.eatContextual("as")?this.parseIdent():e.imported;this.checkLVal(e.local,!0);a.push(this.finishNode(e,"ImportSpecifier"))}return a}},{"./state":10,"./tokentype":14,"./whitespace":16}],12:[function(b,v,u){u.__esModule=!0;v=b("./state");var n=b("./tokentype"),r=b("./whitespace");b=function g(a,d,e,b){if(!(this instanceof g))throw new TypeError("Cannot call a class as a function");this.token=a;this.isExpr=!!d;this.preserveSpace=!!e;this.override=b};u.TokContext=b;var m={b_stat:new b("{",!1),b_expr:new b("{",!0),b_tmpl:new b("${",!0),p_stat:new b("(",!1),p_expr:new b("(",!0),q_tmpl:new b("`",!0,!0,function(b){return b.readTmplToken()}),f_expr:new b("function",!0)};u.types=m;u=v.Parser.prototype;u.initialContext=function(){return[m.b_stat]};u.braceIsBlock=function(b){if(b===n.types.colon){var a=this.curContext();if(a===m.b_stat||a===m.b_expr)return!a.isExpr}return b===n.types._return?r.lineBreak.test(this.input.slice(this.lastTokEnd,this.start)):b===n.types._else||b===n.types.semi||b===n.types.eof||b===n.types.parenR?!0:b==n.types.braceL?this.curContext()===m.b_stat:!this.exprAllowed};u.updateContext=function(b){var a=void 0,d=this.type;d.keyword&&b==n.types.dot?this.exprAllowed=!1:(a=d.updateContext)?a.call(this,b):this.exprAllowed=d.beforeExpr};n.types.parenR.updateContext=n.types.braceR.updateContext=function(){if(1==this.context.length)this.exprAllowed=!0;else{var b=this.context.pop();b===m.b_stat&&this.curContext()===m.f_expr?(this.context.pop(),this.exprAllowed=!1):this.exprAllowed=b===m.b_tmpl?!0:!b.isExpr}};n.types.braceL.updateContext=function(b){this.context.push(this.braceIsBlock(b)?m.b_stat:m.b_expr);this.exprAllowed=!0};n.types.dollarBraceL.updateContext=function(){this.context.push(m.b_tmpl);this.exprAllowed=!0};n.types.parenL.updateContext=function(b){this.context.push(b===n.types._if||b===n.types._for||b===n.types._with||b===n.types._while?m.p_stat:m.p_expr);this.exprAllowed=!0};n.types.incDec.updateContext=function(){};n.types._function.updateContext=function(){this.curContext()!==m.b_stat&&this.context.push(m.f_expr);this.exprAllowed=!1};n.types.backQuote.updateContext=function(){this.curContext()===m.q_tmpl?this.context.pop():this.context.push(m.q_tmpl);this.exprAllowed=!1}},{"./state":10,"./tokentype":14,"./whitespace":16}],13:[function(b,v,u){function n(a,d,e){try{return new RegExp(a,d)}catch(b){void 0!==e&&(b instanceof SyntaxError&&this.raise(e,"Error parsing regular expression: "+b.message),this.raise(b))}}function r(a){if(65535>=a)return String.fromCharCode(a);a-=65536;return String.fromCharCode((a>>10)+55296,(a&1023)+56320)}u.__esModule=!0;var m=b("./identifier"),k=b("./tokentype");v=b("./state");var g=b("./locutil"),a=b("./whitespace"),d=function G(a){if(!(this instanceof G))throw new TypeError("Cannot call a class as a function");this.type=a.type;this.value=a.value;this.start=a.start;this.end=a.end;a.options.locations&&(this.loc=new g.SourceLocation(a,a.startLoc,a.endLoc));a.options.ranges&&(this.range=[a.start,a.end])};u.Token=d;b=v.Parser.prototype;var e="object"==typeof Packages&&"[object JavaPackage]"==Object.prototype.toString.call(Packages);b.next=function(){if(this.options.onToken)this.options.onToken(new d(this));this.lastTokEnd=this.end;this.lastTokStart=this.start;this.lastTokEndLoc=this.endLoc;this.lastTokStartLoc=this.startLoc;this.nextToken()};b.getToken=function(){this.next();return new d(this)};"undefined"!==typeof Symbol&&(b[Symbol.iterator]=function(){var a=this;return{next:function(){var d=a.getToken();return{done:d.type===k.types.eof,value:d}}}});b.setStrict=function(a){this.strict=a;if(this.type===k.types.num||this.type===k.types.string){this.pos=this.start;if(this.options.locations)for(;this.pos<this.lineStart;)this.lineStart=this.input.lastIndexOf("\n",this.lineStart-2)+1,--this.curLine;this.nextToken()}};b.curContext=function(){return this.context[this.context.length-1]};b.nextToken=function(){var a=this.curContext();a&&a.preserveSpace||this.skipSpace();this.start=this.pos;this.options.locations&&(this.startLoc=this.curPosition());if(this.pos>=this.input.length)return this.finishToken(k.types.eof);if(a.override)return a.override(this);this.readToken(this.fullCharCodeAtPos())};b.readToken=function(a){return m.isIdentifierStart(a,6<=this.options.ecmaVersion)||92===a?this.readWord():this.getTokenFromCode(a)};b.fullCharCodeAtPos=function(){var a=this.input.charCodeAt(this.pos);if(55295>=a||57344<=a)return a;var d=this.input.charCodeAt(this.pos+1);return(a<<10)+d-56613888};b.skipBlockComment=function(){var d=this.options.onComment&&this.curPosition(),e=this.pos,b=this.input.indexOf("*/",this.pos+=2);-1===b&&this.raise(this.pos-2,"Unterminated comment");this.pos=b+2;if(this.options.locations){a.lineBreakG.lastIndex=e;for(var g=void 0;(g=a.lineBreakG.exec(this.input))&&g.index<this.pos;)++this.curLine,this.lineStart=g.index+g[0].length}if(this.options.onComment)this.options.onComment(!0,this.input.slice(e+2,b),e,this.pos,d,this.curPosition())};b.skipLineComment=function(a){for(var d=this.pos,e=this.options.onComment&&this.curPosition(),b=this.input.charCodeAt(this.pos+=a);this.pos<this.input.length&&10!==b&&13!==b&&8232!==b&&8233!==b;)++this.pos,b=this.input.charCodeAt(this.pos);if(this.options.onComment)this.options.onComment(!1,this.input.slice(d+a,this.pos),d,this.pos,e,this.curPosition())};b.skipSpace=function(){a:for(;this.pos<this.input.length;){var d=this.input.charCodeAt(this.pos);switch(d){case 32:case 160:++this.pos;break;case 13:10===this.input.charCodeAt(this.pos+1)&&++this.pos;case 10:case 8232:case 8233:++this.pos;this.options.locations&&(++this.curLine,this.lineStart=this.pos);break;case 47:switch(this.input.charCodeAt(this.pos+1)){case 42:this.skipBlockComment();break;case 47:this.skipLineComment(2);break;default:break a}break;default:if(8<d&&14>d||5760<=d&&a.nonASCIIwhitespace.test(String.fromCharCode(d)))++this.pos;else break a}}};b.finishToken=function(a,d){this.end=this.pos;this.options.locations&&(this.endLoc=this.curPosition());var e=this.type;this.type=a;this.value=d;this.updateContext(e)};b.readToken_dot=function(){var a=this.input.charCodeAt(this.pos+1);if(48<=a&&57>=a)return this.readNumber(!0);var d=this.input.charCodeAt(this.pos+2);if(6<=this.options.ecmaVersion&&46===a&&46===d)return this.pos+=3,this.finishToken(k.types.ellipsis);++this.pos;return this.finishToken(k.types.dot)};b.readToken_slash=function(){var a=this.input.charCodeAt(this.pos+1);return this.exprAllowed?(++this.pos,this.readRegexp()):61===a?this.finishOp(k.types.assign,2):this.finishOp(k.types.slash,1)};b.readToken_mult_modulo=function(a){return 61===this.input.charCodeAt(this.pos+1)?this.finishOp(k.types.assign,2):this.finishOp(42===a?k.types.star:k.types.modulo,1)};b.readToken_pipe_amp=function(a){var d=this.input.charCodeAt(this.pos+1);return d===a?this.finishOp(124===a?k.types.logicalOR:k.types.logicalAND,2):61===d?this.finishOp(k.types.assign,2):this.finishOp(124===a?k.types.bitwiseOR:k.types.bitwiseAND,1)};b.readToken_caret=function(){return 61===this.input.charCodeAt(this.pos+1)?this.finishOp(k.types.assign,2):this.finishOp(k.types.bitwiseXOR,1)};b.readToken_plus_min=function(d){var e=this.input.charCodeAt(this.pos+1);return e===d?45==e&&62==this.input.charCodeAt(this.pos+2)&&a.lineBreak.test(this.input.slice(this.lastTokEnd,this.pos))?(this.skipLineComment(3),this.skipSpace(),this.nextToken()):this.finishOp(k.types.incDec,2):61===e?this.finishOp(k.types.assign,2):this.finishOp(k.types.plusMin,1)};b.readToken_lt_gt=function(a){var d=this.input.charCodeAt(this.pos+1),e=1;if(d===a)return e=62===a&&62===this.input.charCodeAt(this.pos+2)?3:2,61===this.input.charCodeAt(this.pos+e)?this.finishOp(k.types.assign,e+1):this.finishOp(k.types.bitShift,e);if(33==d&&60==a&&45==this.input.charCodeAt(this.pos+2)&&45==this.input.charCodeAt(this.pos+3))return this.inModule&&this.unexpected(),this.skipLineComment(4),this.skipSpace(),this.nextToken();61===d&&(e=61===this.input.charCodeAt(this.pos+2)?3:2);return this.finishOp(k.types.relational,e)};b.readToken_eq_excl=function(a){var d=this.input.charCodeAt(this.pos+1);return 61===d?this.finishOp(k.types.equality,61===this.input.charCodeAt(this.pos+2)?3:2):61===a&&62===d&&6<=this.options.ecmaVersion?(this.pos+=2,this.finishToken(k.types.arrow)):this.finishOp(61===a?k.types.eq:k.types.prefix,1)};b.getTokenFromCode=function(a){switch(a){case 46:return this.readToken_dot();case 40:return++this.pos,this.finishToken(k.types.parenL);case 41:return++this.pos,this.finishToken(k.types.parenR);case 59:return++this.pos,this.finishToken(k.types.semi);case 44:return++this.pos,this.finishToken(k.types.comma);case 91:return++this.pos,this.finishToken(k.types.bracketL);case 93:return++this.pos,this.finishToken(k.types.bracketR);case 123:return++this.pos,this.finishToken(k.types.braceL);case 125:return++this.pos,this.finishToken(k.types.braceR);case 58:return++this.pos,this.finishToken(k.types.colon);case 63:return++this.pos,this.finishToken(k.types.question);case 96:if(6>this.options.ecmaVersion)break;++this.pos;return this.finishToken(k.types.backQuote);case 48:a=this.input.charCodeAt(this.pos+1);if(120===a||88===a)return this.readRadixNumber(16);if(6<=this.options.ecmaVersion){if(111===a||79===a)return this.readRadixNumber(8);if(98===a||66===a)return this.readRadixNumber(2)}case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:return this.readNumber(!1);case 34:case 39:return this.readString(a);case 47:return this.readToken_slash();case 37:case 42:return this.readToken_mult_modulo(a);case 124:case 38:return this.readToken_pipe_amp(a);case 94:return this.readToken_caret();case 43:case 45:return this.readToken_plus_min(a);case 60:case 62:return this.readToken_lt_gt(a);case 61:case 33:return this.readToken_eq_excl(a);case 126:return this.finishOp(k.types.prefix,1)}this.raise(this.pos,"Unexpected character '"+r(a)+"'")};b.finishOp=function(a,d){var e=this.input.slice(this.pos,this.pos+d);this.pos+=d;return this.finishToken(a,e)};var B=!!n("\uffff","u");b.readRegexp=function(){for(var d=this,b=void 0,g=void 0,m=this.pos;;){this.pos>=this.input.length&&this.raise(m,"Unterminated regular expression");var r=this.input.charAt(this.pos);a.lineBreak.test(r)&&this.raise(m,"Unterminated regular expression");if(b)b=!1;else{if("["===r)g=!0;else if("]"===r&&g)g=!1;else if("/"===r&&!g)break;b="\\"===r}++this.pos}b=this.input.slice(m,this.pos);++this.pos;g=this.readWord1();r=b;if(g){var u=/^[gmsiy]*$/;6<=this.options.ecmaVersion&&(u=/^[gmsiyu]*$/);u.test(g)||this.raise(m,"Invalid regular expression flag");0<=g.indexOf("u")&&!B&&(r=r.replace(/\\u\{([0-9a-fA-F]+)\}/g,function(a,e,b){e=Number("0x"+e);1114111<e&&d.raise(m+b+3,"Code point out of bounds");return"x"}),r=r.replace(/\\u([a-fA-F0-9]{4})|[\uD800-\uDBFF][\uDC00-\uDFFF]/g,"x"))}u=null;e||(n(r,void 0,m),u=n(b,g));return this.finishToken(k.types.regexp,{pattern:b,flags:g,value:u})};b.readInt=function(a,d){for(var e=this.pos,b=0,g=0,m=null==d?Infinity:d;g<m;++g){var k=this.input.charCodeAt(this.pos),n=void 0,n=97<=k?k-97+10:65<=k?k-65+10:48<=k&&57>=k?k-48:Infinity;if(n>=a)break;++this.pos;b=b*a+n}return this.pos===e||null!=d&&this.pos-e!==d?null:b};b.readRadixNumber=function(a){this.pos+=2;var d=this.readInt(a);null==d&&this.raise(this.start+2,"Expected number in radix "+a);m.isIdentifierStart(this.fullCharCodeAtPos())&&this.raise(this.pos,"Identifier directly after number");return this.finishToken(k.types.num,d)};b.readNumber=function(a){var d=this.pos,e=!1,b=48===this.input.charCodeAt(this.pos);a||null!==this.readInt(10)||this.raise(d,"Invalid number");a=this.input.charCodeAt(this.pos);46===a&&(++this.pos,this.readInt(10),e=!0,a=this.input.charCodeAt(this.pos));if(69===a||101===a)a=this.input.charCodeAt(++this.pos),43!==a&&45!==a||++this.pos,null===this.readInt(10)&&this.raise(d,"Invalid number"),e=!0;m.isIdentifierStart(this.fullCharCodeAtPos())&&this.raise(this.pos,"Identifier directly after number");a=this.input.slice(d,this.pos);var g=void 0;e?g=parseFloat(a):b&&1!==a.length?/[89]/.test(a)||this.strict?this.raise(d,"Invalid number"):g=parseInt(a,8):g=parseInt(a,10);return this.finishToken(k.types.num,g)};b.readCodePoint=function(){var a=void 0;if(123===this.input.charCodeAt(this.pos)){6>this.options.ecmaVersion&&this.unexpected();var d=++this.pos,a=this.readHexChar(this.input.indexOf("}",this.pos)-this.pos);++this.pos;1114111<a&&this.raise(d,"Code point out of bounds")}else a=this.readHexChar(4);return a};b.readString=function(d){for(var e="",b=++this.pos;;){this.pos>=this.input.length&&this.raise(this.start,"Unterminated string constant");var g=this.input.charCodeAt(this.pos);if(g===d)break;92===g?(e+=this.input.slice(b,this.pos),e+=this.readEscapedChar(!1),b=this.pos):(a.isNewLine(g)&&this.raise(this.start,"Unterminated string constant"),++this.pos)}e+=this.input.slice(b,this.pos++);return this.finishToken(k.types.string,e)};b.readTmplToken=function(){for(var d="",e=this.pos;;){this.pos>=this.input.length&&this.raise(this.start,"Unterminated template");var b=this.input.charCodeAt(this.pos);if(96===b||36===b&&123===this.input.charCodeAt(this.pos+1)){if(this.pos===this.start&&this.type===k.types.template){if(36===b)return this.pos+=2,this.finishToken(k.types.dollarBraceL);++this.pos;return this.finishToken(k.types.backQuote)}d+=this.input.slice(e,this.pos);return this.finishToken(k.types.template,d)}if(92===b)d+=this.input.slice(e,this.pos),d+=this.readEscapedChar(!0),e=this.pos;else if(a.isNewLine(b)){d+=this.input.slice(e,this.pos);++this.pos;switch(b){case 13:10===this.input.charCodeAt(this.pos)&&++this.pos;case 10:d+="\n";break;default:d+=String.fromCharCode(b)}this.options.locations&&(++this.curLine,this.lineStart=this.pos);e=this.pos}else++this.pos}};b.readEscapedChar=function(a){var d=this.input.charCodeAt(++this.pos);++this.pos;switch(d){case 110:return"\n";case 114:return"\r";case 120:return String.fromCharCode(this.readHexChar(2));case 117:return r(this.readCodePoint());case 116:return"\t";case 98:return"\b";case 118:return"\x0B";case 102:return"\f";case 13:10===this.input.charCodeAt(this.pos)&&++this.pos;case 10:return this.options.locations&&(this.lineStart=this.pos,++this.curLine),"";default:if(48<=d&&55>=d){var d=this.input.substr(this.pos-1,3).match(/^[0-7]+/)[0],e=parseInt(d,8);255<e&&(d=d.slice(0,-1),e=parseInt(d,8));0<e&&(this.strict||a)&&this.raise(this.pos-2,"Octal literal in strict mode");this.pos+=d.length-1;return String.fromCharCode(e)}return String.fromCharCode(d)}};b.readHexChar=function(a){var d=this.pos;a=this.readInt(16,a);null===a&&this.raise(d,"Bad character escape sequence");return a};b.readWord1=function(){this.containsEsc=!1;for(var a="",d=!0,e=this.pos,b=6<=this.options.ecmaVersion;this.pos<this.input.length;){var g=this.fullCharCodeAtPos();if(m.isIdentifierChar(g,b))this.pos+=65535>=g?1:2;else if(92===g)this.containsEsc=!0,a+=this.input.slice(e,this.pos),e=this.pos,117!=this.input.charCodeAt(++this.pos)&&this.raise(this.pos,"Expecting Unicode escape sequence \\uXXXX"),++this.pos,g=this.readCodePoint(),(d?m.isIdentifierStart:m.isIdentifierChar)(g,b)||this.raise(e,"Invalid Unicode escape"),a+=r(g),e=this.pos;else break;d=!1}return a+this.input.slice(e,this.pos)};b.readWord=function(){var a=this.readWord1(),d=k.types.name;(6<=this.options.ecmaVersion||!this.containsEsc)&&this.isKeyword(a)&&(d=k.keywords[a]);return this.finishToken(d,a)}},{"./identifier":2,"./locutil":5,"./state":10,"./tokentype":14,"./whitespace":16}],14:[function(b,v,u){function n(a,d){return new m(a,{beforeExpr:!0,binop:d})}function r(a){var d=1>=arguments.length||void 0===arguments[1]?{}:arguments[1];d.keyword=a;g[a]=k["_"+a]=new m(a,d)}u.__esModule=!0;var m=function d(e){var b=1>=arguments.length||void 0===arguments[1]?{}:arguments[1];if(!(this instanceof d))throw new TypeError("Cannot call a class as a function");this.label=e;this.keyword=b.keyword;this.beforeExpr=!!b.beforeExpr;this.startsExpr=!!b.startsExpr;this.isLoop=!!b.isLoop;this.isAssign=!!b.isAssign;this.prefix=!!b.prefix;this.postfix=!!b.postfix;this.binop=b.binop||null;this.updateContext=null};u.TokenType=m;b={beforeExpr:!0};v={startsExpr:!0};var k={num:new m("num",v),regexp:new m("regexp",v),string:new m("string",v),name:new m("name",v),eof:new m("eof"),bracketL:new m("[",{beforeExpr:!0,startsExpr:!0}),bracketR:new m("]"),braceL:new m("{",{beforeExpr:!0,startsExpr:!0}),braceR:new m("}"),parenL:new m("(",{beforeExpr:!0,startsExpr:!0}),parenR:new m(")"),comma:new m(",",b),semi:new m(";",b),colon:new m(":",b),dot:new m("."),question:new m("?",b),arrow:new m("\x3d\x3e",b),template:new m("template"),ellipsis:new m("...",b),backQuote:new m("`",v),dollarBraceL:new m("${",{beforeExpr:!0,startsExpr:!0}),eq:new m("\x3d",{beforeExpr:!0,isAssign:!0}),assign:new m("_\x3d",{beforeExpr:!0,isAssign:!0}),incDec:new m("++/--",{prefix:!0,postfix:!0,startsExpr:!0}),prefix:new m("prefix",{beforeExpr:!0,prefix:!0,startsExpr:!0}),logicalOR:n("||",1),logicalAND:n("\x26\x26",2),bitwiseOR:n("|",3),bitwiseXOR:n("^",4),bitwiseAND:n("\x26",5),equality:n("\x3d\x3d/!\x3d",6),relational:n("\x3c/\x3e",7),bitShift:n("\x3c\x3c/\x3e\x3e",8),plusMin:new m("+/-",{beforeExpr:!0,binop:9,prefix:!0,startsExpr:!0}),modulo:n("%",10),star:n("*",10),slash:n("/",10)};u.types=k;var g={};u.keywords=g;r("break");r("case",b);r("catch");r("continue");r("debugger");r("default",b);r("do",{isLoop:!0});r("else",b);r("finally");r("for",{isLoop:!0});r("function",v);r("if");r("return",b);r("switch");r("throw",b);r("try");r("var");r("let");r("const");r("while",{isLoop:!0});r("with");r("new",{beforeExpr:!0,startsExpr:!0});r("this",v);r("super",v);r("class");r("extends",b);r("export");r("import");r("yield",{beforeExpr:!0,startsExpr:!0});r("null",v);r("true",v);r("false",v);r("in",{beforeExpr:!0,binop:7});r("instanceof",{beforeExpr:!0,binop:7});r("typeof",{beforeExpr:!0,prefix:!0,startsExpr:!0});r("void",{beforeExpr:!0,prefix:!0,startsExpr:!0});r("delete",{beforeExpr:!0,prefix:!0,startsExpr:!0})},{}],15:[function(b,v,u){u.__esModule=!0;u.isArray=function(b){return"[object Array]"===Object.prototype.toString.call(b)};u.has=function(b,r){return Object.prototype.hasOwnProperty.call(b,r)}},{}],16:[function(b,v,u){u.__esModule=!0;u.isNewLine=function(b){return 10===b||13===b||8232===b||8233==b};b=/\r\n?|\n|\u2028|\u2029/;u.lineBreak=b;u.lineBreakG=new RegExp(b.source,"g");u.nonASCIIwhitespace=/[\u1680\u180e\u2000-\u200a\u202f\u205f\u3000\ufeff]/},{}]},{},[3])(3)});(function(p){if("object"===typeof exports&&"undefined"!==typeof module)module.exports=p();else if("function"===typeof define&&define.amd)define([],p);else{var b;b="undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:this;(b.acorn||(b.acorn={})).loose=p()}})(function(){return function b(v,u,n){function r(g,a){if(!u[g]){if(!v[g]){var d="function"==typeof require&&require;if(!a&&d)return d(g,!0);if(m)return m(g,!0);d=Error("Cannot find module '"+g+"'");throw d.code="MODULE_NOT_FOUND",d;}d=u[g]={exports:{}};v[g][0].call(d.exports,function(a){var d=v[g][1][a];return r(d?d:a)},d,d.exports,b,v,u,n)}return u[g].exports}for(var m="function"==typeof require&&require,k=0;k<n.length;k++)r(n[k]);return r}({1:[function(b,v,u){v.exports="undefined"!=typeof acorn?acorn:require("./acorn")},{}],2:[function(b,v,u){v=b("./state");var n=b("./parseutil"),r=b("..");b=v.LooseParser.prototype;b.checkLVal=function(b,k){if(!b)return b;switch(b.type){case "Identifier":return b;case "MemberExpression":return k?this.dummyIdent():b;case "ParenthesizedExpression":return b.expression=this.checkLVal(b.expression,k),b;case "ObjectPattern":case "ArrayPattern":case "RestElement":case "AssignmentPattern":if(6<=this.options.ecmaVersion)return b;default:return this.dummyIdent()}};b.parseExpression=function(b){var k=this.storeCurrentPos(),g=this.parseMaybeAssign(b);if(this.tok.type===r.tokTypes.comma){k=this.startNodeAt(k);for(k.expressions=[g];this.eat(r.tokTypes.comma);)k.expressions.push(this.parseMaybeAssign(b));return this.finishNode(k,"SequenceExpression")}return g};b.parseParenExpression=function(){this.pushCx();this.expect(r.tokTypes.parenL);var b=this.parseExpression();this.popCx();this.expect(r.tokTypes.parenR);return b};b.parseMaybeAssign=function(b){var k=this.storeCurrentPos(),g=this.parseMaybeConditional(b);return this.tok.type.isAssign?(k=this.startNodeAt(k),k.operator=this.tok.value,k.left=this.tok.type===r.tokTypes.eq?this.toAssignable(g):this.checkLVal(g),this.next(),k.right=this.parseMaybeAssign(b),this.finishNode(k,"AssignmentExpression")):g};b.parseMaybeConditional=function(b){var k=this.storeCurrentPos(),g=this.parseExprOps(b);return this.eat(r.tokTypes.question)?(k=this.startNodeAt(k),k.test=g,k.consequent=this.parseMaybeAssign(),k.alternate=this.expect(r.tokTypes.colon)?this.parseMaybeAssign(b):this.dummyIdent(),this.finishNode(k,"ConditionalExpression")):g};b.parseExprOps=function(b){var k=this.storeCurrentPos(),g=this.curIndent,a=this.curLineStart;return this.parseExprOp(this.parseMaybeUnary(b),k,-1,b,g,a)};b.parseExprOp=function(b,k,g,a,d,e){if(this.curLineStart!=e&&this.curIndent<d&&this.tokenStartsLine())return b;var n=this.tok.type.binop;if(null!=n&&(!a||this.tok.type!==r.tokTypes._in)&&n>g){var u=this.startNodeAt(k);u.left=b;u.operator=this.tok.value;this.next();this.curLineStart!=e&&this.curIndent<d&&this.tokenStartsLine()?u.right=this.dummyIdent():(b=this.storeCurrentPos(),u.right=this.parseExprOp(this.parseMaybeUnary(a),b,n,a,d,e));this.finishNode(u,/&&|\|\|/.test(u.operator)?"LogicalExpression":"BinaryExpression");return this.parseExprOp(u,k,g,a,d,e)}return b};b.parseMaybeUnary=function(b){if(this.tok.type.prefix){var k=this.startNode(),g=this.tok.type===r.tokTypes.incDec;k.operator=this.tok.value;k.prefix=!0;this.next();k.argument=this.parseMaybeUnary(b);g&&(k.argument=this.checkLVal(k.argument));return this.finishNode(k,g?"UpdateExpression":"UnaryExpression")}if(this.tok.type===r.tokTypes.ellipsis)return k=this.startNode(),this.next(),k.argument=this.parseMaybeUnary(b),this.finishNode(k,"SpreadElement");b=this.storeCurrentPos();for(g=this.parseExprSubscripts();this.tok.type.postfix&&!this.canInsertSemicolon();)k=this.startNodeAt(b),k.operator=this.tok.value,k.prefix=!1,k.argument=this.checkLVal(g),this.next(),g=this.finishNode(k,"UpdateExpression");return g};b.parseExprSubscripts=function(){var b=this.storeCurrentPos();return this.parseSubscripts(this.parseExprAtom(),b,!1,this.curIndent,this.curLineStart)};b.parseSubscripts=function(b,k,g,a,d){for(;;){if(this.curLineStart!=d&&this.curIndent<=a&&this.tokenStartsLine())if(this.tok.type==r.tokTypes.dot&&this.curIndent==a)--a;else return b;if(this.eat(r.tokTypes.dot)){var e=this.startNodeAt(k);e.object=b;this.curLineStart!=d&&this.curIndent<=a&&this.tokenStartsLine()?e.property=this.dummyIdent():e.property=this.parsePropertyAccessor()||this.dummyIdent();e.computed=!1;b=this.finishNode(e,"MemberExpression")}else if(this.tok.type==r.tokTypes.bracketL)this.pushCx(),this.next(),e=this.startNodeAt(k),e.object=b,e.property=this.parseExpression(),e.computed=!0,this.popCx(),this.expect(r.tokTypes.bracketR),b=this.finishNode(e,"MemberExpression");else if(g||this.tok.type!=r.tokTypes.parenL)if(this.tok.type==r.tokTypes.backQuote)e=this.startNodeAt(k),e.tag=b,e.quasi=this.parseTemplate(),b=this.finishNode(e,"TaggedTemplateExpression");else return b;else e=this.startNodeAt(k),e.callee=b,e.arguments=this.parseExprList(r.tokTypes.parenR),b=this.finishNode(e,"CallExpression")}};b.parseExprAtom=function(){var b=void 0;switch(this.tok.type){case r.tokTypes._this:case r.tokTypes._super:var k=this.tok.type===r.tokTypes._this?"ThisExpression":"Super",b=this.startNode();this.next();return this.finishNode(b,k);case r.tokTypes.name:return b=this.storeCurrentPos(),k=this.parseIdent(),this.eat(r.tokTypes.arrow)?this.parseArrowExpression(this.startNodeAt(b),[k]):k;case r.tokTypes.regexp:return b=this.startNode(),k=this.tok.value,b.regex={pattern:k.pattern,flags:k.flags},b.value=k.value,b.raw=this.input.slice(this.tok.start,this.tok.end),this.next(),this.finishNode(b,"Literal");case r.tokTypes.num:case r.tokTypes.string:return b=this.startNode(),b.value=this.tok.value,b.raw=this.input.slice(this.tok.start,this.tok.end),this.next(),this.finishNode(b,"Literal");case r.tokTypes._null:case r.tokTypes._true:case r.tokTypes._false:return b=this.startNode(),b.value=this.tok.type===r.tokTypes._null?null:this.tok.type===r.tokTypes._true,b.raw=this.tok.type.keyword,this.next(),this.finishNode(b,"Literal");case r.tokTypes.parenL:k=this.storeCurrentPos();this.next();b=this.parseExpression();this.expect(r.tokTypes.parenR);if(this.eat(r.tokTypes.arrow))return this.parseArrowExpression(this.startNodeAt(k),b.expressions||(n.isDummy(b)?[]:[b]));this.options.preserveParens&&(k=this.startNodeAt(k),k.expression=b,b=this.finishNode(k,"ParenthesizedExpression"));return b;case r.tokTypes.bracketL:return b=this.startNode(),b.elements=this.parseExprList(r.tokTypes.bracketR,!0),this.finishNode(b,"ArrayExpression");case r.tokTypes.braceL:return this.parseObj();case r.tokTypes._class:return this.parseClass();case r.tokTypes._function:return b=this.startNode(),this.next(),this.parseFunction(b,!1);case r.tokTypes._new:return this.parseNew();case r.tokTypes._yield:return b=this.startNode(),this.next(),this.semicolon()||this.canInsertSemicolon()||this.tok.type!=r.tokTypes.star&&!this.tok.type.startsExpr?(b.delegate=!1,b.argument=null):(b.delegate=this.eat(r.tokTypes.star),b.argument=this.parseMaybeAssign()),this.finishNode(b,"YieldExpression");case r.tokTypes.backQuote:return this.parseTemplate();default:return this.dummyIdent()}};b.parseNew=function(){var b=this.startNode(),k=this.curIndent,g=this.curLineStart,a=this.parseIdent(!0);if(6<=this.options.ecmaVersion&&this.eat(r.tokTypes.dot))return b.meta=a,b.property=this.parseIdent(!0),this.finishNode(b,"MetaProperty");a=this.storeCurrentPos();b.callee=this.parseSubscripts(this.parseExprAtom(),a,!0,k,g);b.arguments=this.tok.type==r.tokTypes.parenL?this.parseExprList(r.tokTypes.parenR):[];return this.finishNode(b,"NewExpression")};b.parseTemplateElement=function(){var b=this.startNode();b.value={raw:this.input.slice(this.tok.start,this.tok.end).replace(/\r\n?/g,"\n"),cooked:this.tok.value};this.next();b.tail=this.tok.type===r.tokTypes.backQuote;return this.finishNode(b,"TemplateElement")};b.parseTemplate=function(){var b=this.startNode();this.next();b.expressions=[];var k=this.parseTemplateElement();for(b.quasis=[k];!k.tail;)this.next(),b.expressions.push(this.parseExpression()),this.expect(r.tokTypes.braceR)?k=this.parseTemplateElement():(k=this.startNode(),k.value={cooked:"",raw:""},k.tail=!0),b.quasis.push(k);this.expect(r.tokTypes.backQuote);return this.finishNode(b,"TemplateLiteral")};b.parseObj=function(){var b=this.startNode();b.properties=[];this.pushCx();var k=this.curIndent+1,g=this.curLineStart;this.eat(r.tokTypes.braceL);this.curIndent+1<k&&(k=this.curIndent,g=this.curLineStart);for(;!this.closes(r.tokTypes.braceR,k,g);){var a=this.startNode(),d=void 0,e=void 0;6<=this.options.ecmaVersion&&(e=this.storeCurrentPos(),a.method=!1,a.shorthand=!1,d=this.eat(r.tokTypes.star));this.parsePropertyName(a);n.isDummy(a.key)?n.isDummy(this.parseMaybeAssign())&&this.next():(this.eat(r.tokTypes.colon)?(a.kind="init",a.value=this.parseMaybeAssign()):6<=this.options.ecmaVersion&&(this.tok.type===r.tokTypes.parenL||this.tok.type===r.tokTypes.braceL)?(a.kind="init",a.method=!0,a.value=this.parseMethod(d)):5<=this.options.ecmaVersion&&"Identifier"===a.key.type&&!a.computed&&("get"===a.key.name||"set"===a.key.name)&&this.tok.type!=r.tokTypes.comma&&this.tok.type!=r.tokTypes.braceR?(a.kind=a.key.name,this.parsePropertyName(a),a.value=this.parseMethod(!1)):(a.kind="init",6<=this.options.ecmaVersion?this.eat(r.tokTypes.eq)?(d=this.startNodeAt(e),d.operator="\x3d",d.left=a.key,d.right=this.parseMaybeAssign(),a.value=this.finishNode(d,"AssignmentExpression")):a.value=a.key:a.value=this.dummyIdent(),a.shorthand=!0),b.properties.push(this.finishNode(a,"Property")));this.eat(r.tokTypes.comma)}this.popCx();this.eat(r.tokTypes.braceR)||(this.last.end=this.tok.start,this.options.locations&&(this.last.loc.end=this.tok.loc.start));return this.finishNode(b,"ObjectExpression")};b.parsePropertyName=function(b){if(6<=this.options.ecmaVersion){if(this.eat(r.tokTypes.bracketL)){b.computed=!0;b.key=this.parseExpression();this.expect(r.tokTypes.bracketR);return}b.computed=!1}var k=this.tok.type===r.tokTypes.num||this.tok.type===r.tokTypes.string?this.parseExprAtom():this.parseIdent();b.key=k||this.dummyIdent()};b.parsePropertyAccessor=function(){if(this.tok.type===r.tokTypes.name||this.tok.type.keyword)return this.parseIdent()};b.parseIdent=function(){var b=this.tok.type===r.tokTypes.name?this.tok.value:this.tok.type.keyword;if(!b)return this.dummyIdent();var k=this.startNode();this.next();k.name=b;return this.finishNode(k,"Identifier")};b.initFunction=function(b){b.id=null;b.params=[];6<=this.options.ecmaVersion&&(b.generator=!1,b.expression=!1)};b.toAssignable=function(b,k){if(6<=this.options.ecmaVersion&&b)switch(b.type){case "ObjectExpression":b.type="ObjectPattern";for(var g=b.properties,a=0;a<g.length;a++)this.toAssignable(g[a].value,k);break;case "ArrayExpression":b.type="ArrayPattern";this.toAssignableList(b.elements,k);break;case "SpreadElement":b.type="RestElement";b.argument=this.toAssignable(b.argument,k);break;case "AssignmentExpression":b.type="AssignmentPattern",delete b.operator}return this.checkLVal(b,k)};b.toAssignableList=function(b,k){for(var g=0;g<b.length;g++)b[g]=this.toAssignable(b[g],k);return b};b.parseFunctionParams=function(b){b=this.parseExprList(r.tokTypes.parenR);return this.toAssignableList(b,!0)};b.parseMethod=function(b){var k=this.startNode();this.initFunction(k);k.params=this.parseFunctionParams();k.generator=b||!1;k.expression=6<=this.options.ecmaVersion&&this.tok.type!==r.tokTypes.braceL;k.body=k.expression?this.parseMaybeAssign():this.parseBlock();return this.finishNode(k,"FunctionExpression")};b.parseArrowExpression=function(b,k){this.initFunction(b);b.params=this.toAssignableList(k,!0);b.expression=this.tok.type!==r.tokTypes.braceL;b.body=b.expression?this.parseMaybeAssign():this.parseBlock();return this.finishNode(b,"ArrowFunctionExpression")};b.parseExprList=function(b,k){this.pushCx();var g=this.curIndent,a=this.curLineStart,d=[];for(this.next();!this.closes(b,g+1,a);)if(this.eat(r.tokTypes.comma))d.push(k?null:this.dummyIdent());else{var e=this.parseMaybeAssign();if(n.isDummy(e)){if(this.closes(b,g,a))break;this.next()}else d.push(e);this.eat(r.tokTypes.comma)}this.popCx();this.eat(b)||(this.last.end=this.tok.start,this.options.locations&&(this.last.loc.end=this.tok.loc.start));return d}},{"..":1,"./parseutil":4,"./state":5}],3:[function(b,v,u){function n(b,k){var g=new r.LooseParser(b,k);g.next();return g.parseTopLevel()}u.__esModule=!0;u.parse_dammit=n;v=function(b){if(b&&b.__esModule)return b;var k={};if(null!=b)for(var g in b)Object.prototype.hasOwnProperty.call(b,g)&&(k[g]=b[g]);k["default"]=b;return k}(b(".."));var r=b("./state");b("./tokenize");b("./statement");b("./expression");u.LooseParser=r.LooseParser;v.defaultOptions.tabSize=4;v.parse_dammit=n;v.LooseParser=r.LooseParser},{"..":1,"./expression":2,"./state":5,"./statement":6,"./tokenize":7}],4:[function(b,v,u){u.__esModule=!0;u.isDummy=function(b){return"\u2716"==b.name}},{}],5:[function(b,v,u){u.__esModule=!0;var n=b("..");b=function(){function b(m,k){if(!(this instanceof b))throw new TypeError("Cannot call a class as a function");this.toks=n.tokenizer(m,k);this.options=this.toks.options;this.input=this.toks.input;this.tok=this.last={type:n.tokTypes.eof,start:0,end:0};if(this.options.locations){var g=this.toks.curPosition();this.tok.loc=new n.SourceLocation(this.toks,g,g)}this.ahead=[];this.context=[];this.curLineStart=this.curIndent=0;this.nextLineStart=this.lineEnd(this.curLineStart)+1}b.prototype.startNode=function(){return new n.Node(this.toks,this.tok.start,this.options.locations?this.tok.loc.start:null)};b.prototype.storeCurrentPos=function(){return this.options.locations?[this.tok.start,this.tok.loc.start]:this.tok.start};b.prototype.startNodeAt=function(b){return this.options.locations?new n.Node(this.toks,b[0],b[1]):new n.Node(this.toks,b)};b.prototype.finishNode=function(b,k){b.type=k;b.end=this.last.end;this.options.locations&&(b.loc.end=this.last.loc.end);this.options.ranges&&(b.range[1]=this.last.end);return b};b.prototype.dummyIdent=function(){var b=this.startNode();b.name="\u2716";return this.finishNode(b,"Identifier")};b.prototype.dummyString=function(){var b=this.startNode();b.value=b.raw="\u2716";return this.finishNode(b,"Literal")};b.prototype.eat=function(b){return this.tok.type===b?(this.next(),!0):!1};b.prototype.isContextual=function(b){return this.tok.type===n.tokTypes.name&&this.tok.value===b};b.prototype.eatContextual=function(b){return this.tok.value===b&&this.eat(n.tokTypes.name)};b.prototype.canInsertSemicolon=function(){return this.tok.type===n.tokTypes.eof||this.tok.type===n.tokTypes.braceR||n.lineBreak.test(this.input.slice(this.last.end,this.tok.start))};b.prototype.semicolon=function(){return this.eat(n.tokTypes.semi)};b.prototype.expect=function(b){if(this.eat(b))return!0;for(var k=1;2>=k;k++)if(this.lookAhead(k).type==b){for(b=0;b<k;b++)this.next();return!0}};b.prototype.pushCx=function(){this.context.push(this.curIndent)};b.prototype.popCx=function(){this.curIndent=this.context.pop()};b.prototype.lineEnd=function(b){for(;b<this.input.length&&!n.isNewLine(this.input.charCodeAt(b));)++b;return b};b.prototype.indentationAfter=function(b){for(var k=0;;++b){var g=this.input.charCodeAt(b);if(32===g)++k;else if(9===g)k+=this.options.tabSize;else return k}};b.prototype.closes=function(b,k,g,a){return this.tok.type===b||this.tok.type===n.tokTypes.eof?!0:g!=this.curLineStart&&this.curIndent<k&&this.tokenStartsLine()&&(!a||this.nextLineStart>=this.input.length||this.indentationAfter(this.nextLineStart)<k)};b.prototype.tokenStartsLine=function(){for(var b=this.tok.start-1;b>=this.curLineStart;--b){var k=this.input.charCodeAt(b);if(9!==k&&32!==k)return!1}return!0};return b}();u.LooseParser=b},{"..":1}],6:[function(b,v,u){v=b("./state");var n=b("./parseutil"),r=b("..");b=v.LooseParser.prototype;b.parseTopLevel=function(){var b=this.startNodeAt(this.options.locations?[0,r.getLineInfo(this.input,0)]:0);for(b.body=[];this.tok.type!==r.tokTypes.eof;)b.body.push(this.parseStatement());this.last=this.tok;6<=this.options.ecmaVersion&&(b.sourceType=this.options.sourceType);return this.finishNode(b,"Program")};b.parseStatement=function(){var b=this.tok.type,k=this.startNode();switch(b){case r.tokTypes._break:case r.tokTypes._continue:return this.next(),b=b===r.tokTypes._break,this.semicolon()||this.canInsertSemicolon()?k.label=null:(k.label=this.tok.type===r.tokTypes.name?this.parseIdent():null,this.semicolon()),this.finishNode(k,b?"BreakStatement":"ContinueStatement");case r.tokTypes._debugger:return this.next(),this.semicolon(),this.finishNode(k,"DebuggerStatement");case r.tokTypes._do:return this.next(),k.body=this.parseStatement(),k.test=this.eat(r.tokTypes._while)?this.parseParenExpression():this.dummyIdent(),this.semicolon(),this.finishNode(k,"DoWhileStatement");case r.tokTypes._for:this.next();this.pushCx();this.expect(r.tokTypes.parenL);if(this.tok.type===r.tokTypes.semi)return this.parseFor(k,null);if(this.tok.type===r.tokTypes._var||this.tok.type===r.tokTypes._let||this.tok.type===r.tokTypes._const)return b=this.parseVar(!0),1!==b.declarations.length||this.tok.type!==r.tokTypes._in&&!this.isContextual("of")?this.parseFor(k,b):this.parseForIn(k,b);b=this.parseExpression(!0);return this.tok.type===r.tokTypes._in||this.isContextual("of")?this.parseForIn(k,this.toAssignable(b)):this.parseFor(k,b);case r.tokTypes._function:return this.next(),this.parseFunction(k,!0);case r.tokTypes._if:return this.next(),k.test=this.parseParenExpression(),k.consequent=this.parseStatement(),k.alternate=this.eat(r.tokTypes._else)?this.parseStatement():null,this.finishNode(k,"IfStatement");case r.tokTypes._return:return this.next(),this.eat(r.tokTypes.semi)||this.canInsertSemicolon()?k.argument=null:(k.argument=this.parseExpression(),this.semicolon()),this.finishNode(k,"ReturnStatement");case r.tokTypes._switch:var b=this.curIndent,g=this.curLineStart;this.next();k.discriminant=this.parseParenExpression();k.cases=[];this.pushCx();this.expect(r.tokTypes.braceL);for(var a=void 0;!this.closes(r.tokTypes.braceR,b,g,!0);)if(this.tok.type===r.tokTypes._case||this.tok.type===r.tokTypes._default){var d=this.tok.type===r.tokTypes._case;a&&this.finishNode(a,"SwitchCase");k.cases.push(a=this.startNode());a.consequent=[];this.next();a.test=d?this.parseExpression():null;this.expect(r.tokTypes.colon)}else a||(k.cases.push(a=this.startNode()),a.consequent=[],a.test=null),a.consequent.push(this.parseStatement());a&&this.finishNode(a,"SwitchCase");this.popCx();this.eat(r.tokTypes.braceR);return this.finishNode(k,"SwitchStatement");case r.tokTypes._throw:return this.next(),k.argument=this.parseExpression(),this.semicolon(),this.finishNode(k,"ThrowStatement");case r.tokTypes._try:return this.next(),k.block=this.parseBlock(),k.handler=null,this.tok.type===r.tokTypes._catch&&(b=this.startNode(),this.next(),this.expect(r.tokTypes.parenL),b.param=this.toAssignable(this.parseExprAtom(),!0),this.expect(r.tokTypes.parenR),b.guard=null,b.body=this.parseBlock(),k.handler=this.finishNode(b,"CatchClause")),k.finalizer=this.eat(r.tokTypes._finally)?this.parseBlock():null,k.handler||k.finalizer?this.finishNode(k,"TryStatement"):k.block;case r.tokTypes._var:case r.tokTypes._let:case r.tokTypes._const:return this.parseVar();case r.tokTypes._while:return this.next(),k.test=this.parseParenExpression(),k.body=this.parseStatement(),this.finishNode(k,"WhileStatement");case r.tokTypes._with:return this.next(),k.object=this.parseParenExpression(),k.body=this.parseStatement(),this.finishNode(k,"WithStatement");case r.tokTypes.braceL:return this.parseBlock();case r.tokTypes.semi:return this.next(),this.finishNode(k,"EmptyStatement");case r.tokTypes._class:return this.parseClass(!0);case r.tokTypes._import:return this.parseImport();case r.tokTypes._export:return this.parseExport();default:g=this.parseExpression();if(n.isDummy(g))return this.next(),this.tok.type===r.tokTypes.eof?this.finishNode(k,"EmptyStatement"):this.parseStatement();if(b===r.tokTypes.name&&"Identifier"===g.type&&this.eat(r.tokTypes.colon))return k.body=this.parseStatement(),k.label=g,this.finishNode(k,"LabeledStatement");k.expression=g;this.semicolon();return this.finishNode(k,"ExpressionStatement")}};b.parseBlock=function(){var b=this.startNode();this.pushCx();this.expect(r.tokTypes.braceL);var k=this.curIndent,g=this.curLineStart;for(b.body=[];!this.closes(r.tokTypes.braceR,k,g,!0);)b.body.push(this.parseStatement());this.popCx();this.eat(r.tokTypes.braceR);return this.finishNode(b,"BlockStatement")};b.parseFor=function(b,k){b.init=k;b.test=b.update=null;this.eat(r.tokTypes.semi)&&this.tok.type!==r.tokTypes.semi&&(b.test=this.parseExpression());this.eat(r.tokTypes.semi)&&this.tok.type!==r.tokTypes.parenR&&(b.update=this.parseExpression());this.popCx();this.expect(r.tokTypes.parenR);b.body=this.parseStatement();return this.finishNode(b,"ForStatement")};b.parseForIn=function(b,k){var g=this.tok.type===r.tokTypes._in?"ForInStatement":"ForOfStatement";this.next();b.left=k;b.right=this.parseExpression();this.popCx();this.expect(r.tokTypes.parenR);b.body=this.parseStatement();return this.finishNode(b,g)};b.parseVar=function(b){var k=this.startNode();k.kind=this.tok.type.keyword;this.next();k.declarations=[];do{var g=this.startNode();g.id=6<=this.options.ecmaVersion?this.toAssignable(this.parseExprAtom(),!0):this.parseIdent();g.init=this.eat(r.tokTypes.eq)?this.parseMaybeAssign(b):null;k.declarations.push(this.finishNode(g,"VariableDeclarator"))}while(this.eat(r.tokTypes.comma));k.declarations.length||(g=this.startNode(),g.id=this.dummyIdent(),k.declarations.push(this.finishNode(g,"VariableDeclarator")));b||this.semicolon();return this.finishNode(k,"VariableDeclaration")};b.parseClass=function(b){var k=this.startNode();this.next();k.id=this.tok.type===r.tokTypes.name?this.parseIdent():b?this.dummyIdent():null;k.superClass=this.eat(r.tokTypes._extends)?this.parseExpression():null;k.body=this.startNode();k.body.body=[];this.pushCx();var g=this.curIndent+1,a=this.curLineStart;this.eat(r.tokTypes.braceL);this.curIndent+1<g&&(g=this.curIndent,a=this.curLineStart);for(;!this.closes(r.tokTypes.braceR,g,a);)if(!this.semicolon()){var d=this.startNode(),e=void 0;6<=this.options.ecmaVersion&&(d["static"]=!1,e=this.eat(r.tokTypes.star));this.parsePropertyName(d);n.isDummy(d.key)?(n.isDummy(this.parseMaybeAssign())&&this.next(),this.eat(r.tokTypes.comma)):("Identifier"!==d.key.type||d.computed||"static"!==d.key.name||this.tok.type==r.tokTypes.parenL||this.tok.type==r.tokTypes.braceL?d["static"]=!1:(d["static"]=!0,e=this.eat(r.tokTypes.star),this.parsePropertyName(d)),5<=this.options.ecmaVersion&&"Identifier"===d.key.type&&!d.computed&&("get"===d.key.name||"set"===d.key.name)&&this.tok.type!==r.tokTypes.parenL&&this.tok.type!==r.tokTypes.braceL?(d.kind=d.key.name,this.parsePropertyName(d),d.value=this.parseMethod(!1)):(d.kind=d.computed||d["static"]||e||!("Identifier"===d.key.type&&"constructor"===d.key.name||"Literal"===d.key.type&&"constructor"===d.key.value)?"method":"constructor",d.value=this.parseMethod(e)),k.body.body.push(this.finishNode(d,"MethodDefinition")))}this.popCx();this.eat(r.tokTypes.braceR)||(this.last.end=this.tok.start,this.options.locations&&(this.last.loc.end=this.tok.loc.start));this.semicolon();this.finishNode(k.body,"ClassBody");return this.finishNode(k,b?"ClassDeclaration":"ClassExpression")};b.parseFunction=function(b,k){this.initFunction(b);6<=this.options.ecmaVersion&&(b.generator=this.eat(r.tokTypes.star));this.tok.type===r.tokTypes.name?b.id=this.parseIdent():k&&(b.id=this.dummyIdent());b.params=this.parseFunctionParams();b.body=this.parseBlock();return this.finishNode(b,k?"FunctionDeclaration":"FunctionExpression")};b.parseExport=function(){var b=this.startNode();this.next();if(this.eat(r.tokTypes.star))return b.source=this.eatContextual("from")?this.parseExprAtom():null,this.finishNode(b,"ExportAllDeclaration");if(this.eat(r.tokTypes._default)){var k=this.parseMaybeAssign();if(k.id)switch(k.type){case "FunctionExpression":k.type="FunctionDeclaration";break;case "ClassExpression":k.type="ClassDeclaration"}b.declaration=k;this.semicolon();return this.finishNode(b,"ExportDefaultDeclaration")}this.tok.type.keyword?(b.declaration=this.parseStatement(),b.specifiers=[],b.source=null):(b.declaration=null,b.specifiers=this.parseExportSpecifierList(),b.source=this.eatContextual("from")?this.parseExprAtom():null,this.semicolon());return this.finishNode(b,"ExportNamedDeclaration")};b.parseImport=function(){var b=this.startNode();this.next();if(this.tok.type===r.tokTypes.string)b.specifiers=[],b.source=this.parseExprAtom(),b.kind="";else{var k=void 0;this.tok.type===r.tokTypes.name&&"from"!==this.tok.value&&(k=this.startNode(),k.local=this.parseIdent(),this.finishNode(k,"ImportDefaultSpecifier"),this.eat(r.tokTypes.comma));b.specifiers=this.parseImportSpecifierList();b.source=this.eatContextual("from")?this.parseExprAtom():this.dummyString();k&&b.specifiers.unshift(k)}this.semicolon();return this.finishNode(b,"ImportDeclaration")};b.parseImportSpecifierList=function(){var b=[];if(this.tok.type===r.tokTypes.star){var k=this.startNode();this.next();this.eatContextual("as")&&(k.local=this.parseIdent());b.push(this.finishNode(k,"ImportNamespaceSpecifier"))}else{var g=this.curIndent,a=this.curLineStart,d=this.nextLineStart;this.pushCx();this.eat(r.tokTypes.braceL);this.curLineStart>d&&(d=this.curLineStart);for(;!this.closes(r.tokTypes.braceR,g+(this.curLineStart<=d?1:0),a);){k=this.startNode();if(this.eat(r.tokTypes.star))this.eatContextual("as")&&(k.local=this.parseIdent()),this.finishNode(k,"ImportNamespaceSpecifier");else{if(this.isContextual("from"))break;k.imported=this.parseIdent();if(n.isDummy(k.imported))break;k.local=this.eatContextual("as")?this.parseIdent():k.imported;this.finishNode(k,"ImportSpecifier")}b.push(k);this.eat(r.tokTypes.comma)}this.eat(r.tokTypes.braceR);this.popCx()}return b};b.parseExportSpecifierList=function(){var b=[],k=this.curIndent,g=this.curLineStart,a=this.nextLineStart;this.pushCx();this.eat(r.tokTypes.braceL);this.curLineStart>a&&(a=this.curLineStart);for(;!this.closes(r.tokTypes.braceR,k+(this.curLineStart<=a?1:0),g)&&!this.isContextual("from");){var d=this.startNode();d.local=this.parseIdent();if(n.isDummy(d.local))break;d.exported=this.eatContextual("as")?this.parseIdent():d.local;this.finishNode(d,"ExportSpecifier");b.push(d);this.eat(r.tokTypes.comma)}this.eat(r.tokTypes.braceR);this.popCx();return b}},{"..":1,"./parseutil":4,"./state":5}],7:[function(b,v,u){function n(b){return 14>b&&8<b||32===b||160===b||r.isNewLine(b)}var r=b("..");b=b("./state").LooseParser.prototype;b.next=function(){this.last=this.tok;this.tok=this.ahead.length?this.ahead.shift():this.readToken();if(this.tok.start>=this.nextLineStart){for(;this.tok.start>=this.nextLineStart;)this.curLineStart=this.nextLineStart,this.nextLineStart=this.lineEnd(this.curLineStart)+1;this.curIndent=this.indentationAfter(this.curLineStart)}};b.readToken=function(){for(;;)try{return this.toks.next(),this.toks.type===r.tokTypes.dot&&"."===this.input.substr(this.toks.end,1)&&6<=this.options.ecmaVersion&&(this.toks.end++,this.toks.type=r.tokTypes.ellipsis),new r.Token(this.toks)}catch(a){if(!(a instanceof SyntaxError))throw a;var b=a.message,k=a.raisedAt,g=!0;if(/unterminated/i.test(b))if(k=this.lineEnd(a.pos+1),/string/.test(b))g={start:a.pos,end:k,type:r.tokTypes.string,value:this.input.slice(a.pos+1,k)};else if(/regular expr/i.test(b)){g=this.input.slice(a.pos,k);try{g=new RegExp(g)}catch(d){}g={start:a.pos,end:k,type:r.tokTypes.regexp,value:g}}else g=/template/.test(b)?{start:a.pos,end:k,type:r.tokTypes.template,value:this.input.slice(a.pos,k)}:!1;else if(/invalid (unicode|regexp|number)|expecting unicode|octal literal|is reserved|directly after number|expected number in radix/i.test(b))for(;k<this.input.length&&!n(this.input.charCodeAt(k));)++k;else if(/character escape|expected hexadecimal/i.test(b))for(;k<this.input.length&&(b=this.input.charCodeAt(k++),34!==b&&39!==b&&!r.isNewLine(b)););else if(/unexpected character/i.test(b))k++,g=!1;else if(/regular expression/i.test(b))g=!0;else throw a;this.resetTo(k);!0===g&&(g={start:k,end:k,type:r.tokTypes.name,value:"\u2716"});if(g)return this.options.locations&&(g.loc=new r.SourceLocation(this.toks,r.getLineInfo(this.input,g.start),r.getLineInfo(this.input,g.end))),g}};b.resetTo=function(b){this.toks.pos=b;var k=this.input.charAt(b-1);this.toks.exprAllowed=!k||/[\[\{\(,;:?\/*=+\-~!|&%^<>]/.test(k)||/[enwfd]/.test(k)&&/\b(keywords|case|else|return|throw|new|in|(instance|type)of|delete|void)$/.test(this.input.slice(b-10,b));if(this.options.locations)for(this.toks.curLine=1,this.toks.lineStart=r.lineBreakG.lastIndex=0,k=void 0;(k=r.lineBreakG.exec(this.input))&&k.index<b;)++this.toks.curLine,this.toks.lineStart=k.index+k[0].length};b.lookAhead=function(b){for(;b>this.ahead.length;)this.ahead.push(this.readToken());return this.ahead[b-1]}},{"..":1,"./state":5}]},{},[3])(3)});(function(p){if("object"===typeof exports&&"undefined"!==typeof module)module.exports=p();else if("function"===typeof define&&define.amd)define([],p);else{var b;b="undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:this;(b.acorn||(b.acorn={})).walk=p()}})(function(){return function b(v,u,n){function r(g,a){if(!u[g]){if(!v[g]){var d="function"==typeof require&&require;if(!a&&d)return d(g,!0);if(m)return m(g,!0);d=Error("Cannot find module '"+g+"'");throw d.code="MODULE_NOT_FOUND",d;}d=u[g]={exports:{}};v[g][0].call(d.exports,function(a){var b=v[g][1][a];return r(b?b:a)},d,d.exports,b,v,u,n)}return u[g].exports}for(var m="function"==typeof require&&require,k=0;k<n.length;k++)r(n[k]);return r}({1:[function(b,v,u){function n(b){return"string"==typeof b?function(a){return a==b}:b?b:function(){return!0}}function r(b,a,d){d(b,a)}function m(b,a,d){}u.__esModule=!0;u.simple=function(b,a,d,e,k){d||(d=u.base);(function G(b,e,g){g=g||b.type;var k=a[g];d[g](b,e,G);k&&k(b,e)})(b,e,k)};u.ancestor=function(b,a,d,e){d||(d=u.base);e||(e=[]);(function E(b,e,g){g=g||b.type;var k=a[g];b!=e[e.length-1]&&(e=e.slice(),e.push(b));d[g](b,e,E);k&&k(b,e)})(b,e)};u.recursive=function(b,a,d,e,k){var m=d?u.make(d,e):e;(function w(a,b,d){m[d||a.type](a,b,w)})(b,a,k)};u.findNodeAt=function(b,a,d,e,m,r){e=n(e);m||(m=u.base);try{(function w(b,g,n){n=n||b.type;if((null==a||b.start<=a)&&(null==d||b.end>=d))m[n](b,g,w);if(!(null!=a&&b.start!=a||null!=d&&b.end!=d)&&e(n,b))throw new k(b,g);})(b,r)}catch(v){if(v instanceof k)return v;throw v;}};u.findNodeAround=function(b,a,d,e,m){d=n(d);e||(e=u.base);try{(function G(b,g,m){m=m||b.type;if(!(b.start>a||b.end<a)&&(e[m](b,g,G),d(m,b)))throw new k(b,g);})(b,m)}catch(r){if(r instanceof k)return r;throw r;}};u.findNodeAfter=function(b,a,d,e,m){d=n(d);e||(e=u.base);try{(function G(b,g,m){if(!(b.end<a)){m=m||b.type;if(b.start>=a&&d(m,b))throw new k(b,g);e[m](b,g,G)}})(b,m)}catch(r){if(r instanceof k)return r;throw r;}};u.findNodeBefore=function(b,a,d,e,m){d=n(d);e||(e=u.base);var r=void 0;(function w(b,g,m){b.start>a||(m=m||b.type,b.end<=a&&(!r||r.node.end<b.end)&&d(m,b)&&(r=new k(b,g)),e[m](b,g,w))})(b,m);return r};u.make=function(b,a){a||(a=u.base);var d={},e;for(e in a)d[e]=a[e];for(e in b)d[e]=b[e];return d};var k=function a(b,e){if(!(this instanceof a))throw new TypeError("Cannot call a class as a function");this.node=b;this.state=e};b={};u.base=b;b.Program=b.BlockStatement=function(a,b,e){for(var k=0;k<a.body.length;++k)e(a.body[k],b,"Statement")};b.Statement=r;b.EmptyStatement=m;b.ExpressionStatement=b.ParenthesizedExpression=function(a,b,e){return e(a.expression,b,"Expression")};b.IfStatement=function(a,b,e){e(a.test,b,"Expression");e(a.consequent,b,"Statement");a.alternate&&e(a.alternate,b,"Statement")};b.LabeledStatement=function(a,b,e){return e(a.body,b,"Statement")};b.BreakStatement=b.ContinueStatement=m;b.WithStatement=function(a,b,e){e(a.object,b,"Expression");e(a.body,b,"Statement")};b.SwitchStatement=function(a,b,e){e(a.discriminant,b,"Expression");for(var k=0;k<a.cases.length;++k){var m=a.cases[k];m.test&&e(m.test,b,"Expression");for(var n=0;n<m.consequent.length;++n)e(m.consequent[n],b,"Statement")}};b.ReturnStatement=b.YieldExpression=function(a,b,e){a.argument&&e(a.argument,b,"Expression")};b.ThrowStatement=b.SpreadElement=function(a,b,e){return e(a.argument,b,"Expression")};b.TryStatement=function(a,b,e){e(a.block,b,"Statement");a.handler&&(e(a.handler.param,b,"Pattern"),e(a.handler.body,b,"ScopeBody"));a.finalizer&&e(a.finalizer,b,"Statement")};b.WhileStatement=b.DoWhileStatement=function(a,b,e){e(a.test,b,"Expression");e(a.body,b,"Statement")};b.ForStatement=function(a,b,e){a.init&&e(a.init,b,"ForInit");a.test&&e(a.test,b,"Expression");a.update&&e(a.update,b,"Expression");e(a.body,b,"Statement")};b.ForInStatement=b.ForOfStatement=function(a,b,e){e(a.left,b,"ForInit");e(a.right,b,"Expression");e(a.body,b,"Statement")};b.ForInit=function(a,b,e){"VariableDeclaration"==a.type?e(a,b):e(a,b,"Expression")};b.DebuggerStatement=m;b.FunctionDeclaration=function(a,b,e){return e(a,b,"Function")};b.VariableDeclaration=function(a,b,e){for(var k=0;k<a.declarations.length;++k)e(a.declarations[k],b)};b.VariableDeclarator=function(a,b,e){e(a.id,b,"Pattern");a.init&&e(a.init,b,"Expression")};b.Function=function(a,b,e){a.id&&e(a.id,b,"Pattern");for(var k=0;k<a.params.length;k++)e(a.params[k],b,"Pattern");e(a.body,b,a.expression?"ScopeExpression":"ScopeBody")};b.ScopeBody=function(a,b,e){return e(a,b,"Statement")};b.ScopeExpression=function(a,b,e){return e(a,b,"Expression")};b.Pattern=function(a,b,e){"Identifier"==a.type?e(a,b,"VariablePattern"):"MemberExpression"==a.type?e(a,b,"MemberPattern"):e(a,b)};b.VariablePattern=m;b.MemberPattern=r;b.RestElement=function(a,b,e){return e(a.argument,b,"Pattern")};b.ArrayPattern=function(a,b,e){for(var k=0;k<a.elements.length;++k){var m=a.elements[k];m&&e(m,b,"Pattern")}};b.ObjectPattern=function(a,b,e){for(var k=0;k<a.properties.length;++k)e(a.properties[k].value,b,"Pattern")};b.Expression=r;b.ThisExpression=b.Super=b.MetaProperty=m;b.ArrayExpression=function(a,b,e){for(var k=0;k<a.elements.length;++k){var m=a.elements[k];m&&e(m,b,"Expression")}};b.ObjectExpression=function(a,b,e){for(var k=0;k<a.properties.length;++k)e(a.properties[k],b)};b.FunctionExpression=b.ArrowFunctionExpression=b.FunctionDeclaration;b.SequenceExpression=b.TemplateLiteral=function(a,b,e){for(var k=0;k<a.expressions.length;++k)e(a.expressions[k],b,"Expression")};b.UnaryExpression=b.UpdateExpression=function(a,b,e){e(a.argument,b,"Expression")};b.BinaryExpression=b.LogicalExpression=function(a,b,e){e(a.left,b,"Expression");e(a.right,b,"Expression")};b.AssignmentExpression=b.AssignmentPattern=function(a,b,e){e(a.left,b,"Pattern");e(a.right,b,"Expression")};b.ConditionalExpression=function(a,b,e){e(a.test,b,"Expression");e(a.consequent,b,"Expression");e(a.alternate,b,"Expression")};b.NewExpression=b.CallExpression=function(a,b,e){e(a.callee,b,"Expression");if(a.arguments)for(var k=0;k<a.arguments.length;++k)e(a.arguments[k],b,"Expression")};b.MemberExpression=function(a,b,e){e(a.object,b,"Expression");a.computed&&e(a.property,b,"Expression")};b.ExportNamedDeclaration=b.ExportDefaultDeclaration=function(a,b,e){a.declaration&&e(a.declaration,b);a.source&&e(a.source,b,"Expression")};b.ExportAllDeclaration=function(a,b,e){e(a.source,b,"Expression")};b.ImportDeclaration=function(a,b,e){for(var k=0;k<a.specifiers.length;k++)e(a.specifiers[k],b);e(a.source,b,"Expression")};b.ImportSpecifier=b.ImportDefaultSpecifier=b.ImportNamespaceSpecifier=b.Identifier=b.Literal=m;b.TaggedTemplateExpression=function(a,b,e){e(a.tag,b,"Expression");e(a.quasi,b)};b.ClassDeclaration=b.ClassExpression=function(a,b,e){return e(a,b,"Class")};b.Class=function(a,b,e){a.id&&e(a.id,b,"Pattern");a.superClass&&e(a.superClass,b,"Expression");for(var k=0;k<a.body.body.length;k++)e(a.body.body[k],b)};b.MethodDefinition=b.Property=function(a,b,e){a.computed&&e(a.key,b,"Expression");e(a.value,b,"Expression")};b.ComprehensionExpression=function(a,b,e){for(var k=0;k<a.blocks.length;k++)e(a.blocks[k].right,b,"Expression");e(a.body,b,"Expression")}},{}]},{},[1])(1)});(function(){Object.create=Object.create||function(){function b(){}var p=document.body.appendChild(document.createElement("iframe"));p.src="javascript:";var u=p.contentWindow.Object.prototype;delete u.hasOwnProperty;delete u.isPrototypeOf;delete u.propertyIsEnumerable;delete u.valueOf;delete u.toString;delete u.toLocaleString;delete u.constructor;return function(n){b.prototype=n||u;return new b}}();var p=Array.prototype;p.some=p.some||function(b){for(var p=0;p<this.length;++p)if(b(this[p],p))return!0};p.forEach=p.forEach||function(b){for(var p=0;p<this.length;++p)b(this[p],p)};p.indexOf=p.indexOf||function(b,p){for(var u=p||0;u<this.length;++u)if(this[u]===b)return u;return-1};p.lastIndexOf=p.lastIndexOf||function(b,p){for(var u=null==p?this.length-1:p;0<=u;++u)if(this[u]===b)return u;return-1};p.map=p.map||function(b){for(var p=[],u=0;u<this.length;++u)p.push(b(this[u],u));return p};Array.isArray=Array.isArray||function(b){return"[object Array]"==Object.prototype.toString.call(b)};String.prototype.trim=String.prototype.trim||function(){for(var b=0,p=this.length;/\s/.test(this.charAt(b));)++b;for(;/\s/.test(this.charAt(p-1));)--p;return this.slice(b,p)};window.JSON||function(){function b(a){var b,d,e,g="json"==a;if(g||"json-stringify"==a||"json-parse"==a){if("json-stringify"==a||g){if(b="function"==typeof m.stringify&&D){(e=function(){return 1}).toJSON=e;try{b="0"===m.stringify(0)&&"0"===m.stringify(new Number)&&'""'==m.stringify(new String)&&void 0===m.stringify(p)&&void 0===m.stringify(void 0)&&void 0===m.stringify()&&"1"===m.stringify(e)&&"[1]"==m.stringify([e])&&"[null]"==m.stringify([void 0])&&"null"==m.stringify(null)&&"[null,null,null]"==m.stringify([void 0,p,null])&&'{"A":[1,true,false,null,"\\u0000\\b\\n\\f\\r\\t"]}'==m.stringify({A:[e,!0,!1,null,"\x00\b\n\f\r\t"]})&&"1"===m.stringify(null,e)&&"[\n 1,\n 2\n]"==m.stringify([1,2],null,1)&&'"-271821-04-20T00:00:00.000Z"'==m.stringify(new Date(-864E13))&&'"+275760-09-13T00:00:00.000Z"'==m.stringify(new Date(864E13))&&'"-000001-01-01T00:00:00.000Z"'==m.stringify(new Date(-621987552E5))&&'"1969-12-31T23:59:59.999Z"'==m.stringify(new Date(-1))}catch(k){b=!1}}if(!g)return b}if("json-parse"==a||g){if("function"==typeof m.parse)try{if(0===m.parse("0")&&!m.parse(!1)&&(e=m.parse('{"A":[1,true,false,null,"\\u0000\\b\\n\\f\\r\\t"]}'),d=5==e.a.length&&1==e.a[0])){try{d=!m.parse('"\t"')}catch(k){}if(d)try{d=1!=m.parse("01")}catch(k){}}}catch(k){d=!1}if(!g)return d}return b&&d}}var p={}.toString,u,n,r="function"===typeof define&&define.c,m=!r&&"object"==typeof exports&&exports;m||r?"object"==typeof JSON&&JSON?r?m=JSON:(m.stringify=JSON.stringify,m.parse=JSON.parse):r&&(m=this.JSON={}):m=this.JSON||(this.JSON={});var k,g,a,d,e,B,E,G,w,C,H,y,I,D=new Date(-0xc782b5b800cec),P,K,R;try{D=-109252==D.getUTCFullYear()&&0===D.getUTCMonth()&&1==D.getUTCDate()&&10==D.getUTCHours()&&37==D.getUTCMinutes()&&6==D.getUTCSeconds()&&708==D.getUTCMilliseconds()}catch(L){}b("json")||(D||(P=Math.floor,K=[0,31,59,90,120,151,181,212,243,273,304,334],R=function(a,b){return K[b]+365*(a-1970)+P((a-1969+(b=+(1<b)))/4)-P((a-1901+b)/100)+P((a-1601+b)/400)}),(u={}.hasOwnProperty)||(u=function(a){var b={},d;(b.__proto__=null,b.__proto__={toString:1},b).toString!=p?u=function(a){var b=this.__proto__;a=a in(this.__proto__=null,this);this.__proto__=b;return a}:(d=b.constructor,u=function(a){var b=(this.constructor||d).prototype;return a in this&&!(a in b&&this[a]===b[a])});b=null;return u.call(this,a)}),n=function(a,b){var d=0,e,g,k;(e=function(){this.valueOf=0}).prototype.valueOf=0;g=new e;for(k in g)u.call(g,k)&&d++;e=g=null;d?d=2==d?function(a,b){var d={},e="[object Function]"==p.call(a),g;for(g in a)!(e&&"prototype"==g||u.call(d,g))&&(d[g]=1)&&u.call(a,g)&&b(g)}:function(a,b){var d="[object Function]"==p.call(a),e,g;for(e in a)d&&"prototype"==e||!u.call(a,e)||(g="constructor"===e)||b(e);(g||u.call(a,e="constructor"))&&b(e)}:(g="valueOf toString toLocaleString propertyIsEnumerable isPrototypeOf hasOwnProperty constructor".split(" "),d=function(a,b){var d="[object Function]"==p.call(a),e;for(e in a)d&&"prototype"==e||!u.call(a,e)||b(e);for(d=g.length;e=g[--d];u.call(a,e)&&b(e));});d(a,b)},b("json-stringify")||(k={"\\":"\\\\",'"':'\\"',"\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t"},g=function(a,b){return("000000"+(b||0)).slice(-a)},a=function(a){for(var b='"',d=0,e;e=a.charAt(d);d++)b+=-1<'\\"\b\f\n\r\t'.indexOf(e)?k[e]:k[e]=" ">e?"\\u00"+g(2,e.charCodeAt(0).toString(16)):e;return b+'"'},d=function(b,e,k,m,r,K,D){var w=e[b],y,B,C,E,G,I,H,ja,Ba;if("object"==typeof w&&w)if(y=p.call(w),"[object Date]"!=y||u.call(w,"toJSON"))"function"==typeof w.toJSON&&("[object Number]"!=y&&"[object String]"!=y&&"[object Array]"!=y||u.call(w,"toJSON"))&&(w=w.toJSON(b));else if(w>-1/0&&w<1/0){if(R){C=P(w/864E5);for(y=P(C/365.2425)+1970-1;R(y+1,0)<=C;y++);for(B=P((C-R(y,0))/30.42);R(y,B+1)<=C;B++);C=1+C-R(y,B);E=(w%864E5+864E5)%864E5;G=P(E/36E5)%24;I=P(E/6E4)%60;H=P(E/1E3)%60;E%=1E3}else y=w.getUTCFullYear(),B=w.getUTCMonth(),C=w.getUTCDate(),G=w.getUTCHours(),I=w.getUTCMinutes(),H=w.getUTCSeconds(),E=w.getUTCMilliseconds();w=(0>=y||1E4<=y?(0>y?"-":"+")+g(6,0>y?-y:y):g(4,y))+"-"+g(2,B+1)+"-"+g(2,C)+"T"+g(2,G)+":"+g(2,I)+":"+g(2,H)+"."+g(3,E)+"Z"}else w=null;k&&(w=k.call(e,b,w));if(null===w)return"null";y=p.call(w);if("[object Boolean]"==y)return""+w;if("[object Number]"==y)return w>-1/0&&w<1/0?""+w:"null";if("[object String]"==y)return a(w);if("object"==typeof w){for(b=D.length;b--;)if(D[b]===w)throw TypeError();D.push(w);ja=[];e=K;K+=r;if("[object Array]"==y){B=0;for(b=w.length;B<b;Ba||(Ba=!0),B++)y=d(B,w,k,m,r,K,D),ja.push(void 0===y?"null":y);b=Ba?r?"[\n"+K+ja.join(",\n"+K)+"\n"+e+"]":"["+ja.join(",")+"]":"[]"}else n(m||w,function(b){var e=d(b,w,k,m,r,K,D);void 0!==e&&ja.push(a(b)+":"+(r?" ":"")+e);Ba||(Ba=!0)}),b=Ba?r?"{\n"+K+ja.join(",\n"+K)+"\n"+e+"}":"{"+ja.join(",")+"}":"{}";D.pop();return b}},m.stringify=function(a,b,e){var g,k,m,n,r,u;if("function"==typeof b||"object"==typeof b&&b)if("[object Function]"==p.call(b))k=b;else if("[object Array]"==p.call(b))for(m={},n=0,r=b.length;n<r;u=b[n++],("[object String]"==p.call(u)||"[object Number]"==p.call(u))&&(m[u]=1));if(e)if("[object Number]"==p.call(e)){if(0<(e-=e%1))for(g="",10<e&&(e=10);g.length<e;g+=" ");}else"[object String]"==p.call(e)&&(g=10>=e.length?e:e.slice(0,10));return d("",(u={},u[""]=a,u),k,m,g,"",[])}),b("json-parse")||(e=String.fromCharCode,B={"\\":"\\",'"':'"',"/":"/",b:"\b",t:"\t",n:"\n",f:"\f",r:"\r"},E=function(){y=I=null;throw SyntaxError();},G=function(){for(var a=I,b=a.length,d,g,k,m,n;y<b;)if(d=a.charAt(y),-1<"\t\r\n ".indexOf(d))y++;else{if(-1<"{}[]:,".indexOf(d))return y++,d;if('"'==d){g="@";for(y++;y<b;)if(d=a.charAt(y)," ">d)E();else if("\\"==d)if(d=a.charAt(++y),-1<'\\"/btnfr'.indexOf(d))g+=B[d],y++;else if("u"==d){k=++y;for(m=y+4;y<m;y++)d=a.charAt(y),"0"<=d&&"9">=d||"a"<=d&&"f">=d||"A"<=d&&"F">=d||E();g+=e("0x"+a.slice(k,y))}else E();else{if('"'==d)break;g+=d;y++}if('"'==a.charAt(y))return y++,g}else{k=y;"-"==d&&(n=!0,d=a.charAt(++y));if("0"<=d&&"9">=d){for("0"==d&&(d=a.charAt(y+1),"0"<=d&&"9">=d)&&E();y<b&&(d=a.charAt(y),"0"<=d&&"9">=d);y++);if("."==a.charAt(y)){for(m=++y;m<b&&(d=a.charAt(m),"0"<=d&&"9">=d);m++);m==y&&E();y=m}d=a.charAt(y);if("e"==d||"E"==d){d=a.charAt(++y);"+"!=d&&"-"!=d||y++;for(m=y;m<b&&(d=a.charAt(m),"0"<=d&&"9">=d);m++);m==y&&E();y=m}return+a.slice(k,y)}n&&E();if("true"==a.slice(y,y+4))return y+=4,!0;if("false"==a.slice(y,y+5))return y+=5,!1;if("null"==a.slice(y,y+4))return y+=4,null}E()}return"$"},w=function(a){var b,d;"$"==a&&E();if("string"==typeof a){if("@"==a.charAt(0))return a.slice(1);if("["==a){for(b=[];;d||(d=!0)){a=G();if("]"==a)break;d&&(","==a?(a=G(),"]"==a&&E()):E());","==a&&E();b.push(w(a))}return b}if("{"==a){for(b={};;d||(d=!0)){a=G();if("}"==a)break;d&&(","==a?(a=G(),"}"==a&&E()):E());","!=a&&"string"==typeof a&&"@"==a.charAt(0)&&":"==G()||E();b[a.slice(1)]=w(G())}return b}E()}return a},H=function(a,b,d){d=C(a,b,d);void 0===d?delete a[b]:a[b]=d},C=function(a,b,d){var e=a[b],g;if("object"==typeof e&&e)if("[object Array]"==p.call(e))for(g=e.length;g--;)H(e,g,d);else n(e,function(a){H(e,a,d)});return d.call(a,b,e)},m.parse=function(a,b){var d,e;y=0;I=a;d=w(G());"$"!=G()&&E();y=I=null;return b&&"[object Function]"==p.call(b)?C((e={},e[""]=d,e),"",b):d}));r&&define(function(){return m})}()})();(function(p,b){if("object"==typeof exports&&"object"==typeof module)return b(exports);if("function"==typeof define&&define.amd)return define(["exports"],b);b((p.tern||(p.tern={})).signal={})})(this,function(p){function b(b,a){var d=this._handlers||(this._handlers=Object.create(null));(d[b]||(d[b]=[])).push(a)}function v(b,a){var d=this._handlers&&this._handlers[b];if(d)for(var e=0;e<d.length;++e)if(d[e]==a){d.splice(e,1);break}}function u(b,a){var d=b._handlers&&b._handlers[a];return d&&d.length?d.slice():k}function n(b,a,d,e,k){b=u(this,b);for(var m=0;m<b.length;++m)b[m].call(this,a,d,e,k)}function r(b,a,d,e,k){b=u(this,b);for(var m=0;m<b.length;++m){var n=b[m].call(this,a,d,e,k);if(n)return n}}function m(b){return(b=this._handlers&&this._handlers[b])&&0<b.length&&b}var k=[];p.mixin=function(g){g.on=b;g.off=v;g.signal=n;g.signalReturnFirst=r;g.hasHandler=m;return g}});(function(p,b){if("object"==typeof exports&&"object"==typeof module)return b(exports,require("./infer"),require("./signal"),require("acorn"),require("acorn/dist/walk"));if("function"==typeof define&&define.amd)return define(["exports","./infer","./signal","acorn/dist/acorn","acorn/dist/walk"],b);b(p.tern||(p.tern={}),tern,tern.signal,acorn,acorn.walk)})(this,function(p,b,v,u,n){function r(a,b){this.name=a;this.parent=b;this.scope=this.text=this.ast=this.lineOffsets=null}function m(a,d){var e={directSourceFile:d,allowReturnOutsideFunction:!0,allowImportExportEverywhere:!0,ecmaVersion:a.options.ecmaVersion},g=a.signalReturnFirst("preParse",d.text,e)||d.text,e=b.parse(g,e);a.signal("postParse",e,g);return e}function k(a,d,e){a.text=e.options.stripCRs?d.replace(/\r\n/g,"\n"):d;b.withContext(e.cx,function(){a.ast=m(e,a)});a.lineOffsets=null}function g(a,e,g){if(e.query&&!pa.hasOwnProperty(e.query.type))return g("No query type '"+e.query.type+"' defined");var k=e.query;k||g(null,{});var m=e.files||[];m.length&&++a.uses;for(var n=0;n<m.length;++n){var p=m[n];p.name=a.normalizeFilename(p.name);"delete"==p.type?a.delFile(p.name):d(a,p.name,null,"full"==p.type?p.text:null)}var r="number"==typeof e.timeout?[e.timeout]:null;if(k){var u=pa[k.type];if(u.takesFile){if("string"!=typeof k.file)return g(".query.file must be a string");/^#/.test(k.file)||d(a,k.file,null)}B(a,r,function(d){if(d)return g(d);var e=u.takesFile&&H(a,m,k.file);if(u.fullFile&&"part"==e.type)return g("Can't run a "+k.type+" query on a file fragment");b.resetGuessing();b.withContext(a.cx,function(){var d,m=function(){d=u.run(a,k,e)};try{r?b.withTimeout(r[0],m):m()}catch(n){return a.options.debug&&"TernError"!=n.name&&console.error(n.stack),g(n)}g(null,d)})})}else B(a,r,function(){})}function a(a,d){b.withContext(a.cx,function(){d.scope=a.cx.topScope;a.signal("beforeLoad",d);b.analyze(d.ast,d.name,d.scope);a.signal("afterLoad",d)});return d}function d(a,b,d,e){var g=a.findFile(b);if(g)null!=e&&(g.scope&&(a.needsPurge.push(b),g.scope=null),k(g,e,a)),I(a,g.parent)>I(a,d)&&(g.parent=d,g.excluded&&(g.excluded=null));else{var m=new r(b,d);a.files.push(m);a.fileMap[b]=m;null!=e?k(m,e,a):a.options.async?(a.startAsyncAction(),a.options.getFile(b,function(b,d){k(m,d||"",a);a.finishAsyncAction(b)})):k(m,a.options.getFile(b)||"",a)}}function e(a,b,d){var e=function(){a.off("everythingFetched",e);clearTimeout(g);B(a,b,d)};a.on("everythingFetched",e);var g=setTimeout(e,a.options.fetchTimeout)}function B(d,g,k){if(d.pending)return e(d,g,k);var m=d.fetchError;if(m)return d.fetchError=null,k(m);0<d.needsPurge.length&&b.withContext(d.cx,function(){b.purge(d.needsPurge);d.needsPurge.length=0});for(var m=!0,n=0;n<d.files.length;){for(var p=[];n<d.files.length;++n){var r=d.files[n];null==r.text?m=!1:null!=r.scope||r.excluded||p.push(r)}p.sort(function(a,b){return I(d,a.parent)-I(d,b.parent)});for(var u=0;u<p.length;u++)if(r=p[u],r.parent&&!D(d,r))r.excluded=!0;else if(g){var L=+new Date;b.withTimeout(g[0],function(){a(d,r)});g[0]-=+new Date-L}else a(d,r)}m?k():e(d,g,k)}function E(a){var b=a.indexOf("\n");return 0>b?a:a.slice(0,b)}function G(a,b,d){var e=Math.max(0,d-500),g=null;if(!/^\s*$/.test(a))for(;;){e=b.indexOf(a,e);if(0>e||e>d+500)break;if(null==g||Math.abs(g-d)>Math.abs(e-d))g=e;e+=a.length}return g}function w(a){for(var b=0;a;++b,a=a.prev);return b}function C(a){a=Error(a);a.name="TernError";return a}function H(a,d,e){var g=e.match(/^#(\d+)$/);if(!g)return a.findFile(e);var k=d[g[1]];if(!k||"delete"==k.type)throw C("Reference to unknown file "+e);if("full"==k.type)return a.fileMap[k.name];var p=k.backing=a.fileMap[k.name];d=k.offset;k.offsetLines&&(d={line:k.offsetLines,ch:0});k.offset=d=N(p,null==k.offsetLines?k.offset:{line:k.offsetLines,ch:0},!0);var r=E(k.text),u=G(r,p.text,d),L=null==u?Math.max(0,p.text.lastIndexOf("\n",d)):u,v,U;b.withContext(a.cx,function(){b.purge(k.name,L,L+k.text.length);var d=k.text,e;if(e=d.match(/(?:"([^"]*)"|([\w$]+))\s*:\s*function\b/)){var g=n.findNodeAround(k.backing.ast,L,"ObjectExpression");g&&g.node.objType&&(v={type:g.node.objType,prop:e[2]||e[1]})}if(u&&(e=r.match(/^(.*?)\bfunction\b/))){var g=e[1].length,J="";for(e=0;e<g;++e)J+=" ";k.text=J+d.slice(g);U=!0}e=b.scopeAt(p.ast,L,p.scope);d=b.scopeAt(p.ast,L+d.length,p.scope);d=k.scope=w(e)<w(d)?d:e;k.ast=m(a,k);b.analyze(k.ast,k.name,d);if(v||U)if(g=b.scopeAt(k.ast,r.length,e),g.fnType)if(v)v.type.getProp(v.prop).addType(g.fnType);else if(U&&(d=b.scopeAt(p.ast,L+r.length,p.scope),d!=e&&d.fnType&&(d=d.fnType,(g=g.fnType)&&(g.name==d.name||!d.name)))){e=0;for(J=Math.min(d.args.length,g.args.length);e<J;++e)d.args[e].propagate(g.args[e]);d.self.propagate(g.self);g.retval.propagate(d.retval)}});return k}function y(a){var b=0;n.simple(a,{Expression:function(){++b}});return b}function I(a,b){for(var d=0;b;)b=a.fileMap[b].parent,++d;return d}function D(a,b){var d;for(d=b;;){var e=a.fileMap[d.parent];if(!e.parent)break;d=e}d=d.name;var e=y(b.ast),g=a.budgets[d];null==g&&(g=a.budgets[d]=a.options.dependencyBudget);if(g<e)return!1;a.budgets[d]=g-e;return!0}function P(a){return"number"==typeof a||"object"==typeof a&&"number"==typeof a.line&&"number"==typeof a.ch}function K(a){if(a.query){if("string"!=typeof a.query.type)return".query.type must be a string";if(a.query.start&&!P(a.query.start))return".query.start must be a position";if(a.query.end&&!P(a.query.end))return".query.end must be a position"}if(a.files){if(!Array.isArray(a.files))return"Files property must be an array";for(var b=0;b<a.files.length;++b){var d=a.files[b];if("object"!=typeof d)return".files[n] must be objects";if("string"!=typeof d.name)return".files[n].name must be a string";if("delete"!=d.type){if("string"!=typeof d.text)return".files[n].text must be a string";if("part"==d.type){if(!P(d.offset)&&"number"!=typeof d.offsetLines)return".files[n].offset must be a position"}else if("full"!=d.type)return'.files[n].type must be "full" or "part"'}}}}function R(a,b){if(!a)return{line:0,ch:0};for(var d=a.lineOffsets||(a.lineOffsets=[0]),e=a.text,g,k,m=d.length-1;0<=m;--m)d[m]<=b&&(g=m*va,k=d[m]);for(;;){d=e.indexOf("\n",k);if(d>=b||0>d)break;k=d+1;++g}return{line:g,ch:b-k}}function L(a){for(var b in a)null==a[b]&&delete a[b];return a}function U(a,b){"string"!=typeof a&&(a=a.name,b=b.name);var d=/^[A-Z]/.test(a),e=/^[A-Z]/.test(b);return d==e?a<b?-1:a==b?0:1:d?1:-1}function aa(a,b){for(var d=0;d<a.properties.length;d++){var e=a.properties[d];if(e.key.start<=b&&e.key.end>=b)return e}}function V(a,b,d){if(a=Ga(a,b,d))return a;throw C("No expression at the given position.");}function ua(a){return a&&(a=a.getType())&&a instanceof b.Obj?a:null}function Ea(a,d,e,g){var k;g&&(b.resetGuessing(),k=b.expressionType(g));if(a=a.hasHandler("typeAt"))for(var m=N(e,d.end),n=0;n<a.length;n++)k=a[n](e,m,g,k);if(!k)throw C("No type found at the given position.");var p;"ObjectExpression"==g.node.type&&null!=d.end&&(p=aa(g.node,N(e,d.end)))&&(d=p.key.name,(e=ua(b.typeFromContext(e.ast,g)))&&e.hasProp(d)?k=e.hasProp(d):(e=ua(k))&&e.hasProp(d)&&(k=e.hasProp(d)));return k}function oa(a,b){if(!b)return null;if("full"==a.docFormat)return b;var d=/.\n[\s@\n]/.exec(b);d&&(b=b.slice(0,d.index+1));b=b.replace(/\n\s*/g," ");if(100>b.length)return b;d=/[\.!?] [A-Z]/g;d.lastIndex=80;(d=d.exec(b))&&(b=b.slice(0,d.index+1));return b}function ia(a,d,e){e.url||(e.url=d.url);e.doc||(e.doc=oa(a,d.doc));e.origin||(e.origin=d.origin);var g,k=b.cx().protos;!e.url&&!e.doc&&d.proto&&(g=d.proto.hasCtor)&&d.proto!=k.Object&&d.proto!=k.Function&&d.proto!=k.Array&&(e.url=g.url,e.doc=oa(a,g.doc))}function Fa(a,d,e,g,k){function m(a){return function(b,e){if(k)for(var g=e;g!=p;g=g.prev){var m=g.hasProp(k);if(m)throw C("Renaming `"+n+"` to `"+k+"` would make a variable at line "+(R(a,b.start).line+1)+" point to the definition at line "+(R(a,m.name.start).line+1));}r.push({file:a.name,start:ja(d,a,b.start),end:ja(d,a,b.end)})}}for(var n=g.node.name,p=g.state;p&&!(n in p.props);p=p.prev);if(!p)throw C("Could not find a definition for "+n);var r=[];if(p.originNode){g="local";if(k){for(a=p.prev;a&&!(k in a.props);a=a.prev);a&&b.findRefs(p.originNode,p,k,a,function(a){throw C("Renaming `"+n+"` to `"+k+"` would shadow the definition used at line "+(R(e,a.start).line+1));})}b.findRefs(p.originNode,p,n,p,m(e))}else if(g="global",d.onlySourceFile)b.findRefs(e.ast,e.scope,n,p,m(e));else for(var u=0;u<a.files.length;++u){var L=a.files[u];b.findRefs(L.ast,L.scope,n,p,m(L))}return{refs:r,type:g,name:n}}function Va(a,d,e,g,k){function m(a){return function(b){p.push({file:a.name,start:ja(d,a,b.start),end:ja(d,a,b.end)})}}var n=b.expressionType(g);"MethodDefinition"==g.node.type&&(n=n.propertyOf);g=n.getObjType();if(!g)throw C("Couldn't determine type of base object.");var p=[];if(d.onlySourceFile)b.findPropRefs(e.ast,e.scope,g,k.name,m(e));else for(e=0;e<a.files.length;++e)n=a.files[e],b.findPropRefs(n.ast,n.scope,g,k.name,m(n));return{refs:p,name:k.name}}var da=Object.create(null);p.registerPlugin=function(a,b){da[a]=b};var ea=p.defaultOptions={debug:!1,async:!1,getFile:function(a,b){this.async&&b(null,null)},normalizeFilename:function(a){return a},defs:[],plugins:{},fetchTimeout:1E3,dependencyBudget:2E4,reuseInstances:!0,stripCRs:!1,ecmaVersion:6,projectDir:"/",parent:null},pa={completions:{takesFile:!0,run:function(a,d,e){function g(b,e,k,m){if(!R&&!1===d.omitObjectPrototype||e!=a.cx.protos.Object||p)!1!==d.filter&&p&&0!==(d.caseInsensitive?b.toLowerCase():b).indexOf(p)||L&&L.props[b]||(b=Wa(d,r,b,e&&e.props[b],k),m&&b&&"string"!=typeof b&&m(b))}if(null==d.end)throw C("missing .query.end field");var k=a.signalReturnFirst("completion",e,d);if(k)return k;for(var m=k=N(e,d.end),n=e.text;k&&u.isIdentifierChar(n.charCodeAt(k-1));)--k;if(!1!==d.expandWordForward)for(;m<n.length&&u.isIdentifierChar(n.charCodeAt(m));)++m;var p=n.slice(k,m),r=[],L;d.caseInsensitive&&(p=p.toLowerCase());var v,K,w,D=b.findExpressionAround(e.ast,null,k,e.scope),V,R;if(D){var P=D.node;if("MemberExpression"==P.type&&P.object.end<k)V=D;else if("Literal"==P.type&&"string"==typeof P.value&&P.start==k-1&&P.end<=m+1){var y=b.parentNode(P,e.ast);"MemberExpression"==y.type&&y.property==P&&(V={node:y,state:D.state})}else"ObjectExpression"==P.type&&((P=aa(P,m))?(R=D,K=w=P.key.name):p||/:\s*$/.test(e.text.slice(0,k))||(R=D,K=w=!0))}if(R)v=b.typeFromContext(e.ast,R),L=R.node.objType;else if(V)K=V.node.property,K="Literal"==K.type?K.value.slice(1):K.name,V.node=V.node.object,v=b.expressionType(V);else if("."==n.charAt(k-1)){for(V=k-1;V&&("."==n.charAt(V-1)||u.isIdentifierChar(n.charCodeAt(V-1)));)V--;if(n=n.slice(V,k-1))v=b.def.parsePath(n,e.scope).getObjType(),K=p}if(null!=K){a.cx.completingProperty=K;v&&b.forAllPropertiesOf(v,g);!r.length&&!1!==d.guess&&v&&v.guessProperties&&v.guessProperties(function(a,b,d){a!=K&&"\u2716"!=a&&g(a,b,d)});if(!r.length&&2<=p.length&&!1!==d.guess)for(K in a.cx.props)g(K,a.cx.props[K][0],0);v="memberCompletion"}else b.forAllLocalsAt(e.ast,k,e.scope,g),d.includeKeywords&&Ba.forEach(function(a){g(a,null,0,function(a){a.isKeyword=!0})}),v="variableCompletion";a.signal(v,e,k,m,g);!1!==d.sort&&r.sort(U);a.cx.completingProperty=null;return{start:ja(d,e,k),end:ja(d,e,m),isProperty:!!K,isObjectKey:!!w,completions:r}}},properties:{run:function(a,b){var d=b.prefix,e=[],g;for(g in a.cx.props)"\x3ci\x3e"==g||d&&0!==g.indexOf(d)||e.push(g);!1!==b.sort&&e.sort(U);return{completions:e}}},type:{takesFile:!0,run:function(a,d,e){var g=Ga(e,d),k;e=a=Ea(a,d,e,g);a=d.preferFunction?a.getFunctionType()||a.getType():a.getType();g&&("Identifier"==g.node.type?k=g.node.name:"MemberExpression"!=g.node.type||g.node.computed?"MethodDefinition"!=g.node.type||g.node.computed||(k=g.node.key.name):k=g.node.property.name);if(null!=d.depth&&"number"!=typeof d.depth)throw C(".query.depth must be a number");g={guess:b.didGuess(),type:b.toString(e,d.depth),name:a&&a.name,exprName:k,doc:e.doc,url:e.url};a&&ia(d,a,g);return L(g)}},documentation:{takesFile:!0,run:function(a,d,e){var g=Ga(e,d);e=Ea(a,d,e,g);a={url:e.url,doc:oa(d,e.doc),type:b.toString(e)};(e=e.getType())&&ia(d,e,a);return L(a)}},definition:{takesFile:!0,run:function(a,d,e){var g=Ga(e,d),k=Ea(a,d,e,g);if(b.didGuess())return{};e=Ma(k);g={url:k.url,doc:oa(d,k.doc),origin:k.origin};if(k.types)for(var m=k.types.length-1;0<=m;--m){var n=k.types[m];ia(d,n,g);e||(e=Ma(n))}e&&e.node?(a=e.node.sourceFile||a.fileMap[e.origin],k=ja(d,a,e.node.start),d=ja(d,a,e.node.end),g.start=k,g.end=d,g.file=e.origin,d=Math.max(0,e.node.start-50),g.contextOffset=e.node.start-d,g.context=a.text.slice(d,d+50)):e&&(g.file=e.origin,ka(a,d,e,g));return L(g)}},refs:{takesFile:!0,fullFile:!0,run:function(a,b,d){var e=V(d,b,!0);if(e&&"Identifier"==e.node.type)return Fa(a,b,d,e);if(e&&"MemberExpression"==e.node.type&&!e.node.computed){var g=e.node.property;e.node=e.node.object;return Va(a,b,d,e,g)}if(e&&"ObjectExpression"==e.node.type)for(var g=N(d,b.end),k=0;k<e.node.properties.length;++k){var m=e.node.properties[k].key;if(m.start<=g&&m.end>=g)return Va(a,b,d,e,m)}else if(e&&"MethodDefinition"==e.node.type)return g=e.node.key,Va(a,b,d,e,g);throw C("Not at a variable or property name.");}},rename:{takesFile:!0,fullFile:!0,run:function(a,b,d){if("string"!=typeof b.newName)throw C(".query.newName should be a string");var e=V(d,b);if(!e||"Identifier"!=e.node.type)throw C("Not at a variable.");d=Fa(a,b,d,e,b.newName);e=d.refs;delete d.refs;d.files=a.files.map(function(a){return a.name});a=d.changes=[];for(var g=0;g<e.length;++g){var k=e[g];k.text=b.newName;a.push(k)}return d}},files:{run:function(a){return{files:a.files.map(function(a){return a.name})}}}};p.defineQueryType=function(a,b){pa[a]=b};r.prototype.asLineChar=function(a){return R(this,a)};(p.Server=function(a){this.cx=null;this.options=a||{};for(var b in ea)a.hasOwnProperty(b)||(a[b]=ea[b]);this.projectDir=a.projectDir.replace(/\\/g,"/");/\/$/.test(this.projectDir)||(this.projectDir+="/");this.parent=a.parent;this.handlers=Object.create(null);this.files=[];this.fileMap=Object.create(null);this.needsPurge=[];this.budgets=Object.create(null);this.pending=this.uses=0;this.asyncError=null;this.mod={};this.defs=a.defs.slice(0);this.plugins=Object.create(null);for(var d in a.plugins)a.plugins.hasOwnProperty(d)&&this.loadPlugin(d,a.plugins[d]);this.reset()}).prototype=v.mixin({addFile:function(a,b,e){!e||e in this.fileMap||(e=null);a in this.fileMap||(a=this.normalizeFilename(a));d(this,a,e,b)},delFile:function(a){if(a=this.findFile(a))this.needsPurge.push(a.name),this.files.splice(this.files.indexOf(a),1),delete this.fileMap[a.name]},reset:function(){this.signal("reset");this.cx=new b.Context(this.defs,this);this.uses=0;this.budgets=Object.create(null);for(var a=0;a<this.files.length;++a)this.files[a].scope=null;this.signal("postReset")},request:function(a,b){var d=K(a);if(d)return b(d);var e=this;g(this,a,function(a,d){b(a,d);40<e.uses&&(e.reset(),B(e,null,function(){}))})},findFile:function(a){return this.fileMap[this.normalizeFilename(a)]},flush:function(a){var d=this.cx;B(this,null,function(e){if(e)return a(e);b.withContext(d,a)})},startAsyncAction:function(){++this.pending},finishAsyncAction:function(a){a&&(this.asyncError=a);0===--this.pending&&this.signal("everythingFetched")},addDefs:function(a,b){b?this.defs.unshift(a):this.defs.push(a);this.cx&&this.reset()},deleteDefs:function(a){for(var b=0;b<this.defs.length;b++)if(this.defs[b]["!name"]==a){this.defs.splice(b,1);this.cx&&this.reset();break}},loadPlugin:function(a,b){1==arguments.length&&(b=this.options.plugins[a]||!0);if(!(a in this.plugins)&&a in da&&b){this.plugins[a]=!0;var d=da[a](this,b);if(d&&(d.defs&&this.addDefs(d.defs,d.loadFirst),d.passes))for(var e in d.passes)if(d.passes.hasOwnProperty(e))this.on(e,d.passes[e])}},normalizeFilename:function(a){a=this.options.normalizeFilename(a).replace(/\\/g,"/");0==a.indexOf(this.projectDir)&&(a=a.slice(this.projectDir.length));return a}});var va=25,N=p.resolvePos=function(a,b,d){if("number"!=typeof b){var e;a:{e=b.line;for(var g=a.text,k=a.lineOffsets||(a.lineOffsets=[0]),m=0,n=0,n=Math.min(Math.floor(e/va),k.length-1),m=k[n],n=n*va;n<e;){++n;m=g.indexOf("\n",m)+1;if(0===m){e=null;break a}0===n%va&&k.push(m)}e=m}if(null==e)if(d)b=a.text.length;else throw C("File doesn't contain a line "+b.line);else b=e+b.ch}if(b>a.text.length)if(d)b=a.text.length;else throw C("Position "+b+" is outside of file.");return b},ja=p.outputPos=function(a,b,d){return a.lineCharPositions?(a=R(b,d),"part"==b.type&&(a.line+=null!=b.offsetLines?b.offsetLines:R(b.backing,b.offset).line),a):d+("part"==b.type?b.offset:0)},Ba="break do instanceof typeof case else new var catch finally return void continue for switch while debugger function this with default if throw delete in try".split(" "),Wa=p.addCompletion=function(a,d,e,g,k){for(var m=a.types||a.docs||a.urls||a.origins,n=m||a.depths,p=0;p<d.length;++p){var r=d[p];if((n?r.name:r)==e)return}e=n?{name:e}:e;d.push(e);g&&m&&(b.resetGuessing(),d=g.getType(),e.guess=b.didGuess(),a.types&&(e.type=b.toString(g)),a.docs&&(m=oa(a,g.doc||d&&d.doc),null!=m&&(e.doc=m)),a.urls&&(m=g.url||d&&d.url,null!=m&&(e.url=m)),a.origins&&(g=g.origin||d&&d.origin,null!=g&&(e.origin=g)));a.depths&&(e.depth=k||0);return e},Ga=p.findQueryExpr=function(a,d,e){if(null==d.end)throw C("missing .query.end field");if(d.variable)return e=b.scopeAt(a.ast,N(a,d.end),a.scope),{node:{type:"Identifier",name:d.variable,start:d.end,end:d.end+1},state:e};var g=d.start&&N(a,d.start);d=N(a,d.end);var k=b.findExpressionAt(a.ast,g,d,a.scope);if(!k){a=b.findExpressionAround(a.ast,g,d,a.scope);var m;if(m=a){var n=a.node.body;n?(Array.isArray(n)?(m=n[0].start,n=n[n.length-1].end):(m=n.start,n=n.end),m=m<=d&&n>=d):m=!1;m=!m}m&&("ObjectExpression"==a.node.type||e||20>(null==g?d:g)-a.node.start||20>a.node.end-d)&&(k=a)}return k},Ma=p.getSpan=function(a){if(a.origin){if(a.originNode){var b=a.originNode;/^Function/.test(b.type)&&b.id&&(b=b.id);return{origin:a.origin,node:b}}if(a.span)return{origin:a.origin,span:a.span}}},ka=p.storeSpan=function(a,b,d,e){e.origin=d.origin;d.span?(d=/^(\d+)\[(\d+):(\d+)\]-(\d+)\[(\d+):(\d+)\]$/.exec(d.span),e.start=b.lineCharPositions?{line:Number(d[2]),ch:Number(d[3])}:Number(d[1]),e.end=b.lineCharPositions?{line:Number(d[5]),ch:Number(d[6])}:Number(d[4])):(a=a.fileMap[d.origin],e.start=ja(b,a,d.node.start),e.end=ja(b,a,d.node.end))};p.version="0.17.1"});(function(p){if("object"==typeof exports&&"object"==typeof module)return exports.init=p;if("function"==typeof define&&define.amd)return define({init:p});tern.def={init:p}})(function(p,b){function v(a,b,d){return a.call?a(b,d):a}function u(a,d){if("!ret"==d){if(a.retval)return a.retval;var e=new b.AVal;a.propagate(new b.IsCallee(b.ANull,[],null,e));return e}return a.getProp(d)}function n(a,d,e,g){return function(k,m){for(var n=[],p=0;p<d.length;p++)n.push(v(d[p],k,m));return new b.Fn(a,b.ANull,n,v(e,k,m),g)}}function r(a){return function(d,e){for(var g=new b.AVal,k=0;k<a.length;k++)v(a[k],d,e).propagate(g);g.maxWeight=1E5;return g}}function m(a){return function(d,e){return new b.Arr(a(d,e))}}function k(a){return function(d,e){return new b.Arr(a.map(function(a){return v(a,d,e)}))}}function g(d,e,g,k){var m=(new w(d,null,g,k)).parseType(!1,e,!0);if(/^fn\(/.test(d))for(d=0;d<m.args.length;++d)(function(d){var e=m.args[d];e instanceof b.Fn&&e.args&&e.args.length&&a(m,function(a,g){var k=g[d];k&&k.propagate(new b.IsCallee(b.cx().topScope,e.args,null,b.ANull))})})(d);return m}function a(a,b,d){var e=a.computeRet,g=a.retval;a.computeRet=function(a,k,m){var n=b(a,k,m);a=e?e(a,k,m):g;return d?n:a}}function d(a,d){for(var e=0;e<d.length&&a!=b.ANull;++e){var g=d[e];if("!"==g.charAt(0))if("!proto"==g)a=a instanceof b.Obj&&a.proto||b.ANull;else{var k=a.getFunctionType();a=k?"!ret"==g?k.retval&&k.retval.getType(!1)||b.ANull:(g=k.args&&k.args[Number(g.slice(1))])&&g.getType(!1)||b.ANull:b.ANull}else a instanceof b.Obj&&("prototype"==g&&a instanceof b.Fn||a.hasProp(g))?(g=a.getProp(g),a=!g||g.isEmpty()?b.ANull:g.types[0]):a=b.ANull}return a}function e(a){a=Object.create(a.prototype);a.props=Object.create(null);a.isShell=!0;return a}function B(a){if(!a["!type"]||/^(fn\(|\[|\+)/.test(a["!type"]))return!1;for(var b in a)if("!type"!=b&&"!doc"!=b&&"!url"!=b&&"!span"!=b&&"!data"!=b)return!1;return!0}function E(a,d,g){if(!a){if(a=d["!type"])if(/^fn\(/.test(a))a=e(b.Fn);else if("["==a.charAt(0))a=e(b.Arr);else if("+"==a.charAt(0))a=e(b.Obj);else throw Error("Invalid !type spec: "+a);else a=d["!stdProto"]?b.cx().protos[d["!stdProto"]]:e(b.Obj);a.name=g}for(var k in d)if(Object.prototype.hasOwnProperty.call(d,k)&&33!=k.charCodeAt(0)){var m=d[k];if("string"!=typeof m&&!B(m)){var n=a.defProp(k);E(n.getObjType(),m,g?g+"."+k:k).propagate(n)}}return a}function G(a,d,e){if(a.isShell){delete a.isShell;var k=d["!type"];k?g(k,e,a):(k=d["!proto"]&&g(d["!proto"]),b.Obj.call(a,k instanceof b.Obj?k:!0,e))}if((k=d["!effects"])&&a instanceof b.Fn)for(var m=0;m<k.length;++m)C(k[m],a);d["!doc"]&&(a.doc=d["!doc"]);d["!url"]&&(a.url=d["!url"]);d["!span"]&&(a.span=d["!span"]);d["!data"]&&(a.metaData=d["!data"]);for(var n in d)if(Object.prototype.hasOwnProperty.call(d,n)&&33!=n.charCodeAt(0)){var k=d[n],m=a.defProp(n),p=e?e+"."+n:n;if("string"==typeof k)m.isEmpty()&&g(k,p).propagate(m);else{if(B(k))if(m.isEmpty())g(k["!type"],p,null,!0).propagate(m);else continue;else G(m.getObjType(),k,p);k["!doc"]&&(m.doc=k["!doc"]);k["!url"]&&(m.url=k["!url"]);k["!span"]&&(m.span=k["!span"])}}return a}var w=p.TypeParser=function(a,b,d,e){this.pos=b||0;this.spec=a;this.base=d;this.forceNew=e};w.prototype={eat:function(a){if(1==a.length?this.spec.charAt(this.pos)==a:this.spec.indexOf(a,this.pos)==this.pos)return this.pos+=a.length,!0},word:function(a){var b="",d;for(a=a||/[\w$]/;(d=this.spec.charAt(this.pos))&&a.test(d);)b+=d,++this.pos;return b},error:function(){throw Error("Unrecognized type spec: "+this.spec+" (at "+this.pos+")");},parseFnType:function(a,d,e,g){var k=[],m=[],p=!1;if(!this.eat(")"))for(var r=0;;++r){var u=this.spec.indexOf(": ",this.pos),v;-1!=u&&(v=this.spec.slice(this.pos,u),/^[$\w?]+$/.test(v)?this.pos=u+2:v=null);m.push(v);u=this.parseType(a);u.call&&(p=!0);k.push(u);if(!this.eat(", ")){this.eat(")")||this.error();break}}var K,w,D;this.eat(" -\x3e ")?(r=this.pos,a=this.parseType(!0),a.call&&!p&&(K=a,a=b.ANull,w=r)):a=b.ANull;if(p)return n(d,k,a,g);e&&(D=this.base)?b.Fn.call(this.base,d,b.ANull,k,m,a,g):D=new b.Fn(d,b.ANull,k,m,a,g);K&&(D.computeRet=K);null!=w&&(D.computeRetSource=this.spec.slice(w,this.pos));return D},parseType:function(a,d,e){var g=this.parseTypeMaybeProp(a,d,e);if(!this.eat("|"))return g;for(var k=[g],g=g.call;;){var m=this.parseTypeMaybeProp(a,d,e);k.push(m);m.call&&(g=!0);if(!this.eat("|"))break}if(g)return r(k);a=new b.AVal;for(d=0;d<k.length;d++)k[d].propagate(a);a.maxWeight=1E5;return a},parseTypeMaybeProp:function(a,b,d){for(b=this.parseTypeInner(a,b,d);a&&this.eat(".");)b=this.extendWithProp(b);return b},extendWithProp:function(a){var b=this.word(/[\w<>$!:]/)||this.error();return a.apply?function(d,e){return u(a(d,e),b)}:u(a,b)},parseTypeInner:function(a,e,g){var n;if(this.eat("fn(")||(n=this.eat("fn*(")))return this.parseFnType(a,e,g,n);if(this.eat("[")){e=this.parseType(a);var p;for(n=e.call;this.eat(", ");){p||(p=[e]);var r=this.parseType(a);p.push(r);n=n||r.call}this.eat("]")||this.error();return n?p?k(p):m(e):g&&this.base?(b.Arr.call(this.base,p||e),this.base):new b.Arr(p||e)}if(this.eat("+")){e=this.word(/[\w$<>\.:!]/);p=b.cx().localDefs[e+".prototype"];if(!p){p=y(e);if(!(p instanceof b.Obj))return p;(e=d(p,["prototype"]))&&(e=e.getObjType())&&(p=e)}if(a&&this.eat("["))return this.parsePoly(p);if(g&&this.base){this.base.proto=p;if(e=p.hasCtor&&p.hasCtor.name||p.name)this.base.name=e;return this.base}return g&&this.forceNew?new b.Obj(p):b.getInstance(p)}if(this.eat(":"))return e=this.word(/[\w$\.]/),b.getSymbol(e);if(a&&this.eat("!")){var u=this.word(/\d/);return u?(u=Number(u),function(a,d){return d[u]||b.ANull}):this.eat("this")?function(a){return a}:this.eat("custom:")?(a=this.word(/[\w$]/),I[a]||function(){return b.ANull}):this.fromWord("!"+this.word(/[\w$<>\.!:]/))}return this.eat("?")?b.ANull:this.fromWord(this.word(/[\w$<>\.!:`]/))},fromWord:function(a){var d=b.cx();switch(a){case "number":return d.num;case "string":return d.str;case "bool":return d.bool;case "\x3ctop\x3e":return d.topScope}return d.localDefs&&a in d.localDefs?d.localDefs[a]:y(a)},parsePoly:function(a){var d="\x3ci\x3e",e;if(e=this.spec.slice(this.pos).match(/^\s*([\w$:]+)\s*=\s*/))d=e[1],this.pos+=e[0].length;var g=this.parseType(!0);this.eat("]")||this.error();if(g.call)return function(e,k){var m=new b.Obj(a);g(e,k).propagate(m.defProp(d));return m};e=new b.Obj(a);g.propagate(e.defProp(d));return e}};var C=p.parseEffect=function(d,e){var g;if(0==d.indexOf("propagate ")){g=new w(d,10);var k=g.parseType(!0);g.eat(" ")||g.error();var m=g.parseType(!0);a(e,function(a,b){v(k,a,b).propagate(v(m,a,b))})}else if(0==d.indexOf("call ")){var n=5==d.indexOf("and return ",5);g=new w(d,n?16:5);var p=g.parseType(!0),r=null,u=[];for(g.eat(" this\x3d")&&(r=g.parseType(!0));g.eat(" ");)u.push(g.parseType(!0));a(e,function(a,d){for(var e=v(p,a,d),g=r?v(r,a,d):b.ANull,k=[],m=0;m<u.length;++m)k.push(v(u[m],a,d));m=n?new b.AVal:b.ANull;e.propagate(new b.IsCallee(g,k,null,m));return m},n)}else if(g=d.match(/^custom (\S+)\s*(.*)/)){var K=I[g[1]];K&&a(e,g[2]?K(g[2]):K)}else if(0==d.indexOf("copy ")){g=new w(d,5);var D=g.parseType(!0);g.eat(" ");var P=g.parseType(!0);a(e,function(a,d){var e=v(D,a,d),g=v(P,a,d);e.forAllProps(function(a,d,e){e&&"\x3ci\x3e"!=a&&g.propagate(new b.DefProp(a,d))})})}else throw Error("Unknown effect type: "+d);},H,y=p.parsePath=function(a,e){var g=b.cx(),k=g.paths[a],m=a;if(null!=k)return k;g.paths[a]=b.ANull;k=e||H||g.topScope;if(g.localDefs)for(var n in g.localDefs)if(0==a.indexOf(n)){if(a==n)return g.paths[a]=g.localDefs[a];if("."==a.charAt(n.length)){k=g.localDefs[n];a=a.slice(n.length+1);break}}n=d(k,a.split("."));g.paths[m]=n==b.ANull?null:n;return n};p.load=function(a,d){d||(d=b.cx().topScope);var e=H;H=d;try{var g=d,k=b.cx(),m=k.parent;b.addOrigin(k.curOrigin=a["!name"]||"env#"+k.origins.length);k.localDefs=k.definitions[k.curOrigin]=Object.create(null);m&&m.signal("preLoadDef",a);E(g,a);var n=a["!define"];if(n){for(var p in n){var r=n[p];k.localDefs[p]="string"==typeof r?y(r):E(null,r,p)}for(p in n)r=n[p],"string"!=typeof r&&G(k.localDefs[p],n[p],p)}G(g,a);m&&m.signal("postLoadDef",a);k.curOrigin=k.localDefs=null}finally{H=e}};p.parse=function(a,d,e){var k=b.cx();d&&(k.origin=d,k.localDefs=k.definitions[d]);try{return"string"==typeof a?g(a,e):G(E(null,a,e),a,e)}finally{d&&(k.origin=k.localDefs=null)}};var I=Object.create(null);b.registerFunction=function(a,b){I[a]=b};var D=b.constraint({construct:function(a,b,d){this.created=a;this.target=b;this.spec=d},addType:function(a){if(a instanceof b.Obj&&5>this.created++){a=new b.Obj(a);var d=this.spec;d instanceof b.AVal&&(d=d.getObjType(!1));if(d instanceof b.Obj)for(var e in d.props){var g=d.props[e].types[0],k=a.defProp(e);g&&g instanceof b.Obj&&g.props.value&&(g=g.props.value.getType(!1))&&k.addType(g)}this.target.addType(a)}}});b.registerFunction("Object_create",function(a,d,e){if(e&&e.length&&"Literal"==e[0].type&&null==e[0].value)return new b.Obj;a=new b.AVal;d[0]&&d[0].propagate(new D(0,a,d[1]));return a});var P=b.constraint({construct:function(a){this.target=a},addType:function(a){a instanceof b.Obj&&(a.hasProp("value")?a.getProp("value").propagate(this.target):a.hasProp("get")&&a.getProp("get").propagate(new b.IsCallee(b.ANull,[],null,this.target)))}});b.registerFunction("Object_defineProperty",function(a,d,e){if(e&&3<=e.length&&"Literal"==e[1].type&&"string"==typeof e[1].value){a=d[0];var g=new b.AVal;a.propagate(new b.DefProp(e[1].value,g,e[1]));d[2].propagate(new P(g))}return b.ANull});b.registerFunction("Object_defineProperties",function(a,d,e){if(2<=d.length){var g=d[0];d[1].forAllProps(function(a,d,k){k&&(k=new b.AVal,g.propagate(new b.DefProp(a,k,e&&e[1])),d.propagate(new P(k)))})}return b.ANull});var K=b.constraint({construct:function(a,b,d){this.self=a;this.args=b;this.target=d},addType:function(a){if(a instanceof b.Fn){this.target.addType(new b.Fn(a.name,b.ANull,a.args.slice(this.args.length),a.argNames.slice(this.args.length),a.retval,a.generator));this.self.propagate(a.self);for(var d=0;d<Math.min(a.args.length,this.args.length);++d)this.args[d].propagate(a.args[d])}}});b.registerFunction("Function_bind",function(a,d){if(!d.length)return b.ANull;var e=new b.AVal;a.propagate(new K(d[0],d.slice(1),e));return e});b.registerFunction("Array_ctor",function(a,d){var e=new b.Arr;if(1!=d.length||!d[0].hasType(b.cx().num))for(var g=e.getProp("\x3ci\x3e"),k=0;k<d.length;++k)d[k].propagate(g);return e});b.registerFunction("Promise_ctor",function(a,d,e){a=b.cx().definitions.ecma6;if(!a||1>d.length)return b.ANull;var g=new b.Obj(a["Promise.prototype"]);e=g.defProp(":t",e&&e[0]);var k=new b.AVal;k.propagate(e);e=new b.Fn("execute",b.ANull,[k],["value"],b.ANull);d[0].propagate(new b.IsCallee(b.ANull,[e,a.Promise_reject],null,b.ANull));return g});var R=b.constraint({construct:function(a){this.output=a},addType:function(a){a.constructor==b.Obj&&"Promise"==a.name&&a.hasProp(":t")?a.getProp(":t").propagate(this.output):a.propagate(this.output)}});b.registerFunction("Promise_then",function(a,d,e){d=d.length&&d[0].getFunctionType();var g=b.cx().definitions.ecma6;if(!d||!g)return a;g=new b.Obj(g["Promise.prototype"]);e=g.defProp(":t",e&&e[0]);var k;d.retval.isEmpty()&&(k=a.getType())instanceof b.Obj&&k.hasProp(":t")&&k.getProp(":t").propagate(e,50);d.retval.propagate(new R(e));return g});b.registerFunction("getOwnPropertySymbols",function(a,d){if(!d.length)return b.ANull;var e=new b.AVal;d[0].forAllProps(function(a,d,g){g&&":"==a.charAt(0)&&e.addType(b.getSymbol(a.slice(1)))});return e});b.registerFunction("getSymbol",function(a,d,e){return e.length&&"Literal"==e[0].type&&"string"==typeof e[0].value?b.getSymbol(e[0].value):b.ANull});return p});(function(p){if("object"==typeof exports&&"object"==typeof module)return p(exports);if("function"==typeof define&&define.amd)return define(["exports"],p);p(tern.comment||(tern.comment={}))})(function(p){function b(b){return 14>b&&8<b||32===b||160===b}function v(p,n){for(;0<n;--n){var r=p.charCodeAt(n-1);if(10==r)break;if(!b(r))return!1}return!0}p.commentsBefore=function(p,n){var r=null,m=0,k;a:for(;0<n;){var g=p.charCodeAt(n-1);if(10==g)for(var a=--n,d=!1;0<a;--a)if(g=p.charCodeAt(a-1),47==g&&47==p.charCodeAt(a-2)){if(!v(p,a-2))break a;g=p.slice(a,n);!m&&k?r[0]=g+"\n"+r[0]:(r||(r=[])).unshift(g);k=!0;m=0;n=a-2;break}else if(10==g){if(!d&&1<++m)break a;break}else d||b(g)||(d=!0);else if(47==g&&42==p.charCodeAt(n-2)){for(a=n-2;1<a;--a)if(42==p.charCodeAt(a-1)&&47==p.charCodeAt(a-2)){if(!v(p,a-2))break a;(r||(r=[])).unshift(p.slice(a,n-2));k=!1;m=0;break}n=a-2}else if(b(g))--n;else break}return r};p.commentAfter=function(p,n){for(;n<p.length;){var r=p.charCodeAt(n);if(47==r){r=p.charCodeAt(n+1);if(47==r)r=p.indexOf("\n",n+2);else if(42==r)r=p.indexOf("*/",n+2);else break;return p.slice(n+2,0>r?p.length:r)}b(r)&&++n}};p.ensureCommentsBefore=function(b,n){return n.hasOwnProperty("commentsBefore")?n.commentsBefore:n.commentsBefore=p.commentsBefore(b,n.start)}});(function(p,b){if("object"==typeof exports&&"object"==typeof module)return b(exports,require("acorn"),require("acorn/dist/acorn_loose"),require("acorn/dist/walk"),require("./def"),require("./signal"));if("function"==typeof define&&define.amd)return define("exports acorn/dist/acorn acorn/dist/acorn_loose acorn/dist/walk ./def ./signal".split(" "),b);b(p.tern||(p.tern={}),acorn,acorn,acorn.walk,tern.def,tern.signal)})(this,function(p,b,v,u,n,r){function m(a,b){var d=Object.create(a);if(b)for(var e in b)d[e]=b[e];return d}function k(a,b,d){a=a.getType(!1);b=b.getType(!1);return a&&b?g(a,b,d):!0}function g(a,b,d){if(!a||5<=d)return b;if(!a||a==b||!b)return a;if(a.constructor!=b.constructor)return!1;if(a.constructor==ta){a=a.getProp("\x3ci\x3e").getType(!1);if(!a)return b;var e=b.getProp("\x3ci\x3e").getType(!1);if(!e||g(a,e,d+1))return b}else{if(a.constructor==Y){var m=e=0,n=0,p;for(p in a.props)e++,p in b.props&&k(a.props[p],b.props[p],d+1)&&n++;for(p in b.props)m++;return e&&m&&n<Math.max(e,m)/2?!1:e>m?a:b}return a.constructor==sa?a.args.length==b.args.length&&a.args.every(function(a,e){return k(a,b.args[e],d+1)})&&k(a.retval,b.retval,d+1)&&k(a.self,b.self,d+1)?a:!1:!1}}function a(a){for(var b=0,d=0,e=0,g=null,k=0;k<a.length;++k){var m=a[k];if(m instanceof ta)++b;else if(m instanceof sa)++d;else if(m instanceof Y)++e;else if(m instanceof Za){if(g&&m.name!=g.name)return null;g=m}}if(1<(b&&1)+(d&&1)+(e&&1)+(g&&1))return null;if(g)return g;for(var g=0,n=null,k=0;k<a.length;++k){var m=a[k],p=0;if(b)p=m.getProp("\x3ci\x3e").isEmpty()?1:2;else if(d){for(var p=1,r=0;r<m.args.length;++r)m.args[r].isEmpty()||++p;m.retval.isEmpty()||++p}else e&&(p=m.name?100:2);p>=g&&(g=p,n=m)}return n}function d(a,b){A.disabledComputing={fn:a,prev:A.disabledComputing};var d=b();A.disabledComputing=A.disabledComputing.prev;return d}function e(a){var b=a.charCodeAt(0);return 48<=b&&57>=b?!/\D/.test(a):!1}function B(a){return"__proto__"==a||"\u2716"==a||Db&&"__iterator__"==a}function E(a){if(A.workList)return a(A.workList);var b=[],d=0,e=A.workList=function(a,e,l){d<ab-Sb*b.length&&b.push(a,e,l,d)};a=a(e);for(e=0;e<b.length;e+=4){if(ma&&+new Date>=ma)throw new p.TimedOut;d=b[e+3]+1;b[e+1].addType(b[e],b[e+2])}A.workList=null;return a}function G(a,b,d){var e=A.curSuperCtor,g=A.curSuper;A.curSuperCtor=a;A.curSuper=b;a=d();A.curSuperCtor=e;A.curSuper=g;return a}function w(a){for(;a.isBlock;)a=a.prev;return a}function C(a,b){var d=w(a).fnType;d&&(d.instantiateScore=(d.instantiateScore||0)+b)}function H(a,b){try{return u.simple(a,{Expression:function(){if(0>=--b)throw Eb;}}),!0}catch(d){if(d==Eb)return!1;throw d;}}function y(a,b){var d=b.instantiateScore;if(!A.disabledComputing&&d&&b.args.length&&H(a,5*d))return C(w(b.originNode.scope.prev),d/2),I(a,b),!0;b.instantiateScore=null}function I(a,b){for(var e=0;e<b.args.length;++e)b.args[e]=new fa;b.self=new fa;b.computeRet=function(e,g){return d(b,function(){var d=A.curOrigin;A.curOrigin=b.origin;var k=a.scope,m=new Ha(k.prev,k.originNode),n;for(n in k.props)for(var p=m.defProp(n,k.props[n].originNode),r=0;r<g.length;++r)b.argNames[r]==n&&r<g.length&&g[r].propagate(p);for(r=b.argNames.length!=g.length?b.argNames.slice(0,g.length):b.argNames;r.length<g.length;)r.push("?");m.fnType=new sa(b.name,e,g,r,J,b.generator);m.fnType.originNode=b.originNode;if(b.arguments)for(k=m.fnType.arguments=new fa,m.defProp("arguments").addType(new ta(k)),r=0;r<g.length;++r)g[r].propagate(k);a.scope=m;u.recursive(a.body,m,null,Ia);u.recursive(a.body,m,null,Fb);A.curOrigin=d;return m.fnType.retval})}}function D(a){function b(a,e,l){if(!(3<l)&&a.forward)for(var g=0;g<a.forward.length;++g){var k=a.forward[g].propagatesTo();if(k){var m=e;if(!(k instanceof fa))if(k.target instanceof fa)m+=k.pathExt,k=k.target;else continue;if(k==d||(m=b(k,m,l+1)))return m}}}var d=a.retval;if(d!=J){var e,g;!d.isEmpty()&&(e=d.getType())instanceof ta&&(d=g=e.getProp("\x3ci\x3e"));e=b(a.self,"!this",0);for(var k=0;!e&&k<a.args.length;++k)e=b(a.args[k],"!"+k,0);if(e){g&&(e="["+e+"]");var m=(new n.TypeParser(e)).parseType(!0);a.computeRet=m.apply?m:function(){return m};a.computeRetSource=e;return!0}}}function P(a,b){return a.defProp(b.name,b)}function K(a){return"Identifier"==a.type?a.name:"AssignmentPattern"==a.type?K(a.left):"ObjectPattern"==a.type?"{"+a.properties.map(function(a){return K(a.value)}).join(", ")+"}":"ArrayPattern"==a.type?"["+a.elements.map(K).join(", ")+"]":"RestElement"==a.type?"..."+K(a.argument):"_"}function R(a){return"VariableDeclaration"==a.type&&"var"!=a.kind||"FunctionDeclaration"==a.type||"ClassDeclaration"==a.type}function L(a,b){return{inner:a,outer:b||a}}function U(a){if(a=a.getSymbolType())return a.asPropName()}function aa(a){switch(a){case "+":case "-":case "~":return A.num;case "!":return A.bool;case "typeof":return A.str;case "void":case "delete":return J}}function V(a){switch(a){case "\x3d\x3d":case "!\x3d":case "\x3d\x3d\x3d":case "!\x3d\x3d":case "\x3c":case "\x3e":case "\x3e\x3d":case "\x3c\x3d":case "in":case "instanceof":return!0}}function ua(a){if(a.regex)return ra(A.protos.RegExp);switch(typeof a.value){case "boolean":return A.bool;case "number":return A.num;case "string":return A.str;case "object":case "function":return a.value?ra(A.protos.RegExp):J}}function Ea(a,b){for(var d=0;d<a.params.length;d++){var e=a.params[d];"Identifier"!=e.type&&ia(e,b,a.scope.fnType.args[d])}}function oa(a,b){return b.hasProp(a.name)||A.topScope.defProp(a.name,a)}function ia(a,b,d){var e=ub[a.type];e&&e(a,b,d)}function Fa(a){a=w(a);return a.fnType?a.fnType.self:a}function Va(a){a.isEmpty()&&a.propertyOf&&(a.propertyOf.getProp(a.propertyName).addType(new Y,1),Va(a.propertyOf))}function da(a,b,d){!d&&a.id&&(d=a.id.name);var e=A.protos.Object,g,k;if(a.superClass)if("Literal"==a.superClass.type&&null==a.superClass.value)e=null;else{var m=N(a.superClass,b),n;(g=m.getFunctionType())&&(n=g.getProp("prototype").getObjType())?e=n:(g=m,k=m.getProp("prototype"))}var p=new Y(e,d&&d+".prototype");k&&k.propagate(new Pa(p));return G(g,k||e,function(){for(var e,g=a.body.body,k=0;k<g.length;k++)"constructor"==g[k].kind&&(e=g[k].value);var m=a.objType=e?N(e,b):new sa(d,J,[],null,J);m.originNode=a.id||e||a;e=ra(p,m);m.self.addType(e);m.defProp("prototype",a).addType(p);for(k=0;k<g.length;k++){var n=g[k],r;"constructor"!=n.kind&&(r=bb(n,b),"\x3ci\x3e"==r||"set"==n.kind?r=J:(r=(n["static"]?m:p).defProp(r,n.key),r.initializer=!0,"get"==n.kind&&(r=new Ya(e,[],null,r))),N(n.value,b,r),(n=r.getFunctionType())&&n.self.addType(e))}return m})}function ea(a,b,d){var e=1<a.length&&6>a.length;if(e){for(var g=!0,k,m=0;m<a.length;m++){var n=a[m];n?"Literal"!=n.type||k&&k!=typeof n.value?g=!1:k=typeof n.value:e=!1}g&&(e=!1)}if(e){e=[];for(m=0;m<a.length;++m)e.push(d(a[m],b));return new ta(e)}if(2>a.length)return new ta(a[0]&&d(a[0],b));e=new fa;for(m=0;m<a.length;m++)a[m]&&d(a[m],b).propagate(e);return new ta(e)}function pa(a){return function(b,d,e,g){b=a(b,d,g);e&&b.propagate(e);return b}}function va(a){return function(b,d,e,g){e||(e=new fa);a(b,d,e,g);return e}}function N(a,b,d,e){var g=Ta[a.type];return g?g(a,b,d,e):J}function ja(a){return"VariableDeclaration"==a.type?a.declarations[0].id:a}function Ba(a,b,d){var e=Array.isArray(a);e&&1==a.length&&(a=a[0],e=!1);return e?null==d?function(b){return-1<a.indexOf(b.origin)}:function(e,g){return g&&g.start>=b&&g.end<=d&&-1<a.indexOf(e.origin)}:null==d?function(b){return b.origin==a}:function(e,g){return g&&g.start>=b&&g.end<=d&&e.origin==a}}function Wa(a,b){var d=new Y(!0);d.defProp("done").addType(A.bool);b.propagate(d.defProp("value"));var d=new sa(null,J,a?[a]:[],a?["?"]:[],d),e=new Y(A.definitions.ecma6&&A.definitions.ecma6.generator_prototype||!0);e.defProp("next").addType(d);return e}function Ga(a,b){return a.generator?a.computeRet?Wa(a.yieldval,b):(!0===a.generator&&(a.generator=Wa(a.yieldval,b)),a.generator):b}function Ma(a,b,d){var e=ka(a,d).getFunctionType();if(!e)return J;var g=e.retval;if(e.computeRet){for(var k=0,g=[];k<b.length;++k)g.push(ka(b[k],d));k=J;"MemberExpression"==a.type&&(k=ka(a.object,d));g=e.computeRet(k,g,b)}return Ga(e,g)}function ka(a,b){var d=Tb[a.type];return d?d(a,b):J}var X=p.toString=function(a,b,d){return!a||a==d||b&&-3>b?"?":a.toString(b,d)},J=p.ANull=r.mixin({addType:function(){},propagate:function(){},getProp:function(){return J},forAllProps:function(){},hasType:function(){return!1},isEmpty:function(){return!0},getFunctionType:function(){},getObjType:function(){},getSymbolType:function(){},getType:function(){},gatherProperties:function(){},propagatesTo:function(){},typeHint:function(){},propHint:function(){},toString:function(){return"?"}}),fa=p.AVal=function(){this.types=[];this.forward=null;this.maxWeight=0};fa.prototype=m(J,{addType:function(a,b){b=b||100;if(this.maxWeight<b){this.maxWeight=b;if(1==this.types.length&&this.types[0]==a)return;this.types.length=0}else if(this.maxWeight>b||-1<this.types.indexOf(a))return;this.signal("addType",a);this.types.push(a);var d=this.forward;d&&E(function(e){for(var g=0;g<d.length;++g)e(a,d[g],b)})},propagate:function(a,b){if(!(a==J||a instanceof Qa&&this.forward&&2<this.forward.length)){b&&100!=b&&(a=new S(a,b));(this.forward||(this.forward=[])).push(a);var d=this.types;d.length&&E(function(e){for(var g=0;g<d.length;++g)e(d[g],a,b)})}},getProp:function(a){if(B(a))return J;var b=(this.props||(this.props=Object.create(null)))[a];b||(b=this.props[a]=new fa,this.propagate(new xa(a,b)));return b},forAllProps:function(a){this.propagate(new jc(a))},hasType:function(a){return-1<this.types.indexOf(a)},isEmpty:function(){return 0===this.types.length},getFunctionType:function(){for(var a=this.types.length-1;0<=a;--a)if(this.types[a]instanceof sa)return this.types[a]},getObjType:function(){for(var a=null,b=this.types.length-1;0<=b;--b){var d=this.types[b];if(d instanceof Y){if(d.name)return d;a||(a=d)}}return a},getSymbolType:function(){for(var a=this.types.length-1;0<=a;--a)if(this.types[a]instanceof $a)return this.types[a]},getType:function(b){return 0===this.types.length&&!1!==b?this.makeupType():1===this.types.length?this.types[0]:a(this.types)},toString:function(a,b){if(0==this.types.length)return X(this.makeupType(),a,b);if(1==this.types.length)return X(this.types[0],a,b);var d=ha(this.types);return 2<d.length?"?":d.map(function(d){return X(d,a,b)}).join("|")},makeupPropType:function(a){var b=this.propertyName,d=a.proto&&a.proto.hasProp(b);if(d&&(d=d.getType()))return d;if("\x3ci\x3e"!=b){if(a=a.hasProp("\x3ci\x3e"))return a.getType()}else if(a.props["\x3ci\x3e"]!=this)for(var e in a.props)if(b=a.props[e],!b.isEmpty())return b.getType()},makeupType:function(){var b=this.propertyOf&&this.makeupPropType(this.propertyOf);if(b)return b;if(!this.forward)return null;for(b=this.forward.length-1;0<=b;--b){var d=this.forward[b].typeHint();if(d&&!d.isEmpty())return Ub=!0,d}for(var d=Object.create(null),e=null,b=0;b<this.forward.length;++b){var g=this.forward[b].propHint();g&&"length"!=g&&"\x3ci\x3e"!=g&&"\u2716"!=g&&g!=A.completingProperty&&(d[g]=!0,e=g)}if(!e)return null;if(e=A.props[e]){var k=[],b=0;a:for(;b<e.length;++b){var m=e[b];for(g in d)if(!m.hasProp(g))continue a;m.hasCtor&&(m=ra(m));k.push(m)}if(g=a(k))return Ub=!0,g}},typeHint:function(){return this.types.length?this.getType():null},propagatesTo:function(){return this},gatherProperties:function(a,b){for(var d=0;d<this.types.length;++d)this.types[d].gatherProperties(a,b)},guessProperties:function(a){if(this.forward)for(var b=0;b<this.forward.length;++b){var d=this.forward[b].propHint();d&&a(d,null,0)}(b=this.makeupType())&&b.gatherProperties(a)}});var ha=p.simplifyTypes=function(a){var b=[],d=0;a:for(;d<a.length;++d){for(var e=a[d],k=0;k<b.length;k++){var m=g(e,b[k],0);if(m){b[k]=m;continue a}}b.push(e)}return b};r=p.constraint=function(a){var b=function(){this.origin=A.curOrigin;this.construct.apply(this,arguments)};b.prototype=Object.create(J);for(var d in a)a.hasOwnProperty(d)&&(b.prototype[d]=a[d]);return b};var xa=r({construct:function(a,b){this.prop=a;this.target=b},addType:function(a,b){a.getProp&&a.getProp(this.prop).propagate(this.target,b)},propHint:function(){return this.prop},propagatesTo:function(){if("\x3ci\x3e"==this.prop||!/[^\w_]/.test(this.prop))return{target:this.target,pathExt:"."+this.prop}}}),sb=p.PropHasSubset=p.DefProp=r({construct:function(a,b,d){this.prop=a;this.type=b;this.originNode=d},addType:function(a,b){if(a instanceof Y){var d=a.defProp(this.prop,this.originNode);d.origin||(d.origin=this.origin);this.type.propagate(d,b)}},propHint:function(){return this.prop}}),jc=r({construct:function(a){this.c=a},addType:function(a){a instanceof Y&&a.forAllProps(this.c)}}),Ya=p.IsCallee=r({construct:function(a,b,d,e){this.self=a;this.args=b;this.argNodes=d;this.retval=e;this.disabled=A.disabledComputing},addType:function(a,b){if(a instanceof sa){for(var d=0;d<this.args.length;++d)d<a.args.length&&this.args[d].propagate(a.args[d],b),a.arguments&&this.args[d].propagate(a.arguments,b);this.self.propagate(a.self,this.self==A.topScope?90:b);var d=a.computeRet,e=a.retval;if(d)for(var g=this.disabled;g;g=g.prev)if(g.fn==a||a.originNode&&g.fn.originNode==a.originNode)d=null;d&&(g=A.disabledComputing,A.disabledComputing=this.disabled,e=d(this.self,this.args,this.argNodes),A.disabledComputing=g);Ga(a,e).propagate(this.retval,b)}},typeHint:function(){for(var a=[],b=0;b<this.args.length;++b)a.push("?");return new sa(null,this.self,this.args,a,J)},propagatesTo:function(){return{target:this.retval,pathExt:".!ret"}}}),gb=r({construct:function(a,b,d,e){this.propName=a;this.args=b;this.argNodes=d;this.retval=e;this.disabled=A.disabledComputing},addType:function(a,b){var d=new Ya(a,this.args,this.argNodes,this.retval);d.disabled=this.disabled;a.getProp(this.propName).propagate(d,b)},propHint:function(){return this.propName}}),lb=p.IsCtor=r({construct:function(a,b){this.target=a;this.noReuse=b},addType:function(a,b){a instanceof sa&&(A.parent&&!A.parent.options.reuseInstances&&(this.noReuse=!0),a.getProp("prototype").propagate(new Qb(this.noReuse?!1:a,this.target),b))}}),ra=p.getInstance=function(a,b){if(!1===b)return new Y(a);b||(b=a.hasCtor);a.instances||(a.instances=[]);for(var d=0;d<a.instances.length;++d){var e=a.instances[d];if(e.ctor==b)return e.instance}d=new Y(a,b&&b.name);d.origin=a.origin;a.instances.push({ctor:b,instance:d});return d},Qb=p.IsProto=r({construct:function(a,b){this.ctor=a;this.target=b},addType:function(a,b){a instanceof Y&&(8<(this.count=(this.count||0)+1)||(a==A.protos.Array?this.target.addType(new ta):this.target.addType(ra(a,this.ctor))))}}),Dc=r({construct:function(a){this.fn=a},addType:function(a,b){if(a instanceof Y&&!a.hasCtor){a.hasCtor=this.fn;var d=new Oa(a,this.fn);d.addType(this.fn);a.forAllProps(function(a,b,e){e&&b.propagate(d)})}}}),Na=r({construct:function(a,b){this.other=a;this.target=b},addType:function(a,b){a==A.str?this.target.addType(A.str,b):a==A.num&&this.other.hasType(A.num)&&this.target.addType(A.num,b)},typeHint:function(){return this.other}}),ba=p.IfObj=r({construct:function(a){this.target=a},addType:function(a,b){a instanceof Y&&this.target.addType(a,b)},propagatesTo:function(){return this.target}}),Oa=r({construct:function(a,b){this.obj=a;this.ctor=b},addType:function(a){a instanceof sa&&a.self&&a.self.addType(ra(this.obj,this.ctor),4)}}),Pa=r({construct:function(a){this.obj=a},addType:function(a){a instanceof Y&&this.obj.proto==A.protos.Object&&this.obj.replaceProto(a)}}),S=r({construct:function(a,b){this.inner=a;this.weight=b},addType:function(a,b){this.inner.addType(a,Math.min(b,this.weight))},propagatesTo:function(){return this.inner.propagatesTo()},typeHint:function(){return this.inner.typeHint()},propHint:function(){return this.inner.propHint()}}),Qa=p.Type=function(){};Qa.prototype=m(J,{constructor:Qa,propagate:function(a,b){a.addType(this,b)},hasType:function(a){return a==this},isEmpty:function(){return!1},typeHint:function(){return this},getType:function(){return this}});var Za=p.Prim=function(a,b){this.name=b;this.proto=a};Za.prototype=m(Qa.prototype,{constructor:Za,toString:function(){return this.name},getProp:function(a){return this.proto.hasProp(a)||J},gatherProperties:function(a,b){this.proto&&this.proto.gatherProperties(a,b)}});var Y=p.Obj=function(a,b){this.props||(this.props=Object.create(null));if((this.proto=!0===a?A.protos.Object:a)&&!(this.proto instanceof Y))throw Error("bad "+Object.keys(this.proto).join());if(a&&!b&&a.name&&!(this instanceof sa)){var d=/^(.*)\.prototype$/.exec(this.proto.name);d&&(b=d[1])}this.name=b;this.maybeProps=null;this.origin=A.curOrigin};Y.prototype=m(Qa.prototype,{constructor:Y,toString:function(a){null==a&&(a=0);if(0>=a&&this.name)return this.name;var b=[],d=!1,e;for(e in this.props)if("\x3ci\x3e"!=e){if(5<b.length){d=!0;break}a?b.push(e+": "+X(this.props[e],a-1,this)):b.push(e)}b.sort();d&&b.push("...");return"{"+b.join(", ")+"}"},hasProp:function(a,b){e(a)&&(a=this.normalizeIntegerProp(a));var d=this.props[a];if(!1!==b)for(var g=this.proto;g&&!d;g=g.proto)d=g.props[a];return d},defProp:function(a,b){var d=this.hasProp(a,!1);if(d)return b&&!d.originNode&&(d.originNode=b),d;if(B(a))return J;e(a)&&(a=this.normalizeIntegerProp(a));(d=this.maybeProps&&this.maybeProps[a])?(delete this.maybeProps[a],this.maybeUnregProtoPropHandler()):(d=new fa,d.propertyOf=this,d.propertyName=a);this.props[a]=d;d.originNode=b;d.origin=A.curOrigin;this.broadcastProp(a,d,!0);return d},getProp:function(a){var b=this.hasProp(a,!0)||this.maybeProps&&this.maybeProps[a];if(b)return b;if(B(a))return J;e(a)&&(a=this.normalizeIntegerProp(a));b=this.ensureMaybeProps()[a]=new fa;b.propertyOf=this;b.propertyName=a;return b},normalizeIntegerProp:function(a){return"\x3ci\x3e"},broadcastProp:function(a,b,d){d&&(this.signal("addProp",a,b),this instanceof Ha||(A.props[a]||(A.props[a]=[])).push(this));if(this.onNewProp)for(var e=0;e<this.onNewProp.length;++e){var g=this.onNewProp[e];g.onProtoProp?g.onProtoProp(a,b,d):g(a,b,d)}},onProtoProp:function(a,b,d){if(d=this.maybeProps&&this.maybeProps[a])delete this.maybeProps[a],this.maybeUnregProtoPropHandler(),this.proto.getProp(a).propagate(d);this.broadcastProp(a,b,!1)},replaceProto:function(a){this.proto&&this.maybeProps&&this.proto.unregPropHandler(this);this.proto=a;this.maybeProps&&this.proto.forAllProps(this)},ensureMaybeProps:function(){this.maybeProps||(this.proto&&this.proto.forAllProps(this),this.maybeProps=Object.create(null));return this.maybeProps},removeProp:function(a){var b=this.props[a];delete this.props[a];this.ensureMaybeProps()[a]=b;b.types.length=0},forAllProps:function(a){this.onNewProp||(this.onNewProp=[],this.proto&&this.proto.forAllProps(this));this.onNewProp.push(a);for(var b=this;b;b=b.proto)for(var d in b.props)if(a.onProtoProp)a.onProtoProp(d,b.props[d],b==this);else a(d,b.props[d],b==this)},maybeUnregProtoPropHandler:function(){if(this.maybeProps){for(var a in this.maybeProps)return;this.maybeProps=null}!this.proto||this.onNewProp&&this.onNewProp.length||this.proto.unregPropHandler(this)},unregPropHandler:function(a){for(var b=0;b<this.onNewProp.length;++b)if(this.onNewProp[b]==a){this.onNewProp.splice(b,1);break}this.maybeUnregProtoPropHandler()},gatherProperties:function(a,b){for(var d in this.props)"\x3ci\x3e"!=d&&":"!=d.charAt(0)&&a(d,this,b);this.proto&&this.proto.gatherProperties(a,b+1)},getObjType:function(){return this}});var Db="undefined"!=typeof StopIteration,sa=p.Fn=function(a,b,d,e,g,k){Y.call(this,A.protos.Function,a);this.self=b;this.args=d;this.argNames=e;this.retval=g;this.generator=k};sa.prototype=m(Y.prototype,{constructor:sa,toString:function(a){null==a&&(a=0);for(var b=this.generator?"fn*(":"fn(",d=0;d<this.args.length;++d){d&&(b+=", ");var e=this.argNames[d];e&&"?"!=e&&(b+=e+": ");b+=-3<a?X(this.args[d],a-1,this):"?"}b+=")";this.retval.isEmpty()||(b+=" -\x3e "+(-3<a?X(this.retval,a-1,this):"?"));return b},getProp:function(a){if("prototype"==a){var b=this.hasProp(a,!1);b||(b=this.defProp(a),a=new Y(!0,this.name&&this.name+".prototype"),a.origin=this.origin,b.addType(a,10));return b}return Y.prototype.getProp.call(this,a)},defProp:function(a,b){if("prototype"==a){var d=this.hasProp(a,!1);if(d)return d;d=Y.prototype.defProp.call(this,a,b);d.origin=this.origin;d.propagate(new Dc(this));return d}return Y.prototype.defProp.call(this,a,b)},getFunctionType:function(){return this}});var ta=p.Arr=function(a){Y.call(this,A.protos.Array);var b=this.defProp("\x3ci\x3e");if(Array.isArray(a)){this.tuple=a.length;for(var d=0;d<a.length;d++){var e=this.defProp(String(d));a[d].propagate(e);e.propagate(b)}}else a&&(this.tuple=0,a.propagate(b))};ta.prototype=m(Y.prototype,{constructor:ta,toString:function(a){null==a&&(a=0);if(-3>=a)return"[?]";var b="";if(this.tuple){for(var d,e=0;e in this.props;e++){var g=X(this.getProp(String(e)),a-1,this);d=null==d?g:d!=g?!1:g;b+=(b?", ":"")+g}d&&(b=d)}else b=X(this.getProp("\x3ci\x3e"),a-1,this);return"["+b+"]"},normalizeIntegerProp:function(a){return+a<this.tuple?a:"\x3ci\x3e"}});var $a=p.Sym=function(a,b){Za.call(this,A.protos.Symbol,"Symbol");this.symName=a;this.originNode=b};$a.prototype=m(Za.prototype,{constructor:$a,asPropName:function(){return":"+this.symName},getSymbolType:function(){return this}});p.getSymbol=function(a,b){var d=a.replace(/[^\w$\.]/g,"_"),e=A.symbols[d];return e?(b&&!e.originNode&&(e.originNode=b),e):A.symbols[d]=new $a(d,b)};p.Context=function(a,b){this.parent=b;this.props=Object.create(null);this.protos=Object.create(null);this.origins=[];this.curOrigin="ecma5";this.paths=Object.create(null);this.definitions=Object.create(null);this.purgeGen=0;this.curSuperCtor=this.curSuper=this.disabledComputing=this.workList=null;this.symbols=Object.create(null);p.withContext(this,function(){A.protos.Object=new Y(null,"Object.prototype");A.topScope=new Ha;A.topScope.name="\x3ctop\x3e";A.protos.Array=new Y(!0,"Array.prototype");A.protos.Function=new sa("Function.prototype",J,[],[],J);A.protos.Function.proto=A.protos.Object;A.protos.RegExp=new Y(!0,"RegExp.prototype");A.protos.String=new Y(!0,"String.prototype");A.protos.Number=new Y(!0,"Number.prototype");A.protos.Boolean=new Y(!0,"Boolean.prototype");A.protos.Symbol=new Y(!0,"Symbol.prototype");A.str=new Za(A.protos.String,"string");A.bool=new Za(A.protos.Boolean,"bool");A.num=new Za(A.protos.Number,"number");A.curOrigin=null;if(a)for(var b=0;b<a.length;++b)n.load(a[b])})};p.Context.prototype.startAnalysis=function(){this.disabledComputing=this.workList=this.curSuperCtor=this.curSuper=null};var A=null;p.cx=function(){return A};p.withContext=function(a,b){var d=A;A=a;try{return b()}finally{A=d}};p.TimedOut=function(){this.message="Timed out";this.stack=Error().stack};p.TimedOut.prototype=Object.create(Error.prototype);p.TimedOut.prototype.name="infer.TimedOut";var ma;p.withTimeout=function(a,b){var d=+new Date+a,e=ma;if(e&&e<d)return b();ma=d;try{return b()}finally{ma=e}};p.addOrigin=function(a){0>A.origins.indexOf(a)&&A.origins.push(a)};var ab=20,Sb=1E-4,Ha=p.Scope=function(a,b,d){Y.call(this,a||!0);this.prev=a;this.originNode=b;this.isBlock=!!d};Ha.prototype=m(Y.prototype,{constructor:Ha,defVar:function(a,b){for(var d=this;;d=d.proto){var e=d.props[a];if(e)return e;if(!d.prev)return d.defProp(a,b)}}});var Eb={},Ia=p.scopeGatherer=u.make({VariablePattern:function(a,b){b.inner&&P(b.inner,a)},AssignmentPattern:function(a,b,d){d(a.left,b,"Pattern");d(a.right,b.outer,"Expression")},AssignmentExpression:function(a,b,d){"MemberExpression"==a.left.type?d(a.left,b,"Expression"):d(a.left,L(!1,b),"Pattern");d(a.right,b,"Expression")},Function:function(a,b,d){if(b.inner)throw Error("problem at "+a.start+" "+a.type);for(var e=a.scope=new Ha(b,a),g=[],k=[],m=0;m<a.params.length;++m){var n=a.params[m];k.push(K(n));if("Identifier"==n.type)g.push(P(e,n));else{var p=new fa;g.push(p);p.originNode=n;d(n,L(e),"Pattern")}}e.fnType=new sa(a.id&&a.id.name,new fa,g,k,J,a.generator);e.fnType.originNode=a;a.id&&P("FunctionDeclaration"==a.type?b:e,a.id);d(a.body,e,a.expression?"Expression":"Statement")},BlockStatement:function(a,b,d){!a.scope&&a.body.some(R)&&(b=a.scope=new Ha(b,a,!0));u.base.BlockStatement(a,b,d)},TryStatement:function(a,b,d){d(a.block,b,"Statement");if(a.handler)if("Identifier"==a.handler.param.type){var e=P(b,a.handler.param);d(a.handler.body,b,"Statement");var g=A.definitions.ecma5;g&&e.isEmpty()&&ra(g["Error.prototype"]).propagate(e,6)}else d(a.handler.param,L(b),"Pattern");a.finalizer&&d(a.finalizer,b,"Statement")},VariableDeclaration:function(a,b,d){for(var e="var"==a.kind?w(b):b,g=0;g<a.declarations.length;++g){var k=a.declarations[g];d(k.id,L(e,b),"Pattern");k.init&&d(k.init,b,"Expression")}},ClassDeclaration:function(a,b,d){P(b,a.id);a.superClass&&d(a.superClass,b,"Expression");for(var e=0;e<a.body.body.length;e++)d(a.body.body[e],b)},ForInStatement:function(a,b,d){!a.scope&&R(a.left)&&(b=a.scope=new Ha(b,a,!0));u.base.ForInStatement(a,b,d)},ForStatement:function(a,b,d){!a.scope&&a.init&&R(a.init)&&(b=a.scope=new Ha(b,a,!0));u.base.ForStatement(a,b,d)},ImportDeclaration:function(a,b){for(var d=0;d<a.specifiers.length;d++)P(b,a.specifiers[d].local)}});Ia.ForOfStatement=Ia.ForInStatement;var bb=p.propName=function(a,b){var d=a.property||a.key;if(!a.computed&&"Identifier"==d.type)return d.name;if("Literal"==d.type){if("string"==typeof d.value)return d.value;if("number"==typeof d.value)return String(d.value)}if(b){if(d=U(N(d,b)))return a.propName=d}else if(a.propName)return a.propName;return"\x3ci\x3e"},ub=p.inferPatternVisitor={Identifier:function(a,b,d){d.propagate(oa(a,b))},MemberExpression:function(a,b,d){var e=N(a.object,b);b=bb(a,b);e.propagate(new sb(b,d,a.property))},RestElement:function(a,b,d){ia(a.argument,b,new ta(d))},ObjectPattern:function(a,b,d){for(var e=0;e<a.properties.length;++e){var g=a.properties[e];ia(g.value,b,d.getProp(g.key.name))}},ArrayPattern:function(a,b,d){for(var e=0;e<a.elements.length;e++)a.elements[e]&&ia(a.elements[e],b,d.getProp(String(e)))},AssignmentPattern:function(a,b,d){var e=a.left;a=N(a.right,b);if(d!=a&&a!=J)if(d==J)d=a;else{var g=new fa;d.propagate(g);a.propagate(g);d=g}ia(e,b,d)}},Ta=p.inferExprVisitor={ArrayExpression:pa(function(a,b){return ea(a.elements,b,N)}),ObjectExpression:pa(function(a,b,d){for(var e=!0,g,k=0;k<a.properties.length;++k){var m=a.properties[k];if("__proto__"==m.key.name)if("Literal"==m.value.type&&null==m.value.value)e=null;else{var m=N(m.value,b),n=m.getObjType();n?e=n:g=m}}var p=a.objType=new Y(e,d);g&&g.propagate(new Pa(p));p.originNode=a;G(null,g||e,function(){for(var d=0;d<a.properties.length;++d){var e=a.properties[d],g=e.key;if(!B(e.key.name)){var k=bb(e,b);if("\x3ci\x3e"==k||"set"==e.kind)g=J;else{var m=g=p.defProp(k,g);m.initializer=!0;"get"==e.kind&&(g=new Ya(p,[],null,m))}N(e.value,b,g,k);"FunctionExpression"==e.value.type&&e.value.scope.fnType.self.addType(p,2)}}});return p}),FunctionExpression:pa(function(a,b,d){var e=a.scope,g=e.fnType;d&&!g.name&&(g.name=d);Ea(a,e);a.expression?N(a.body,e,e.fnType.retval=new fa):u.recursive(a.body,e,null,Fb,"Statement");"ArrowFunctionExpression"==a.type&&(Fa(b).propagate(g.self),g.self=J);y(a,g)||D(g);a.id&&e.getProp(a.id.name).addType(g);return g}),ClassExpression:pa(da),SequenceExpression:pa(function(a,b){for(var d=0,e=a.expressions.length-1;d<e;++d)N(a.expressions[d],b,J);return N(a.expressions[e],b)}),UnaryExpression:pa(function(a,b){N(a.argument,b,J);return aa(a.operator)}),UpdateExpression:pa(function(a,b){N(a.argument,b,J);return A.num}),BinaryExpression:pa(function(a,b){if("+"==a.operator){var d=N(a.left,b),e=N(a.right,b);if(d.hasType(A.str)||e.hasType(A.str))return A.str;if(d.hasType(A.num)&&e.hasType(A.num))return A.num;var g=new fa;d.propagate(new Na(e,g));e.propagate(new Na(d,g));return g}N(a.left,b,J);N(a.right,b,J);return V(a.operator)?A.bool:A.num}),AssignmentExpression:pa(function(a,b,d){var e;"MemberExpression"==a.left.type?(e=bb(a.left,b),d||(d="Identifier"==a.left.object.type?a.left.object.name+"."+e:e)):d||"Identifier"!=a.left.type||(d=a.left.name);a.operator&&"\x3d"!=a.operator&&"+\x3d"!=a.operator?(N(a.right,b,J),d=A.num):d=N(a.right,b,null,d);if("MemberExpression"==a.left.type){var g=N(a.left.object,b);"prototype"==e&&C(b,20);if("\x3ci\x3e"==e){var k=a.left.property.name,m=b.props[k];if(m=m&&m.iteratesOver){C(b,20);var n="MemberExpression"==a.right.type&&a.right.computed&&a.right.property.name==k;m.forAllProps(function(a,b,d){d&&"prototype"!=a&&"\x3ci\x3e"!=a&&g.propagate(new sb(a,n?b:J))});return d}}g.propagate(new sb(e,d,a.left.property));Va(g);"FunctionExpression"==a.right.type&&g.propagate(a.right.scope.fnType.self,2)}else ia(a.left,b,d);return d}),LogicalExpression:va(function(a,b,d){N(a.left,b,d);N(a.right,b,d)}),ConditionalExpression:va(function(a,b,d){N(a.test,b,J);N(a.consequent,b,d);N(a.alternate,b,d)}),NewExpression:va(function(a,b,d,e){"Identifier"==a.callee.type&&a.callee.name in b.props&&C(b,20);for(var g=0,k=[];g<a.arguments.length;++g)k.push(N(a.arguments[g],b));b=N(a.callee,b);g=new fa;b.propagate(new lb(g,e&&/\.prototype$/.test(e)));g.propagate(d,90);b.propagate(new Ya(g,k,a.arguments,new ba(d)))}),CallExpression:va(function(a,b,d){for(var e=0,g=[];e<a.arguments.length;++e)g.push(N(a.arguments[e],b));e=w(b).fnType;if("MemberExpression"==a.callee.type){var k=N(a.callee.object,b),m=bb(a.callee,b);e&&("call"==m||"apply"==m)&&-1<e.args.indexOf(k)&&C(b,30);k.propagate(new gb(m,g,a.arguments,d))}else"Super"==a.callee.type&&A.curSuperCtor?A.curSuperCtor.propagate(new Ya(Fa(b),g,a.arguments,d)):(k=N(a.callee,b),e&&-1<e.args.indexOf(k)&&C(b,30),(m=k.getFunctionType())&&m.instantiateScore&&e&&C(b,m.instantiateScore/5),k.propagate(new Ya(A.topScope,g,a.arguments,d)))}),MemberExpression:va(function(a,b,d){var e=bb(a),g;if("\x3ci\x3e"==e){var k=N(a.property,b),m=U(k);m?e=a.propName=m:k.hasType(A.num)||(g=6)}N(a.object,b).getProp(e).propagate(d,g)}),Identifier:pa(function(a,b){if("arguments"==a.name){var d=w(b);!d.fnType||a.name in d.props||b.defProp(a.name,d.fnType.originNode).addType(new ta(d.fnType.arguments=new fa))}return b.getProp(a.name)}),ThisExpression:pa(function(a,b){return Fa(b)}),Super:pa(function(a){return a.superType=A.curSuper||J}),Literal:pa(function(a){return ua(a)}),TemplateLiteral:pa(function(a,b){for(var d=0;d<a.expressions.length;++d)N(a.expressions[d],b,J);return A.str}),TaggedTemplateExpression:va(function(a,b,d){for(var e=[new ta(A.str)],g=0;g<a.quasi.expressions.length;++g)e.push(N(a.quasi.expressions[g],b));N(a.tag,b,new Ya(A.topScope,e,a.quasi.expressions,d))}),YieldExpression:pa(function(a,b){var d=J,e=w(b).fnType;e&&(e.retval==J&&(e.retval=new fa),e.yieldval||(e.yieldval=new fa),d=e.retval);a.argument&&(a.delegate?N(a.argument,b,new gb("next",[],null,new xa("value",d))):N(a.argument,b,d));return e?e.yieldval:J})};Ta.ArrowFunctionExpression=Ta.FunctionExpression;var Fb=p.inferWrapper=u.make({Expression:function(a,b){N(a,a.scope||b,J)},FunctionDeclaration:function(a,b,d){var e=a.scope,g=e.fnType;Ea(a,e);d(a.body,e,"Statement");y(a,g)||D(g);b.getProp(a.id.name).addType(g)},Statement:function(a,b,d){d(a,a.scope||b)},VariableDeclaration:function(a,b){for(var d=0;d<a.declarations.length;++d){var e=a.declarations[d];if("Identifier"==e.id.type){var g=b.getProp(e.id.name);e.init&&N(e.init,b,g,e.id.name)}else e.init&&ia(e.id,b,N(e.init,b))}},ClassDeclaration:function(a,b){b.getProp(a.id.name).addType(da(a,b,a.id.name))},ReturnStatement:function(a,b){if(a.argument){var d=J,e=w(b).fnType;e&&(e.retval==J&&(e.retval=new fa),d=e.retval);N(a.argument,b,d)}},ForInStatement:function(a,b,d){var e=N(a.right,b);if("Identifier"==a.right.type&&a.right.name in b.props||"MemberExpression"==a.right.type&&"prototype"==a.right.property.name){C(b,5);var g=ja(a.left);"Identifier"==g.type?(g.name in b.props&&(b.getProp(g.name).iteratesOver=e),e.getProp("\x3ci\x3e").propagate(oa(g,b))):ia(g,b,e.getProp("\x3ci\x3e"))}d(a.body,b,"Statement")},ForOfStatement:function(a,b,d){var e=ja(a.left),g;"Identifier"==e.type?g=oa(e,b):ia(e,b,g=new fa);N(a.right,b,new gb(":Symbol.iterator",[],null,new gb("next",[],null,new xa("value",g))));d(a.body,b,"Statement")}}),M=p.parse=function(a,d,e){if(!d||Array.isArray(d))d=e;var g;try{g=b.parse(a,d)}catch(k){g=v.parse_dammit(a,d)}return g};p.analyze=function(a,b,d){"string"==typeof a&&(a=M(a));b||(b="file#"+A.origins.length);p.addOrigin(A.curOrigin=b);d||(d=A.topScope);A.startAnalysis();u.recursive(a,d,null,Ia);A.parent&&A.parent.signal("preInfer",a,d);u.recursive(a,d,null,Fb);A.parent&&A.parent.signal("postInfer",a,d);A.curOrigin=null};p.purge=function(a,b,d){a=Ba(a,b,d);++A.purgeGen;A.topScope.purge(a);for(var e in A.props){b=A.props[e];for(d=0;d<b.length;++d){var g=b[d].props[e];g&&!a(g,g.originNode)||b.splice(d--,1)}b.length||delete A.props[e]}};fa.prototype.purge=function(a){if(this.purgeGen!=A.purgeGen){this.purgeGen=A.purgeGen;for(var b=0;b<this.types.length;++b){var d=this.types[b];a(d,d.originNode)?this.types.splice(b--,1):d.purge(a)}this.types.length||(this.maxWeight=0);if(this.forward)for(b=0;b<this.forward.length;++b)d=this.forward[b],a(d)?(this.forward.splice(b--,1),this.props&&(this.props=null)):d.purge&&d.purge(a)}};J.purge=function(){};Y.prototype.purge=function(a){if(this.purgeGen==A.purgeGen)return!0;this.purgeGen=A.purgeGen;for(var b in this.props){var d=this.props[b];a(d,d.originNode)&&this.removeProp(b);d.purge(a)}};sa.prototype.purge=function(a){if(!Y.prototype.purge.call(this,a)){this.self.purge(a);this.retval.purge(a);for(var b=0;b<this.args.length;++b)this.args[b].purge(a)}};var Tb=p.typeFinder={ArrayExpression:function(a,b){return ea(a.elements,b,ka)},ObjectExpression:function(a){return a.objType},ClassExpression:function(a){return a.objType},FunctionExpression:function(a){return a.scope.fnType},ArrowFunctionExpression:function(a){return a.scope.fnType},SequenceExpression:function(a,b){return ka(a.expressions[a.expressions.length-1],b)},UnaryExpression:function(a){return aa(a.operator)},UpdateExpression:function(){return A.num},BinaryExpression:function(a,b){if(V(a.operator))return A.bool;if("+"==a.operator){var d=ka(a.left,b),e=ka(a.right,b);if(d.hasType(A.str)||e.hasType(A.str))return A.str}return A.num},AssignmentExpression:function(a,b){return ka(a.right,b)},LogicalExpression:function(a,b){var d=ka(a.left,b);return d.isEmpty()?ka(a.right,b):d},ConditionalExpression:function(a,b){var d=ka(a.consequent,b);return d.isEmpty()?ka(a.alternate,b):d},NewExpression:function(a,b){var d=ka(a.callee,b).getFunctionType(),e=d&&d.getProp("prototype").getObjType();return e?ra(e,d):J},CallExpression:function(a,b){return Ma(a.callee,a.arguments,b)},MemberExpression:function(a,b){var d=bb(a),e=ka(a.object,b).getType();if(e)return e.getProp(d);if("\x3ci\x3e"==d)return J;a:{Ub=!0;if(e=A.props[d])for(var g=0;g<e.length;++g){var k=e[g].getProp(d);if(!k.isEmpty()){d=k;break a}}d=J}return d},MethodDefinition:function(a){var b=a.key.name;return(a=Fa(a.value.scope).getType())?a.getProp(b):J},Identifier:function(a,b){return b.hasProp(a.name)||J},ThisExpression:function(a,b){return Fa(b)},Literal:function(a){return ua(a)},Super:pa(function(a){return a.superType}),TemplateLiteral:function(){return A.str},TaggedTemplateExpression:function(a,b){return Ma(a.tag,a.quasi.expressions,b)},YieldExpression:function(a,b){var d=w(b).fnType;return d?d.yieldval:J}},Gb=p.searchVisitor=u.make({Function:function(a,b,d){u.base.Function(a,a.scope,d)},Property:function(a,b,d){a.computed&&d(a.key,b,"Expression");a.key!=a.value&&d(a.value,b,"Expression")},Statement:function(a,b,d){d(a,a.scope||b)},ImportSpecifier:function(a,b,d){d(a.local,b)},ImportDefaultSpecifier:function(a,b,d){d(a.local,b)},ImportNamespaceSpecifier:function(a,b,d){d(a.local,b)}});p.fullVisitor=u.make({MemberExpression:function(a,b,d){d(a.object,b,"Expression");d(a.property,b,a.computed?"Expression":null)},ObjectExpression:function(a,b,d){for(var e=0;e<a.properties.length;++e)d(a.properties[e].value,b,"Expression"),d(a.properties[e].key,b)}},Gb);p.findExpressionAt=function(a,b,d,e,g){return u.findNodeAt(a,b,d,g||function(a,b){return"Identifier"==b.type&&"\u2716"==b.name?!1:Tb.hasOwnProperty(b.type)},Gb,e||A.topScope)};p.findExpressionAround=function(a,b,d,e,g){return u.findNodeAround(a,d,g||function(a,d){return null!=b&&d.start>b||"Identifier"==d.type&&"\u2716"==d.name?!1:Tb.hasOwnProperty(d.type)},Gb,e||A.topScope)};p.expressionType=function(a){return ka(a.node,a.state)};p.parentNode=function(a,b){function d(b,g,k){if(b.start<=a.start&&b.end>=a.end){var m=e[e.length-1];if(b==a)throw{found:m};m!=b&&e.push(b);u.base[k||b.type](b,g,d);m!=b&&e.pop()}}var e=[];try{d(b,null)}catch(g){if(g.found)return g.found;throw g;}};var ob=p.findTypeFromContext={ArrayExpression:function(a,b,d){return d(a,!0).getProp("\x3ci\x3e")},ObjectExpression:function(a,b,d){for(var e=0;e<a.properties.length;++e){var g=b.properties[e];if(g.value==b)return d(a,!0).getProp(g.key.name)}},UnaryExpression:function(a){return aa(a.operator)},UpdateExpression:function(){return A.num},BinaryExpression:function(a){return V(a.operator)?A.bool:A.num},AssignmentExpression:function(a,b,d){return d(a.left)},LogicalExpression:function(a,b,d){return d(a,!0)},ConditionalExpression:function(a,b,d){if(a.consequent==b||a.alternate==b)return d(a,!0)},CallExpression:function(a,b,d){for(var e=0;e<a.arguments.length;e++)if(a.arguments[e]==b){a=d(a.callee).getFunctionType();if(a instanceof sa)return a.args[e];break}},ReturnStatement:function(a,b,d){if(a=u.findNodeAround(b.sourceFile.ast,b.start,"Function"))if(d="FunctionDeclaration"!=a.node.type?d(a.node,!0).getFunctionType():a.node.scope.fnType)return d.retval.getType()},VariableDeclarator:function(a,b,d){if(a.init==b)return d(a.id)}};ob.NewExpression=ob.CallExpression;p.typeFromContext=function(a,b){var d=p.parentNode(b.node,a),e=null;ob.hasOwnProperty(d.type)&&(e=(e=ob[d.type])&&e(d,b.node,function(d,e){var g={node:d,state:b.state};return(e?p.typeFromContext(a,g):p.expressionType(g))||J}));return e||p.expressionType(b)};var Ub=!1;p.resetGuessing=function(a){Ub=a};p.didGuess=function(){return Ub};p.forAllPropertiesOf=function(a,b){a.gatherProperties(b,0)};var Ec=u.make({},Gb);p.findRefs=function(a,b,d,e,g){Ec.Identifier=Ec.VariablePattern=function(a,b){if(a.name==d)for(var k=b;k&&!(k==e&&g(a,b),d in k.props);k=k.prev);};u.recursive(a,b,null,Ec)};var Vb=u.make({Function:function(a,b,d){d(a.body,a.scope,a.expression?"Expression":"Statement")},Statement:function(a,b,d){d(a,a.scope||b)}});p.findPropRefs=function(a,b,d,e,g){function k(a){for(;a&&a!=d;){if(a.props[e]||a.maybeProps&&a.maybeProps[e])return!1;a=a.proto}return a}for(;!(!d||d.props[e]||d.maybeProps&&d.maybeProps[e]);)d=d.proto;if(!d)throw Error("Couldn't locate property in the base object type.");u.simple(a,{MemberExpression:function(a,b){a.computed||a.property.name!=e||k(ka(a.object,b).getType())&&g(a.property,b)},ObjectExpression:function(a,b){if(ka(a,b).getType()==d)for(var k=0;k<a.properties.length;++k)a.properties[k].key.name==e&&g(a.properties[k].key,b)},MethodDefinition:function(a){a.key.name==e&&a.value&&k(Fa(a.value.scope).getType())&&g(a.key,a.value.scope)}},Vb,b)};var yc=p.scopeAt=function(a,b,d){return(a=u.findNodeAround(a,b,function(a,b){return b.scope}))?a.node.scope:d||A.topScope};p.forAllLocalsAt=function(a,b,d,e){yc(a,b,d).gatherProperties(e,0)};n=p.def=n.init({},p)});(function(p){if("object"==typeof exports&&"object"==typeof module)return p(require("../lib/infer"),require("../lib/tern"),require("../lib/comment"),require("acorn"),require("acorn/dist/walk"));if("function"==typeof define&&define.amd)return define(["../lib/infer","../lib/tern","../lib/comment","acorn/dist/acorn","acorn/dist/walk"],p);p(tern,tern,tern.comment,acorn,acorn.walk)})(function(p,b,v,u,n){function r(a,b){function d(a){v.ensureCommentsBefore(b,a)}n.simple(a,{VariableDeclaration:d,FunctionDeclaration:d,MethodDefinition:d,Property:d,AssignmentExpression:function(a){"\x3d"==a.operator&&d(a)},CallExpression:function(a){m(a)&&d(a)}})}function m(a){return"MemberExpression"==a.callee.type&&"Object"==a.callee.object.name&&"defineProperty"==a.callee.property.name&&3<=a.arguments.length&&"string"==typeof a.arguments[1].value}function k(a,b){H(a.sourceFile.text,b);n.simple(a,{VariableDeclaration:function(a,b){var e=a.declarations[0].id;a.commentsBefore&&"Identifier"==e.type&&d(a,a.commentsBefore,b,b.getProp(a.declarations[0].id.name))},FunctionDeclaration:function(a,b){a.commentsBefore&&d(a,a.commentsBefore,b,b.getProp(a.id.name),a.scope.fnType)},ClassDeclaration:function(a,b){a.commentsBefore&&d(a,a.commentsBefore,b,b.getProp(a.id.name),a.objType)},AssignmentExpression:function(a,b){a.commentsBefore&&d(a,a.commentsBefore,b,p.expressionType({node:a.left,state:b}))},ObjectExpression:function(a,b){for(var e=0;e<a.properties.length;++e){var g=a.properties[e],k=p.propName(g);"\x3ci\x3e"!=k&&g.commentsBefore&&d(g,g.commentsBefore,b,a.objType.getProp(k))}},Class:function(a,b){var e=a.objType.getProp("prototype").getObjType();if(e)for(var g=0;g<a.body.body.length;g++){var k=a.body.body[g],m;k.commentsBefore&&("constructor"==k.kind?d(k,k.commentsBefore,b,a.objType):"\x3ci\x3e"!=(m=p.propName(k))&&d(k,k.commentsBefore,b,e.getProp(m)))}},CallExpression:function(a,b){if(a.commentsBefore&&m(a)){var e=p.expressionType({node:a.arguments[0],state:b}).getObjType();e&&e instanceof p.Obj&&(e=e.props[a.arguments[1].value])&&d(a,a.commentsBefore,b,e)}}},p.searchVisitor,b)}function g(a){var b=a["!typedef"],d=p.cx();a=a["!name"];if(b)for(var e in b)d.parent.mod.jsdocTypedefs[e]=w(p.def.parse(b[e],a,e),e)}function a(a){for(var b,d=1;d<a.length;d++){var e=a[d],g=e.match(/^[\s\*]*/)[0];if(g!=e)if(null==b)b=g;else{for(e=0;e<b.length&&b.charCodeAt(e)==g.charCodeAt(e);)++e;e<b.length&&(b=b.slice(0,e))}}for(a=a.map(function(a,d){a=a.replace(/\s+$/,"");if(0==d&&null!=b)for(var e=0;e<b.length;e++)if(0==a.indexOf(b.slice(e)))return a.slice(b.length-e);return null==b||0==d?a.replace(/^[\s\*]*/,""):a.length<b.length?"":a.slice(b.length)});a.length&&!a[a.length-1];)a.pop();for(;a.length&&!a[0];)a.shift();return a}function d(b,d,e,g,k){for(var m,n,r,u,v,w,B=0;B<d.length;++B)for(var G=d[B],H=/(?:\n|$|\*)\s*@(type|param|arg(?:ument)?|returns?|this|class|constructor)\s+(.*)/g,da;da=H.exec(G);)if("class"==da[1]||"constructor"==da[1])v=u=!0;else if("this"==da[1]&&(w=E(e,da[2],0)))v=w,u=!0;else if(w=C(e,da[2]))switch(u=!0,da[1]){case "returns":case "return":r=w;break;case "type":m=w;break;case "param":case "arg":case "argument":da=da[2].slice(w.end).match(/^\s*(\[?)\s*([^\]\s=]+)\s*(?:=[^\]]+\s*)?(\]?).*/);if(!da)continue;da=da[2]+(w.isOptional||"["===da[1]&&"]"===da[3]?"?":"");(n||(n=Object.create(null)))[da]=w}if(u){e=m;var ea;"VariableDeclaration"==b.type?(b=b.declarations[0],b.init&&I(b.init)&&(ea=b.init.scope.fnType)):"FunctionDeclaration"==b.type?ea=b.scope.fnType:"AssignmentExpression"==b.type?I(b.right)&&(ea=b.right.scope.fnType):"CallExpression"!=b.type&&I(b.value)&&(ea=b.value.scope.fnType);if(ea&&(n||r||v)){if(n)for(b=0;b<ea.argNames.length;++b)e=ea.argNames[b],m=n[e],!m&&(m=n[e+"?"])&&(ea.argNames[b]+="?"),m&&y(m,ea.args[b]);r&&(ea.retval==p.ANull&&(ea.retval=new p.AVal),y(r,ea.retval));!0===v&&(v=(b=ea.getProp("prototype").getObjType())&&{type:p.getInstance(b,ea)});v&&y(v,ea.self)}else e&&y(e,g)}ea=p.cx();!k&&g instanceof p.AVal&&g.types.length&&(k=g.types[g.types.length-1],k instanceof p.Obj&&k.origin==ea.curOrigin&&!k.doc||(k=null));for(ea=d.length-1;0<=ea;ea--)if(b=a(d[ea].split(/\r\n?|\n/)).join("\n")){g instanceof p.AVal&&(g.doc=b);k&&(k.doc=b);break}}function e(a,b){for(;/\s/.test(a.charAt(b));)++b;return b}function B(a,b,d,g){for(var k=[],m=[],n=!1,p=!0;;p=!1){d=e(b,d);if(p&&b.charAt(d)==g)break;p=b.indexOf(":",d);if(0>p)return null;d=b.slice(d,p);var r;a:if(r=d,u.isIdentifierStart(r.charCodeAt(0))){for(var v=1;v<r.length;v++)if(!u.isIdentifierChar(r.charCodeAt(v))){r=!1;break a}r=!0}else r=!1;if(!r)return null;k.push(d);d=p+1;p=E(a,b,d);if(!p)return null;d=p.end;n=n||p.madeUp;m.push(p.type);d=e(b,d);p=b.charAt(d);++d;if(p==g)break;if(","!=p)return null}return{labels:k,types:m,end:d,madeUp:n}}function E(a,b,d){for(var g,k=!1,m=!1;;){var n=b;d=(d=G(a,n,d))?"[]"==n.slice(d.end,d.end+2)?{madeUp:d.madeUp,end:d.end+2,type:new p.Arr(d.type)}:d:null;if(!d)return null;m=m||d.madeUp;k?d.type.propagate(k):g=d.type;d=e(b,d.end);if("|"!=b.charAt(d))break;d++;k||(k=new p.AVal,g.propagate(k),g=k)}a=!1;"\x3d"==b.charAt(d)&&(++d,a=!0);return{type:g,end:d,isOptional:a,madeUp:m}}function G(a,b,d){d=e(b,d);var g,k=!1;if(b.indexOf("function(",d)==d){g=B(a,b,d+9,")");var m=p.ANull;if(!g)return null;d=e(b,g.end);if(":"==b.charAt(d)){++d;k=E(a,b,d+1);if(!k)return null;d=k.end;m=k.type;k=k.madeUp}g=new p.Fn(null,p.ANull,g.types,g.labels,m)}else if("["==b.charAt(d)){g=E(a,b,d+1);if(!g)return null;d=e(b,g.end);k=g.madeUp;if("]"!=b.charAt(d))return null;++d;g=new p.Arr(g.type)}else if("{"==b.charAt(d)){k=B(a,b,d+1,"}");if(!k)return null;g=new p.Obj(!0);for(d=0;d<k.types.length;++d)a=g.defProp(k.labels[d]),a.initializer=!0,k.types[d].propagate(a);d=k.end;k=k.madeUp}else if("("==b.charAt(d)){g=E(a,b,d+1);if(!g)return null;d=e(b,g.end);if(")"!=b.charAt(d))return null;++d;g=g.type}else{g=d;if(!u.isIdentifierStart(b.charCodeAt(d)))return null;for(;u.isIdentifierChar(b.charCodeAt(d));)++d;if(g==d)return null;m=b.slice(g,d);if(/^(number|integer)$/i.test(m))g=p.cx().num;else if(/^bool(ean)?$/i.test(m))g=p.cx().bool;else if(/^string$/i.test(m))g=p.cx().str;else if(/^(null|undefined)$/i.test(m))g=p.ANull;else if(/^array$/i.test(m)){g=null;if("."==b.charAt(d)&&"\x3c"==b.charAt(d+1)){a=E(a,b,d+2);if(!a)return null;d=e(b,a.end);k=a.madeUp;if("\x3e"!=b.charAt(d++))return null;g=a.type}g=new p.Arr(g)}else if(/^object$/i.test(m)){if(g=new p.Obj(!0),"."==b.charAt(d)&&"\x3c"==b.charAt(d+1)){k=E(a,b,d+2);if(!k)return null;d=e(b,k.end);if(","!=b.charAt(d++))return null;a=E(a,b,d);if(!a)return null;d=e(b,a.end);k=k.madeUp||a.madeUp;if("\x3e"!=b.charAt(d++))return null;a.type.propagate(g.defProp("\x3ci\x3e"))}}else{for(;46==b.charCodeAt(d)||u.isIdentifierChar(b.charCodeAt(d));)++d;b=b.slice(g,d);g=p.cx();(m=g.parent&&g.parent.mod.jsdocTypedefs)&&b in m?g=m[b]:(a=p.def.parsePath(b,a).getObjType())?g=w(a,b):(g.jsdocPlaceholders||(g.jsdocPlaceholders=Object.create(null)),g=b in g.jsdocPlaceholders?g.jsdocPlaceholders[b]:g.jsdocPlaceholders[b]=new p.Obj(null,b),k=!0)}}return{type:g,end:d,madeUp:k}}function w(a,b){if(a instanceof p.Fn&&/(?:^|\.)[A-Z][^\.]*$/.test(b)){var d=a.getProp("prototype").getObjType();if(d instanceof p.Obj)return p.getInstance(d)}return a}function C(a,b,d){d=e(b,d||0);if("{"!=b.charAt(d))return null;a=E(a,b,d+1);if(!a)return null;d=e(b,a.end);if("}"!=b.charAt(d))return null;a.end=d+1;return a}function H(a,b){for(var d=p.cx(),e=/\s@typedef\s+(.*)/g,g;g=e.exec(a);){var k=C(b,g[1]),m=k&&g[1].slice(k.end).match(/^\s*(\S+)/);if(m&&k.type instanceof p.Obj){for(var n=a.slice(g.index+g[0].length);g=/\s+@prop(?:erty)?\s+(.*)/.exec(n);){var r=C(b,g[1]),u;r&&(u=g[1].slice(r.end).match(/^\s*(\S+)/))&&r.type.propagate(k.type.defProp(u[1]));n=n.slice(g[0].length)}d.parent.mod.jsdocTypedefs[m[1]]=k.type}}}function y(a,b){var d=p.cx().parent.mod.docComment.weight;a.type.propagate(b,d||(a.madeUp?1:void 0))}function I(a){return"FunctionExpression"==a.type||"ArrowFunctionExpression"==a.type}b.registerPlugin("doc_comment",function(a,b){a.mod.jsdocTypedefs=Object.create(null);a.on("reset",function(){a.mod.jsdocTypedefs=Object.create(null)});a.mod.docComment={weight:b&&b.strong?101:void 0,fullDocs:b&&b.fullDocs};a.on("postParse",r);a.on("postInfer",k);a.on("postLoadDef",g)})});